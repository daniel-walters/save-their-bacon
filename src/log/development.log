  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (61.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "save_their_bacon_development"[0m
  [1m[35m (54.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "save_their_bacon_test"[0m
  [1m[35m (164.2ms)[0m  [1m[35mCREATE DATABASE "save_their_bacon_development" ENCODING = 'unicode'[0m
  [1m[35m (93.7ms)[0m  [1m[35mCREATE DATABASE "save_their_bacon_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (1.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "street_number" character varying, "street_name" character varying, "postcode" character varying, "suburb" character varying, "state_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_state_id" ON "addresses" ("state_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "animals" CASCADE[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "name" character varying, "year_born" integer, "weight" integer, "bio" text, "species" character varying, "sponsored" boolean DEFAULT FALSE NOT NULL, "sponsor_price" integer, "category_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_animals_on_category_id" ON "animals" ("category_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_animals_on_owner_id" ON "animals" ("owner_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "sponsorship_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_chats_on_sponsorship_id" ON "chats" ("sponsorship_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "chat_id" bigint NOT NULL, "sender_id" bigint NOT NULL, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_messages_on_chat_id" ON "messages" ("chat_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_messages_on_sender_id" ON "messages" ("sender_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "sponsorships" CASCADE[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "sponsorships" ("id" bigserial primary key, "receipt" character varying, "animal_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "sponsor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_animal_id" ON "sponsorships" ("animal_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_owner_id" ON "sponsorships" ("owner_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_sponsor_id" ON "sponsorships" ("sponsor_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "states" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "states" ("id" bigserial primary key, "name" character varying, "country_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_states_on_country_id" ON "states" ("country_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "first_name" character varying, "last_name" character varying, "approved" boolean, "role" integer, "date_of_birth" date, "address_id" bigint NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_users_on_address_id" ON "users" ("address_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_2d87b6c11e"
FOREIGN KEY ("state_id")
  REFERENCES "states" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_fe0d97b5eb"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_8d97761a89"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "chats" ADD CONSTRAINT "fk_rails_4d1bd8a917"
FOREIGN KEY ("sponsorship_id")
  REFERENCES "sponsorships" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_ac0a2a4ca2"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_fb21d21baf"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_bf78e760cb"
FOREIGN KEY ("sponsor_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "states" ADD CONSTRAINT "fk_rails_40bd891262"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_eb2fc738e4"
FOREIGN KEY ("address_id")
  REFERENCES "addresses" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210803020258)[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20210726021338),
(20210726031458),
(20210727000917),
(20210727001212),
(20210727001446),
(20210727002353),
(20210727014626),
(20210727014902),
(20210727021825),
(20210728001211),
(20210803015959);

[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-08-09 10:14:00.489269"], ["updated_at", "2021-08-09 10:14:00.489269"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "69cdbaa3f589c9232fe5672f53bbc72357d59708"], ["created_at", "2021-08-09 10:14:00.496424"], ["updated_at", "2021-08-09 10:14:00.496424"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "street_number" character varying, "street_name" character varying, "postcode" character varying, "suburb" character varying, "state_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_state_id" ON "addresses" ("state_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "animals" CASCADE[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "name" character varying, "year_born" integer, "weight" integer, "bio" text, "species" character varying, "sponsored" boolean DEFAULT FALSE NOT NULL, "sponsor_price" integer, "category_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_animals_on_category_id" ON "animals" ("category_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_animals_on_owner_id" ON "animals" ("owner_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "sponsorship_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_chats_on_sponsorship_id" ON "chats" ("sponsorship_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "chat_id" bigint NOT NULL, "sender_id" bigint NOT NULL, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_messages_on_chat_id" ON "messages" ("chat_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_messages_on_sender_id" ON "messages" ("sender_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "sponsorships" CASCADE[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "sponsorships" ("id" bigserial primary key, "receipt" character varying, "animal_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "sponsor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_animal_id" ON "sponsorships" ("animal_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_owner_id" ON "sponsorships" ("owner_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_sponsor_id" ON "sponsorships" ("sponsor_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "states" CASCADE[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "states" ("id" bigserial primary key, "name" character varying, "country_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_states_on_country_id" ON "states" ("country_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "first_name" character varying, "last_name" character varying, "approved" boolean, "role" integer, "date_of_birth" date, "address_id" bigint NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_users_on_address_id" ON "users" ("address_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_2d87b6c11e"
FOREIGN KEY ("state_id")
  REFERENCES "states" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_fe0d97b5eb"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_8d97761a89"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "chats" ADD CONSTRAINT "fk_rails_4d1bd8a917"
FOREIGN KEY ("sponsorship_id")
  REFERENCES "sponsorships" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_ac0a2a4ca2"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_fb21d21baf"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_bf78e760cb"
FOREIGN KEY ("sponsor_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "states" ADD CONSTRAINT "fk_rails_40bd891262"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_eb2fc738e4"
FOREIGN KEY ("address_id")
  REFERENCES "addresses" ("id")
[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210803020258)[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20210726021338),
(20210726031458),
(20210727000917),
(20210727001212),
(20210727001446),
(20210727002353),
(20210727014626),
(20210727014902),
(20210727021825),
(20210728001211),
(20210803015959);

[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-08-09 10:14:00.715638"], ["updated_at", "2021-08-09 10:14:00.715638"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-08-09 10:14:00.721118"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "69cdbaa3f589c9232fe5672f53bbc72357d59708"], ["created_at", "2021-08-09 10:14:00.727116"], ["updated_at", "2021-08-09 10:14:00.727116"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Australia"], ["created_at", "2021-08-09 10:14:00.796850"], ["updated_at", "2021-08-09 10:14:00.796850"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "states"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Australia"], ["LIMIT", 1]]
  ↳ app/models/state.rb:13:in `check_if_country_exists'
  [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Australia"], ["LIMIT", 1]]
  ↳ app/models/state.rb:13:in `check_if_country_exists'
  [1m[36mState Create (0.7ms)[0m  [1m[32mINSERT INTO "states" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Western australia"], ["country_id", 1], ["created_at", "2021-08-09 10:14:00.829342"], ["updated_at", "2021-08-09 10:14:00.829342"]]
  [1m[36mTRANSACTION (40.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mAddress Create (0.7ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Admin St"], ["postcode", "1234"], ["suburb", "Admington"], ["state_id", 1], ["created_at", "2021-08-09 10:14:00.900928"], ["updated_at", "2021-08-09 10:14:00.900928"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Sponsor St"], ["postcode", "2345"], ["suburb", "Sponsor Lake"], ["state_id", 1], ["created_at", "2021-08-09 10:14:00.908848"], ["updated_at", "2021-08-09 10:14:00.908848"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mState Load (0.4ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Sanctuary St"], ["postcode", "3456"], ["suburb", "Sanctuary Hills"], ["state_id", 1], ["created_at", "2021-08-09 10:14:00.916486"], ["updated_at", "2021-08-09 10:14:00.916486"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "admin@admin.com"], ["encrypted_password", "$2a$12$NJBmDBI9P9gNfiYddjI24.HRhjS1FXaMeR4miV.otAKDjCLv57t3G"], ["created_at", "2021-08-09 10:14:01.161825"], ["updated_at", "2021-08-09 10:14:01.161825"], ["first_name", "Admin"], ["last_name", "Admins"], ["approved", true], ["role", 2], ["date_of_birth", "1980-01-01"], ["address_id", 1]]
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sponsor@sponsor.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "sponsor@sponsor.com"], ["encrypted_password", "$2a$12$mCDXyAoEzJH5LG1MoA8StePEJg4I7LcyC7abAzRohqiW4zOWF.//m"], ["created_at", "2021-08-09 10:14:01.396284"], ["updated_at", "2021-08-09 10:14:01.396284"], ["first_name", "Spon"], ["last_name", "Sor"], ["approved", true], ["role", 0], ["date_of_birth", "1980-01-01"], ["address_id", 2]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sanctuary@sanctuary.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "sanctuary@sanctuary.com"], ["encrypted_password", "$2a$12$5euqbZXy93aVIp3IjOyNaemt.EcO1sbUzudTbao/qSWNg12zcp.3S"], ["created_at", "2021-08-09 10:14:01.616756"], ["updated_at", "2021-08-09 10:14:01.616756"], ["first_name", "Sanc"], ["last_name", "Tuary"], ["approved", false], ["role", 1], ["date_of_birth", "1980-01-01"], ["address_id", 2]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pig"], ["created_at", "2021-08-09 10:14:01.629739"], ["updated_at", "2021-08-09 10:14:01.629739"]]
  [1m[36mTRANSACTION (40.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Cow"], ["created_at", "2021-08-09 10:14:01.674734"], ["updated_at", "2021-08-09 10:14:01.674734"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sheep"], ["created_at", "2021-08-09 10:14:01.679266"], ["updated_at", "2021-08-09 10:14:01.679266"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Chicken"], ["created_at", "2021-08-09 10:14:01.683248"], ["updated_at", "2021-08-09 10:14:01.683248"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Horse"], ["created_at", "2021-08-09 10:14:01.687207"], ["updated_at", "2021-08-09 10:14:01.687207"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Goat"], ["created_at", "2021-08-09 10:14:01.690619"], ["updated_at", "2021-08-09 10:14:01.690619"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Duck"], ["created_at", "2021-08-09 10:14:01.694343"], ["updated_at", "2021-08-09 10:14:01.694343"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Turkey"], ["created_at", "2021-08-09 10:14:01.697728"], ["updated_at", "2021-08-09 10:14:01.697728"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Create (0.7ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "pete the pig"], ["year_born", 2010], ["weight", 100], ["bio", "he a pig oink oink mf"], ["species", "big oinker"], ["sponsor_price", 2000], ["category_id", 1], ["owner_id", 1], ["created_at", "2021-08-09 10:14:01.722892"], ["updated_at", "2021-08-09 10:14:01.722892"]]
  [1m[36mTRANSACTION (39.7ms)[0m  [1m[35mCOMMIT[0m
Started GET "/animals" for ::1 at 2021-08-09 18:14:15 +0800
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AnimalsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.7ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  Rendered animals/_card.html.erb (Duration: 137.2ms | Allocations: 17744)
  Rendered animals/index.html.erb within layouts/application (Duration: 263.2ms | Allocations: 40467)
  Rendered layout layouts/application.html.erb (Duration: 263.4ms | Allocations: 40548)
Completed 500 Internal Server Error in 309ms (ActiveRecord: 57.5ms | Allocations: 53278)


  
ActionView::Template::Error (Error: File to import not found or unreadable: bootstrap/scss/bootstrap.
        on line 26:2 of app/assets/stylesheets/application.scss
>>  @import "bootstrap/scss/bootstrap";

   -^
):
  
app/assets/stylesheets/application.scss:26
Started GET "/animals" for ::1 at 2021-08-09 18:14:50 +0800
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AnimalsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.7ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  Rendered animals/_card.html.erb (Duration: 1630.4ms | Allocations: 55236)
  Rendered animals/index.html.erb within layouts/application (Duration: 1668.7ms | Allocations: 77476)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /Users/daniel/Desktop/stb/src/save-their-bacon/public/packs
[Webpacker] Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.
Though the "loose" option was set to "false" in your @babel/preset-env config, it will not be used for @babel/plugin-proposal-private-methods since the "loose" mode option was set to "true" for @babel/plugin-proposal-class-properties.
The "loose" option must be the same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can silence this warning by explicitly adding
	["@babel/plugin-proposal-private-methods", { "loose": true }]
to the "plugins" section of your Babel config.

[Webpacker] Hash: 03f80710a85cf6319af2
Version: webpack 4.46.0
Time: 5442ms
Built at: 09/08/2021 6:15:02 pm
                                     Asset       Size       Chunks                         Chunk Names
    js/application-ed982ceda8859a16871e.js    664 KiB  application  [emitted] [immutable]  application
js/application-ed982ceda8859a16871e.js.map    776 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-ed982ceda8859a16871e.js js/application-ed982ceda8859a16871e.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 512 bytes {application} [built]
[./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 905 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 6 hidden modules

  Rendered shared/_navbar.html.erb (Duration: 8.1ms | Allocations: 1510)
  Rendered layout layouts/application.html.erb (Duration: 12377.8ms | Allocations: 117667)
Completed 200 OK in 12418ms (Views: 12373.8ms | ActiveRecord: 10.9ms | Allocations: 129047)


Started GET "/animals/1" for ::1 at 2021-08-09 18:15:30 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mAddress Load (0.6ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.7ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.4ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.8ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:81
  Rendered animals/show.html.erb within layouts/application (Duration: 86.4ms | Allocations: 22243)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.4ms | Allocations: 797)
  Rendered layout layouts/application.html.erb (Duration: 105.4ms | Allocations: 31002)
Completed 200 OK in 161ms (Views: 90.0ms | ActiveRecord: 23.1ms | Allocations: 45231)


Started POST "/payments" for ::1 at 2021-08-09 18:15:32 +0800
Processing by PaymentsController#create_payment_intent as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:9:in `create_payment_intent'
  Rendering payments/create_payment_intent.js.erb
  Rendered payments/create_payment_intent.js.erb (Duration: 1.0ms | Allocations: 152)
Completed 200 OK in 1009ms (Views: 8.0ms | ActiveRecord: 0.4ms | Allocations: 6398)


  [1m[35m (14.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4469028670833567540)[0m
  [1m[35m (27.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateArticles (20210809103829)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (45.7ms)[0m  [1m[35mCREATE TABLE "articles" ("id" bigserial primary key, "title" character varying, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20210809103829"]]
  [1m[36mTRANSACTION (7.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4469028670833567540)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (126.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "save_their_bacon_development"[0m
  [1m[35m (68.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "save_their_bacon_test"[0m
  [1m[35m (367.0ms)[0m  [1m[35mCREATE DATABASE "save_their_bacon_development" ENCODING = 'unicode'[0m
  [1m[35m (105.2ms)[0m  [1m[35mCREATE DATABASE "save_their_bacon_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (115.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (164.8ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (44.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (2.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (417.4ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "street_number" character varying, "street_name" character varying, "postcode" character varying, "suburb" character varying, "state_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_state_id" ON "addresses" ("state_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "animals" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "name" character varying, "year_born" integer, "weight" integer, "bio" text, "species" character varying, "sponsored" boolean DEFAULT FALSE NOT NULL, "sponsor_price" integer, "category_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_animals_on_category_id" ON "animals" ("category_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_animals_on_owner_id" ON "animals" ("owner_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles" CASCADE[0m
  [1m[35m (65.8ms)[0m  [1m[35mCREATE TABLE "articles" ("id" bigserial primary key, "title" character varying, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "sponsorship_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_chats_on_sponsorship_id" ON "chats" ("sponsorship_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "chat_id" bigint NOT NULL, "sender_id" bigint NOT NULL, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_messages_on_chat_id" ON "messages" ("chat_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_messages_on_sender_id" ON "messages" ("sender_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "sponsorships" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "sponsorships" ("id" bigserial primary key, "receipt" character varying, "animal_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "sponsor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_animal_id" ON "sponsorships" ("animal_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_owner_id" ON "sponsorships" ("owner_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_sponsor_id" ON "sponsorships" ("sponsor_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "states" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "states" ("id" bigserial primary key, "name" character varying, "country_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_states_on_country_id" ON "states" ("country_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "first_name" character varying, "last_name" character varying, "approved" boolean, "role" integer, "date_of_birth" date, "address_id" bigint NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_users_on_address_id" ON "users" ("address_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (82.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (34.3ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_2d87b6c11e"
FOREIGN KEY ("state_id")
  REFERENCES "states" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_fe0d97b5eb"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_8d97761a89"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "chats" ADD CONSTRAINT "fk_rails_4d1bd8a917"
FOREIGN KEY ("sponsorship_id")
  REFERENCES "sponsorships" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_ac0a2a4ca2"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_fb21d21baf"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_bf78e760cb"
FOREIGN KEY ("sponsor_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "states" ADD CONSTRAINT "fk_rails_40bd891262"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_eb2fc738e4"
FOREIGN KEY ("address_id")
  REFERENCES "addresses" ("id")
[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210809103829)[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20210726021338),
(20210726031458),
(20210727000917),
(20210727001212),
(20210727001446),
(20210727002353),
(20210727014626),
(20210727014902),
(20210727021825),
(20210728001211),
(20210803015959),
(20210803020258);

[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-08-09 10:46:05.060016"], ["updated_at", "2021-08-09 10:46:05.060016"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "4a28e1dc81aafcce80d6bf5ac6f779ffc2460a65"], ["created_at", "2021-08-09 10:46:05.068297"], ["updated_at", "2021-08-09 10:46:05.068297"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (80.4ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (83.3ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "street_number" character varying, "street_name" character varying, "postcode" character varying, "suburb" character varying, "state_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_state_id" ON "addresses" ("state_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "animals" CASCADE[0m
  [1m[35m (28.8ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "name" character varying, "year_born" integer, "weight" integer, "bio" text, "species" character varying, "sponsored" boolean DEFAULT FALSE NOT NULL, "sponsor_price" integer, "category_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_animals_on_category_id" ON "animals" ("category_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_animals_on_owner_id" ON "animals" ("owner_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "articles" ("id" bigserial primary key, "title" character varying, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "sponsorship_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_chats_on_sponsorship_id" ON "chats" ("sponsorship_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "chat_id" bigint NOT NULL, "sender_id" bigint NOT NULL, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_messages_on_chat_id" ON "messages" ("chat_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_messages_on_sender_id" ON "messages" ("sender_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "sponsorships" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "sponsorships" ("id" bigserial primary key, "receipt" character varying, "animal_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "sponsor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_animal_id" ON "sponsorships" ("animal_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_owner_id" ON "sponsorships" ("owner_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_sponsor_id" ON "sponsorships" ("sponsor_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "states" CASCADE[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "states" ("id" bigserial primary key, "name" character varying, "country_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_states_on_country_id" ON "states" ("country_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "first_name" character varying, "last_name" character varying, "approved" boolean, "role" integer, "date_of_birth" date, "address_id" bigint NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_users_on_address_id" ON "users" ("address_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_2d87b6c11e"
FOREIGN KEY ("state_id")
  REFERENCES "states" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_fe0d97b5eb"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_8d97761a89"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "chats" ADD CONSTRAINT "fk_rails_4d1bd8a917"
FOREIGN KEY ("sponsorship_id")
  REFERENCES "sponsorships" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_ac0a2a4ca2"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_fb21d21baf"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_bf78e760cb"
FOREIGN KEY ("sponsor_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "states" ADD CONSTRAINT "fk_rails_40bd891262"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_eb2fc738e4"
FOREIGN KEY ("address_id")
  REFERENCES "addresses" ("id")
[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210809103829)[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20210726021338),
(20210726031458),
(20210727000917),
(20210727001212),
(20210727001446),
(20210727002353),
(20210727014626),
(20210727014902),
(20210727021825),
(20210728001211),
(20210803015959),
(20210803020258);

[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-08-09 10:46:05.480603"], ["updated_at", "2021-08-09 10:46:05.480603"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-08-09 10:46:05.486392"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "4a28e1dc81aafcce80d6bf5ac6f779ffc2460a65"], ["created_at", "2021-08-09 10:46:05.491439"], ["updated_at", "2021-08-09 10:46:05.491439"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (12.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mTRANSACTION (27.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Create (2.4ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Australia"], ["created_at", "2021-08-09 10:46:05.717002"], ["updated_at", "2021-08-09 10:46:05.717002"]]
  [1m[36mTRANSACTION (22.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "states"[0m
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Australia"], ["LIMIT", 1]]
  ↳ app/models/state.rb:13:in `check_if_country_exists'
  [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Australia"], ["LIMIT", 1]]
  ↳ app/models/state.rb:13:in `check_if_country_exists'
  [1m[36mState Create (1.7ms)[0m  [1m[32mINSERT INTO "states" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Western australia"], ["country_id", 1], ["created_at", "2021-08-09 10:46:05.810193"], ["updated_at", "2021-08-09 10:46:05.810193"]]
  [1m[36mTRANSACTION (43.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mAddress Create (1.5ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Admin St"], ["postcode", "1234"], ["suburb", "Admington"], ["state_id", 1], ["created_at", "2021-08-09 10:46:05.890999"], ["updated_at", "2021-08-09 10:46:05.890999"]]
  [1m[36mTRANSACTION (44.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mState Load (0.3ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Sponsor St"], ["postcode", "2345"], ["suburb", "Sponsor Lake"], ["state_id", 1], ["created_at", "2021-08-09 10:46:05.945681"], ["updated_at", "2021-08-09 10:46:05.945681"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mState Load (1.7ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Sanctuary St"], ["postcode", "3456"], ["suburb", "Sanctuary Hills"], ["state_id", 1], ["created_at", "2021-08-09 10:46:05.955006"], ["updated_at", "2021-08-09 10:46:05.955006"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "admin@admin.com"], ["encrypted_password", "$2a$12$cFramSofUAoq4T5ymPvR5ObF1n0dH19C2Fk8sNDsfd1zYjKqviCLS"], ["created_at", "2021-08-09 10:46:06.376757"], ["updated_at", "2021-08-09 10:46:06.376757"], ["first_name", "Admin"], ["last_name", "Admins"], ["approved", true], ["role", 2], ["date_of_birth", "1980-01-01"], ["address_id", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sponsor@sponsor.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "sponsor@sponsor.com"], ["encrypted_password", "$2a$12$N90a..pmKaChJwcy0iExges6YZqfnlfLRc0F1j4FIQVCVYx75DJ3u"], ["created_at", "2021-08-09 10:46:06.626603"], ["updated_at", "2021-08-09 10:46:06.626603"], ["first_name", "Spon"], ["last_name", "Sor"], ["approved", true], ["role", 0], ["date_of_birth", "1980-01-01"], ["address_id", 2]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sanctuary@sanctuary.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "sanctuary@sanctuary.com"], ["encrypted_password", "$2a$12$UAP/WV9g4VGH5.m8aj8HNeExFpm1CqL6D2JNBUWAI6uV6sIFriv2i"], ["created_at", "2021-08-09 10:46:06.897716"], ["updated_at", "2021-08-09 10:46:06.897716"], ["first_name", "Sanc"], ["last_name", "Tuary"], ["approved", false], ["role", 1], ["date_of_birth", "1980-01-01"], ["address_id", 2]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (2.8ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pig"], ["created_at", "2021-08-09 10:46:06.915386"], ["updated_at", "2021-08-09 10:46:06.915386"]]
  [1m[36mTRANSACTION (10.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Cow"], ["created_at", "2021-08-09 10:46:06.932297"], ["updated_at", "2021-08-09 10:46:06.932297"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sheep"], ["created_at", "2021-08-09 10:46:06.937438"], ["updated_at", "2021-08-09 10:46:06.937438"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Chicken"], ["created_at", "2021-08-09 10:46:06.940620"], ["updated_at", "2021-08-09 10:46:06.940620"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Horse"], ["created_at", "2021-08-09 10:46:06.944369"], ["updated_at", "2021-08-09 10:46:06.944369"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Goat"], ["created_at", "2021-08-09 10:46:06.948318"], ["updated_at", "2021-08-09 10:46:06.948318"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Create (0.9ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Ham solo"], ["year_born", 2010], ["weight", 100], ["bio", "Proving pigs can fly"], ["species", "Chonker"], ["sponsor_price", 5000], ["category_id", 1], ["owner_id", 3], ["created_at", "2021-08-09 10:46:07.022501"], ["updated_at", "2021-08-09 10:46:07.022501"]]
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "7rjeulezjs5lzhyt9arcs195sxgo"], ["filename", "pig.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 63070], ["checksum", "90VAk/JgiPplQ/k0FbH5og=="], ["created_at", "2021-08-09 10:46:07.074882"]]
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 1], ["blob_id", 1], ["created_at", "2021-08-09 10:46:07.080022"]]
  [1m[36mAnimal Update (1.1ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 10:46:07.082465"], ["id", 1]]
  [1m[36mTRANSACTION (37.1ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (6.5ms) [0m[32mUploaded file to key: 7rjeulezjs5lzhyt9arcs195sxgo (checksum: 90VAk/JgiPplQ/k0FbH5og==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 26238351-05b4-486f-952c-3e711d39b037) to Async(default) with arguments: #<GlobalID:0x00007fc0e62695b8 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/1>>
  [1m[36mCategory Load (6.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Create (54.0ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Vladimir mootin"], ["year_born", 2015], ["weight", 120], ["bio", "Theres a MosCOW joke there somewhere"], ["species", "President"], ["sponsor_price", 6000], ["category_id", 2], ["owner_id", 3], ["created_at", "2021-08-09 10:46:07.160944"], ["updated_at", "2021-08-09 10:46:07.160944"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (5.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "cxr98qacujs7uc377qzqb7rg5kxv"], ["filename", "cow.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 85749], ["checksum", "Yugf1sJBNAnlVPyCdAy9SA=="], ["created_at", "2021-08-09 10:46:07.291990"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 2], ["blob_id", 2], ["created_at", "2021-08-09 10:46:07.295259"]]
  [1m[36mAnimal Update (0.5ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 10:46:07.297545"], ["id", 2]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (1.1ms) [0m[32mUploaded file to key: cxr98qacujs7uc377qzqb7rg5kxv (checksum: Yugf1sJBNAnlVPyCdAy9SA==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 56bebfc6-2bb4-421e-956d-54516f6c2a55) to Async(default) with arguments: #<GlobalID:0x00007fc0e245e368 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/2>>
  [1m[36mCategory Load (1.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [26238351-05b4-486f-952c-3e711d39b037] Performing ActiveStorage::AnalyzeJob (Job ID: 26238351-05b4-486f-952c-3e711d39b037) from Async(default) enqueued at 2021-08-09T10:46:07Z with arguments: #<GlobalID:0x00007fc0de3ce0c8 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Create (15.2ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Meryl sheep"], ["year_born", 2008], ["weight", 80], ["bio", "A Farmous Actress"], ["species", "Floofer"], ["sponsor_price", 10000], ["category_id", 3], ["owner_id", 3], ["created_at", "2021-08-09 10:46:07.318838"], ["updated_at", "2021-08-09 10:46:07.318838"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [26238351-05b4-486f-952c-3e711d39b037] [36m  Disk Storage (2.1ms) [0m[34mDownloaded file from key: 7rjeulezjs5lzhyt9arcs195sxgo[0m
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (4.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "qtxouo9wj3undbfnq8k30braydtb"], ["filename", "sheep.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 99269], ["checksum", "M/Dwzj+u/kr3gCzmCGfSeg=="], ["created_at", "2021-08-09 10:46:07.344233"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [26238351-05b4-486f-952c-3e711d39b037] Skipping image analysis because the mini_magick gem isn't installed
  [1m[36mActiveStorage::Attachment Create (1.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 3], ["blob_id", 3], ["created_at", "2021-08-09 10:46:07.352171"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [26238351-05b4-486f-952c-3e711d39b037]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [56bebfc6-2bb4-421e-956d-54516f6c2a55] Performing ActiveStorage::AnalyzeJob (Job ID: 56bebfc6-2bb4-421e-956d-54516f6c2a55) from Async(default) enqueued at 2021-08-09T10:46:07Z with arguments: #<GlobalID:0x00007fc0e4ac7888 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/2>>
  [1m[36mAnimal Update (1.3ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 10:46:07.354895"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [26238351-05b4-486f-952c-3e711d39b037]   [1m[36mActiveStorage::Blob Update (1.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [56bebfc6-2bb4-421e-956d-54516f6c2a55] [36m  Disk Storage (1.4ms) [0m[34mDownloaded file from key: cxr98qacujs7uc377qzqb7rg5kxv[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [56bebfc6-2bb4-421e-956d-54516f6c2a55] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [56bebfc6-2bb4-421e-956d-54516f6c2a55]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [56bebfc6-2bb4-421e-956d-54516f6c2a55]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
  [1m[36mTRANSACTION (28.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [26238351-05b4-486f-952c-3e711d39b037]   [1m[36mTRANSACTION (28.5ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [26238351-05b4-486f-952c-3e711d39b037] Performed ActiveStorage::AnalyzeJob (Job ID: 26238351-05b4-486f-952c-3e711d39b037) from Async(default) in 75.9ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [56bebfc6-2bb4-421e-956d-54516f6c2a55]   [1m[36mTRANSACTION (14.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [56bebfc6-2bb4-421e-956d-54516f6c2a55] Performed ActiveStorage::AnalyzeJob (Job ID: 56bebfc6-2bb4-421e-956d-54516f6c2a55) from Async(default) in 33.58ms
[36m  Disk Storage (3.7ms) [0m[32mUploaded file to key: qtxouo9wj3undbfnq8k30braydtb (checksum: M/Dwzj+u/kr3gCzmCGfSeg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 507d3d8e-23ca-4560-ad92-cbc41d106281) to Async(default) with arguments: #<GlobalID:0x00007fc0de1cf858 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/3>>
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [507d3d8e-23ca-4560-ad92-cbc41d106281] Performing ActiveStorage::AnalyzeJob (Job ID: 507d3d8e-23ca-4560-ad92-cbc41d106281) from Async(default) enqueued at 2021-08-09T10:46:07Z with arguments: #<GlobalID:0x00007fc0de20a1d8 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/3>>
  [1m[35m (2.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles"[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [507d3d8e-23ca-4560-ad92-cbc41d106281] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: qtxouo9wj3undbfnq8k30braydtb[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [507d3d8e-23ca-4560-ad92-cbc41d106281] Skipping image analysis because the mini_magick gem isn't installed
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [507d3d8e-23ca-4560-ad92-cbc41d106281]   [1m[36mTRANSACTION (10.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [507d3d8e-23ca-4560-ad92-cbc41d106281]   [1m[36mActiveStorage::Blob Update (6.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
  [1m[36mArticle Create (14.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Article 1"], ["body", "This is the article"], ["created_at", "2021-08-09 10:46:07.416650"], ["updated_at", "2021-08-09 10:46:07.416650"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [507d3d8e-23ca-4560-ad92-cbc41d106281]   [1m[36mTRANSACTION (41.6ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [507d3d8e-23ca-4560-ad92-cbc41d106281] Performed ActiveStorage::AnalyzeJob (Job ID: 507d3d8e-23ca-4560-ad92-cbc41d106281) from Async(default) in 81.02ms
  [1m[36mTRANSACTION (176.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArticle Create (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Article 2"], ["body", "This is the article"], ["created_at", "2021-08-09 10:46:07.620698"], ["updated_at", "2021-08-09 10:46:07.620698"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArticle Create (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Website Updates"], ["body", "I did a thing to the website"], ["created_at", "2021-08-09 10:46:07.626242"], ["updated_at", "2021-08-09 10:46:07.626242"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2021-08-09 18:46:51 +0800
  [1m[35m (8.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 687)
Started GET "/" for ::1 at 2021-08-09 18:46:55 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 127)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 7.0ms | Allocations: 1998)
  Rendered layout layouts/application.html.erb (Duration: 134.3ms | Allocations: 62769)
Completed 200 OK in 136ms (Views: 135.3ms | ActiveRecord: 0.0ms | Allocations: 63576)


  Rendered shared/_navbar.html.erb (Duration: 9.7ms | Allocations: 2731)
  Rendered layout layouts/application.html.erb (Duration: 3094.1ms | Allocations: 135498)
Completed 200 OK in 3139ms (Views: 3101.7ms | ActiveRecord: 0.0ms | Allocations: 140358)


Started GET "/users/sign_in" for ::1 at 2021-08-09 18:46:58 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.6ms | Allocations: 504)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 60.3ms | Allocations: 5535)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 879)
  Rendered layout layouts/application.html.erb (Duration: 74.4ms | Allocations: 14898)
Completed 200 OK in 158ms (Views: 87.8ms | ActiveRecord: 11.1ms | Allocations: 24417)


Started POST "/users/sign_in" for ::1 at 2021-08-09 18:47:03 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 264ms (ActiveRecord: 1.2ms | Allocations: 6163)


Started GET "/" for ::1 at 2021-08-09 18:47:03 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:50:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1268)


Started GET "/home" for ::1 at 2021-08-09 18:47:03 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  Rendered pages/home.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1869)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | Allocations: 1940)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 3.8ms | Allocations: 13599)


  
ActionView::Template::Error (undefined method `each_with_index' for nil:NilClass):
     7:       <div class="col d-flex flex-column">
     8:          <h3>News and Updates</h3>
     9:          <ul class="list-group list-group-flush">
    10:             <% @articles.each_with_index do |article, i| %>
    11:                <li class="list-group-item bg-new-bg">
    12:                   <%= link_to article.title, article_path(article), class: "mt-2 mb-2 text-body"%>
    13:                   <% if i == 0 %>
  
app/views/pages/home.html.erb:10
Started GET "/home" for ::1 at 2021-08-09 18:47:37 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 54.2ms | Allocations: 20048)
  Rendered pages/home.html.erb within layouts/application (Duration: 55.9ms | Allocations: 20657)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.8ms | Allocations: 876)
  Rendered layout layouts/application.html.erb (Duration: 79.6ms | Allocations: 29751)
Completed 200 OK in 144ms (Views: 75.7ms | ActiveRecord: 18.6ms | Allocations: 51763)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19/cow.jpg" for ::1 at 2021-08-09 18:47:37 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19", "filename"=>"cow"}
  [1m[36mActiveStorage::Blob Load (4.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (2.0ms) [0m[34mGenerated URL for file at key: cxr98qacujs7uc377qzqb7rg5kxv (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZM2h5T1RoeFlXTjFhbk0zZFdNek56ZHhlbkZpTjNKbk5XdDRkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMTA6NTI6MzcuMzY4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3b7f764353b6f40604e39a57fdff8a28d908b36/cow.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZM2h5T1RoeFlXTjFhbk0zZFdNek56ZHhlbkZpTjNKbk5XdDRkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMTA6NTI6MzcuMzY4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3b7f764353b6f40604e39a57fdff8a28d908b36/cow.jpg
Completed 302 Found in 18ms (ActiveRecord: 4.6ms | Allocations: 2420)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZM2h5T1RoeFlXTjFhbk0zZFdNek56ZHhlbkZpTjNKbk5XdDRkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMTA6NTI6MzcuMzY4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3b7f764353b6f40604e39a57fdff8a28d908b36/cow.jpg" for ::1 at 2021-08-09 18:47:37 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 541)


Started GET "/home" for ::1 at 2021-08-09 18:48:05 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 17.2ms | Allocations: 2129)
  Rendered pages/home.html.erb within layouts/application (Duration: 19.9ms | Allocations: 3026)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.5ms | Allocations: 1364)
  Rendered layout layouts/application.html.erb (Duration: 39.5ms | Allocations: 13117)
Completed 200 OK in 52ms (Views: 42.8ms | ActiveRecord: 2.6ms | Allocations: 17314)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZM2h5T1RoeFlXTjFhbk0zZFdNek56ZHhlbkZpTjNKbk5XdDRkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMTA6NTI6MzcuMzY4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3b7f764353b6f40604e39a57fdff8a28d908b36/cow.jpg" for ::1 at 2021-08-09 18:48:05 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 416)


Started GET "/home" for ::1 at 2021-08-09 18:48:08 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 10.3ms | Allocations: 1788)
  Rendered pages/home.html.erb within layouts/application (Duration: 13.9ms | Allocations: 2091)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 830)
  Rendered layout layouts/application.html.erb (Duration: 30.0ms | Allocations: 10930)
Completed 200 OK in 38ms (Views: 29.9ms | ActiveRecord: 1.9ms | Allocations: 13970)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZM2h5T1RoeFlXTjFhbk0zZFdNek56ZHhlbkZpTjNKbk5XdDRkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMTA6NTI6MzcuMzY4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3b7f764353b6f40604e39a57fdff8a28d908b36/cow.jpg" for ::1 at 2021-08-09 18:48:08 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 351)


Started GET "/home" for ::1 at 2021-08-09 18:48:45 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 7.4ms | Allocations: 2125)
  Rendered pages/home.html.erb within layouts/application (Duration: 10.7ms | Allocations: 3019)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 3.9ms | Allocations: 1363)
  Rendered layout layouts/application.html.erb (Duration: 42.2ms | Allocations: 13005)
Completed 200 OK in 56ms (Views: 46.3ms | ActiveRecord: 1.9ms | Allocations: 16989)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZM2h5T1RoeFlXTjFhbk0zZFdNek56ZHhlbkZpTjNKbk5XdDRkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMTA6NTI6MzcuMzY4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3b7f764353b6f40604e39a57fdff8a28d908b36/cow.jpg" for ::1 at 2021-08-09 18:48:45 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 406)


Started GET "/articles/3" for ::1 at 2021-08-09 18:49:56 +0800
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/articles_controller.rb:58:in `set_article'
  Rendering layout layouts/application.html.erb
  Rendering articles/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/articles/show.html.erb:5
  Rendered articles/show.html.erb within layouts/application (Duration: 8.8ms | Allocations: 1343)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 5.1ms | Allocations: 865)
  Rendered layout layouts/application.html.erb (Duration: 50.8ms | Allocations: 10459)
Completed 200 OK in 74ms (Views: 56.8ms | ActiveRecord: 0.6ms | Allocations: 12644)


Started DELETE "/articles/3" for ::1 at 2021-08-09 18:49:57 +0800
Processing by ArticlesController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/articles_controller.rb:58:in `set_article'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/articles_controller.rb:67:in `redirect_if_not_admin'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/articles_controller.rb:48:in `destroy'
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/articles_controller.rb:48:in `destroy'
  [1m[36mTRANSACTION (40.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/articles_controller.rb:48:in `destroy'
Redirected to http://localhost:3000/home
Completed 302 Found in 54ms (ActiveRecord: 42.0ms | Allocations: 3182)


Started GET "/home" for ::1 at 2021-08-09 18:49:57 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (3.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (3.5ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 7.6ms | Allocations: 1848)
  Rendered pages/home.html.erb within layouts/application (Duration: 9.0ms | Allocations: 2121)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.4ms | Allocations: 832)
  Rendered layout layouts/application.html.erb (Duration: 46.5ms | Allocations: 11067)
Completed 200 OK in 71ms (Views: 46.6ms | ActiveRecord: 8.0ms | Allocations: 14089)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZM2h5T1RoeFlXTjFhbk0zZFdNek56ZHhlbkZpTjNKbk5XdDRkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMTA6NTI6MzcuMzY4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3b7f764353b6f40604e39a57fdff8a28d908b36/cow.jpg" for ::1 at 2021-08-09 18:49:58 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 389)


Started GET "/account" for ::1 at 2021-08-09 18:50:00 +0800
Processing by PagesController#account as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSponsorship Load (0.5ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."sponsor_id" = $1[0m  [["sponsor_id", 1]]
  ↳ app/controllers/pages_controller.rb:24:in `map'
  Rendering layout layouts/application.html.erb
  Rendering pages/account.html.erb within layouts/application
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.4ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  Rendered pages/account.html.erb within layouts/application (Duration: 49.3ms | Allocations: 16430)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 849)
  Rendered layout layouts/application.html.erb (Duration: 61.2ms | Allocations: 25356)
Completed 200 OK in 85ms (Views: 49.2ms | ActiveRecord: 16.2ms | Allocations: 29886)


Started GET "/animals" for ::1 at 2021-08-09 18:50:04 +0800
Processing by AnimalsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.9ms | Allocations: 1956)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.4ms | Allocations: 1800)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.5ms | Allocations: 1788)
  Rendered animals/index.html.erb within layouts/application (Duration: 32.0ms | Allocations: 19250)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 3.4ms | Allocations: 1615)
  Rendered layout layouts/application.html.erb (Duration: 46.8ms | Allocations: 29044)
Completed 200 OK in 55ms (Views: 44.8ms | ActiveRecord: 5.2ms | Allocations: 31493)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee/pig.jpg" for ::1 at 2021-08-09 18:50:04 +0800
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a/sheep.jpg" for ::1 at 2021-08-09 18:50:04 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee", "filename"=>"pig"}
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a", "filename"=>"sheep"}
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (2.8ms) [0m[34mGenerated URL for file at key: 7rjeulezjs5lzhyt9arcs195sxgo (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOM0pxWlhWc1pYcHFjelZzZW1oNWREbGhjbU56TVRrMWMzaG5id1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMTA6NTU6MDQuODE3WiIsInB1ciI6ImJsb2Jfa2V5In19--09375973c64ba4aa63e785c4e97d12baff81ffb9/pig.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOM0pxWlhWc1pYcHFjelZzZW1oNWREbGhjbU56TVRrMWMzaG5id1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMTA6NTU6MDQuODE3WiIsInB1ciI6ImJsb2Jfa2V5In19--09375973c64ba4aa63e785c4e97d12baff81ffb9/pig.jpg
Completed 302 Found in 8ms (ActiveRecord: 0.2ms | Allocations: 2172)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOM0pxWlhWc1pYcHFjelZzZW1oNWREbGhjbU56TVRrMWMzaG5id1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMTA6NTU6MDQuODE3WiIsInB1ciI6ImJsb2Jfa2V5In19--09375973c64ba4aa63e785c4e97d12baff81ffb9/pig.jpg" for ::1 at 2021-08-09 18:50:04 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 381)


  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (0.5ms) [0m[34mGenerated URL for file at key: qtxouo9wj3undbfnq8k30braydtb (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjWFI0YjNWdk9YZHFNM1Z1WkdKbWJuRTRhek13WW5KaGVXUjBZZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTA5VDEwOjU1OjA0Ljg4OVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--34f14b297ed71637a8794dddd6f5a86090bcb51a/sheep.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjWFI0YjNWdk9YZHFNM1Z1WkdKbWJuRTRhek13WW5KaGVXUjBZZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTA5VDEwOjU1OjA0Ljg4OVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--34f14b297ed71637a8794dddd6f5a86090bcb51a/sheep.jpg
Completed 302 Found in 76ms (ActiveRecord: 10.4ms | Allocations: 7255)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjWFI0YjNWdk9YZHFNM1Z1WkdKbWJuRTRhek13WW5KaGVXUjBZZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTA5VDEwOjU1OjA0Ljg4OVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--34f14b297ed71637a8794dddd6f5a86090bcb51a/sheep.jpg" for ::1 at 2021-08-09 18:50:04 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 378)


Started GET "/animals" for ::1 at 2021-08-09 18:50:47 +0800
Processing by AnimalsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.6ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 7.5ms | Allocations: 2052)
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.4ms | Allocations: 1799)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 83.2ms | Allocations: 1788)
  Rendered animals/index.html.erb within layouts/application (Duration: 108.6ms | Allocations: 17401)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 6.1ms | Allocations: 2144)
  Rendered layout layouts/application.html.erb (Duration: 130.3ms | Allocations: 28167)
Completed 200 OK in 136ms (Views: 129.7ms | ActiveRecord: 4.1ms | Allocations: 29751)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOM0pxWlhWc1pYcHFjelZzZW1oNWREbGhjbU56TVRrMWMzaG5id1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMTA6NTU6MDQuODE3WiIsInB1ciI6ImJsb2Jfa2V5In19--09375973c64ba4aa63e785c4e97d12baff81ffb9/pig.jpg" for ::1 at 2021-08-09 18:50:48 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 412)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZM2h5T1RoeFlXTjFhbk0zZFdNek56ZHhlbkZpTjNKbk5XdDRkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMTA6NTI6MzcuMzY4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3b7f764353b6f40604e39a57fdff8a28d908b36/cow.jpg" for ::1 at 2021-08-09 18:50:48 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 349)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjWFI0YjNWdk9YZHFNM1Z1WkdKbWJuRTRhek13WW5KaGVXUjBZZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTA5VDEwOjU1OjA0Ljg4OVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--34f14b297ed71637a8794dddd6f5a86090bcb51a/sheep.jpg" for ::1 at 2021-08-09 18:50:48 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 357)


Started DELETE "/users/sign_out" for ::1 at 2021-08-09 18:51:39 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 14ms (ActiveRecord: 0.5ms | Allocations: 3342)


Started GET "/" for ::1 at 2021-08-09 18:51:39 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 345)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.2ms | Allocations: 857)
  Rendered layout layouts/application.html.erb (Duration: 24.0ms | Allocations: 9252)
Completed 200 OK in 29ms (Views: 27.5ms | ActiveRecord: 0.0ms | Allocations: 10660)


Started GET "/users/sign_up?role=sanctuary" for ::1 at 2021-08-09 18:51:41 +0800
Processing by Users::RegistrationsController#new as HTML
  Parameters: {"role"=>"sanctuary"}
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.6ms | Allocations: 190)
  Rendered devise/shared/_links.html.erb (Duration: 0.8ms | Allocations: 492)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 74.9ms | Allocations: 15067)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.6ms | Allocations: 878)
  Rendered layout layouts/application.html.erb (Duration: 92.1ms | Allocations: 24204)
Completed 200 OK in 154ms (Views: 141.9ms | ActiveRecord: 0.0ms | Allocations: 26931)


Started POST "/users" for ::1 at 2021-08-09 18:52:23 +0800
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"first_name"=>"New", "last_name"=>"Sanctuary", "email"=>"new@new.com", "date_of_birth"=>"1111-11-11", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "role"=>"sanctuary", "address_attributes"=>{"street_number"=>"123", "street_name"=>"fake st", "suburb"=>"subrub", "postcode"=>"112122", "state_attributes"=>{"name"=>"state", "country_attributes"=>{"name"=>"Bahrain"}}}}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "new@new.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mState Load (0.3ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "state"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Bahrain"], ["LIMIT", 1]]
  ↳ app/models/state.rb:13:in `check_if_country_exists'
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Bahrain"], ["created_at", "2021-08-09 10:52:23.504376"], ["updated_at", "2021-08-09 10:52:23.504376"]]
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mState Create (0.7ms)[0m  [1m[32mINSERT INTO "states" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "State"], ["country_id", 2], ["created_at", "2021-08-09 10:52:23.506934"], ["updated_at", "2021-08-09 10:52:23.506934"]]
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mAddress Create (0.6ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "fake st"], ["postcode", "112122"], ["suburb", "subrub"], ["state_id", 2], ["created_at", "2021-08-09 10:52:23.509188"], ["updated_at", "2021-08-09 10:52:23.509188"]]
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "new@new.com"], ["encrypted_password", "$2a$12$gKmGk0OItQ28sHtg7uOJNueENPcY/Q7tvegACO02AogDiENskdKGO"], ["created_at", "2021-08-09 10:52:23.511901"], ["updated_at", "2021-08-09 10:52:23.511901"], ["first_name", "New"], ["last_name", "Sanctuary"], ["approved", false], ["role", 1], ["date_of_birth", "1111-11-11"], ["address_id", 4]]
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 259ms (ActiveRecord: 4.3ms | Allocations: 12455)


Started GET "/" for ::1 at 2021-08-09 18:52:23 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.4ms | Allocations: 1056)


Started GET "/home" for ::1 at 2021-08-09 18:52:23 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.6ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.2ms | Allocations: 1835)
  Rendered pages/home.html.erb within layouts/application (Duration: 5.7ms | Allocations: 2462)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 795)
  Rendered layout layouts/application.html.erb (Duration: 18.2ms | Allocations: 11372)
Completed 200 OK in 27ms (Views: 18.2ms | ActiveRecord: 2.1ms | Allocations: 14529)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZM2h5T1RoeFlXTjFhbk0zZFdNek56ZHhlbkZpTjNKbk5XdDRkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMTA6NTI6MzcuMzY4WiIsInB1ciI6ImJsb2Jfa2V5In19--a3b7f764353b6f40604e39a57fdff8a28d908b36/cow.jpg" for ::1 at 2021-08-09 18:52:23 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 371)


Started DELETE "/users/sign_out" for ::1 at 2021-08-09 18:52:40 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 1841)


Started GET "/" for ::1 at 2021-08-09 18:52:40 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 125)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.6ms | Allocations: 788)
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 8636)
Completed 200 OK in 16ms (Views: 15.3ms | ActiveRecord: 0.0ms | Allocations: 9227)


Started GET "/users/sign_in" for ::1 at 2021-08-09 18:52:41 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 90)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1409)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 11.0ms | Allocations: 878)
  Rendered layout layouts/application.html.erb (Duration: 30.0ms | Allocations: 10574)
Completed 200 OK in 36ms (Views: 33.5ms | ActiveRecord: 0.0ms | Allocations: 12057)


Started POST "/users/sign_in" for ::1 at 2021-08-09 18:52:44 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 234ms (ActiveRecord: 0.4ms | Allocations: 2941)


Started GET "/" for ::1 at 2021-08-09 18:52:45 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 1017)


Started GET "/home" for ::1 at 2021-08-09 18:52:45 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.9ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.9ms | Allocations: 1838)
  Rendered pages/home.html.erb within layouts/application (Duration: 6.6ms | Allocations: 2120)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 835)
  Rendered layout layouts/application.html.erb (Duration: 23.6ms | Allocations: 11077)
Completed 200 OK in 33ms (Views: 23.4ms | ActiveRecord: 3.1ms | Allocations: 14086)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19/cow.jpg" for ::1 at 2021-08-09 18:52:45 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19", "filename"=>"cow"}
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (0.7ms) [0m[34mGenerated URL for file at key: cxr98qacujs7uc377qzqb7rg5kxv (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZM2h5T1RoeFlXTjFhbk0zZFdNek56ZHhlbkZpTjNKbk5XdDRkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMTA6NTc6NDUuMzEwWiIsInB1ciI6ImJsb2Jfa2V5In19--7ec9510c29b9851cb2fa3c0ad027c8a84ffba204/cow.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZM2h5T1RoeFlXTjFhbk0zZFdNek56ZHhlbkZpTjNKbk5XdDRkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMTA6NTc6NDUuMzEwWiIsInB1ciI6ImJsb2Jfa2V5In19--7ec9510c29b9851cb2fa3c0ad027c8a84ffba204/cow.jpg
Completed 302 Found in 16ms (ActiveRecord: 0.2ms | Allocations: 1485)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZM2h5T1RoeFlXTjFhbk0zZFdNek56ZHhlbkZpTjNKbk5XdDRkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMTA6NTc6NDUuMzEwWiIsInB1ciI6ImJsb2Jfa2V5In19--7ec9510c29b9851cb2fa3c0ad027c8a84ffba204/cow.jpg" for ::1 at 2021-08-09 18:52:45 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 373)


Started GET "/admin-dashboard" for ::1 at 2021-08-09 18:52:49 +0800
Processing by PagesController#admin as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pages/admin.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", false]]
  ↳ app/views/pages/admin.html.erb:9
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", true]]
  ↳ app/views/pages/admin.html.erb:23
  Rendered pages/admin.html.erb within layouts/application (Duration: 5.5ms | Allocations: 1817)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.0ms | Allocations: 810)
  Rendered layout layouts/application.html.erb (Duration: 20.1ms | Allocations: 10581)
Completed 200 OK in 27ms (Views: 19.9ms | ActiveRecord: 0.9ms | Allocations: 12334)


Started POST "/admin-approve/4" for ::1 at 2021-08-09 18:52:54 +0800
Processing by PagesController#admin_approve_user as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:60:in `get_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/pages_controller.rb:40:in `admin_approve_user'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:40:in `admin_approve_user'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "approved" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2021-08-09 10:52:54.620815"], ["approved", true], ["id", 4]]
  ↳ app/controllers/pages_controller.rb:40:in `admin_approve_user'
  [1m[36mTRANSACTION (39.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/pages_controller.rb:40:in `admin_approve_user'
Redirected to http://localhost:3000/admin-dashboard
Completed 302 Found in 53ms (ActiveRecord: 41.2ms | Allocations: 4991)


Started GET "/admin-dashboard" for ::1 at 2021-08-09 18:52:54 +0800
Processing by PagesController#admin as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pages/admin.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", false]]
  ↳ app/views/pages/admin.html.erb:9
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", true]]
  ↳ app/views/pages/admin.html.erb:23
  Rendered pages/admin.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1397)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 805)
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | Allocations: 10254)
Completed 200 OK in 23ms (Views: 18.7ms | ActiveRecord: 0.9ms | Allocations: 11898)


Started DELETE "/users/sign_out" for ::1 at 2021-08-09 18:52:56 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms | Allocations: 1846)


Started GET "/" for ::1 at 2021-08-09 18:52:56 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 125)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.5ms | Allocations: 787)
  Rendered layout layouts/application.html.erb (Duration: 20.3ms | Allocations: 8621)
Completed 200 OK in 22ms (Views: 20.9ms | ActiveRecord: 0.0ms | Allocations: 9210)


Started GET "/users/sign_in" for ::1 at 2021-08-09 18:52:57 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 68)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 896)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.4ms | Allocations: 808)
  Rendered layout layouts/application.html.erb (Duration: 18.7ms | Allocations: 9788)
Completed 200 OK in 21ms (Views: 19.4ms | ActiveRecord: 0.0ms | Allocations: 10532)


Started POST "/users/sign_in" for ::1 at 2021-08-09 18:53:03 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"new@new.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@new.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 235ms (ActiveRecord: 0.8ms | Allocations: 2338)


Started GET "/" for ::1 at 2021-08-09 18:53:03 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1038)


Started GET "/home" for ::1 at 2021-08-09 18:53:03 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 8.9ms | Allocations: 1788)
  Rendered pages/home.html.erb within layouts/application (Duration: 13.1ms | Allocations: 2043)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.2ms | Allocations: 792)
  Rendered layout layouts/application.html.erb (Duration: 29.6ms | Allocations: 10953)
Completed 200 OK in 40ms (Views: 32.2ms | ActiveRecord: 1.7ms | Allocations: 13934)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZM2h5T1RoeFlXTjFhbk0zZFdNek56ZHhlbkZpTjNKbk5XdDRkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMTA6NTc6NDUuMzEwWiIsInB1ciI6ImJsb2Jfa2V5In19--7ec9510c29b9851cb2fa3c0ad027c8a84ffba204/cow.jpg" for ::1 at 2021-08-09 18:53:04 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 345)


Started GET "/animals/new" for ::1 at 2021-08-09 18:53:13 +0800
Processing by AnimalsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering animals/new.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/_form.html.erb:46:in `map'
  Rendered animals/_form.html.erb (Duration: 23.2ms | Allocations: 6129)
  Rendered animals/new.html.erb within layouts/application (Duration: 24.8ms | Allocations: 6495)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 803)
  Rendered layout layouts/application.html.erb (Duration: 39.1ms | Allocations: 15351)
Completed 200 OK in 44ms (Views: 39.3ms | ActiveRecord: 0.6ms | Allocations: 17109)


Started POST "/animals" for ::1 at 2021-08-09 18:53:40 +0800
Processing by AnimalsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "animal"=>{"name"=>"Piggy Smalls", "year_born"=>"1990", "weight"=>"110", "bio"=>"The Notorious P.I.G", "species"=>"Pink", "sponsor_price"=>"55.99", "category_id"=>"1", "profile_picture"=>#<ActionDispatch::Http::UploadedFile:0x00007fecd59fa258 @tempfile=#<Tempfile:/var/folders/g1/w_b947c941n8tclr4gvh68d00000gn/T/RackMultipart20210809-28965-l5qvr0.jpg>, @original_filename="profile.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"animal[profile_picture]\"; filename=\"profile.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Animal"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:51:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mAnimal Create (27.7ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Piggy smalls"], ["year_born", 1990], ["weight", 110], ["bio", "The Notorious P.I.G"], ["species", "Pink"], ["sponsor_price", 5599], ["category_id", 1], ["owner_id", 4], ["created_at", "2021-08-09 10:53:40.740211"], ["updated_at", "2021-08-09 10:53:40.740211"]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mActiveStorage::Blob Create (82.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "y81jdxb06i2a5o1qo3wjkrt4v0ti"], ["filename", "profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 32456], ["checksum", "GszSpFm2V+JMbdlYIA9Y4g=="], ["created_at", "2021-08-09 10:53:40.784680"]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mActiveStorage::Attachment Create (41.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 4], ["blob_id", 4], ["created_at", "2021-08-09 10:53:40.869530"]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mAnimal Update (0.5ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 10:53:40.913350"], ["id", 4]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mTRANSACTION (41.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
[36m  Disk Storage (4.2ms) [0m[32mUploaded file to key: y81jdxb06i2a5o1qo3wjkrt4v0ti (checksum: GszSpFm2V+JMbdlYIA9Y4g==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f0e16399-72fd-4848-8869-f736fd028467) to Async(default) with arguments: #<GlobalID:0x00007fecce384060 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/4>>
Redirected to http://localhost:3000/animals/4
Completed 302 Found in 242ms (ActiveRecord: 194.8ms | Allocations: 16688)


  [1m[36mActiveStorage::Blob Load (2.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f0e16399-72fd-4848-8869-f736fd028467] Performing ActiveStorage::AnalyzeJob (Job ID: f0e16399-72fd-4848-8869-f736fd028467) from Async(default) enqueued at 2021-08-09T10:53:40Z with arguments: #<GlobalID:0x00007fecd4c7e660 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/4>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [f0e16399-72fd-4848-8869-f736fd028467] [36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: y81jdxb06i2a5o1qo3wjkrt4v0ti[0m
Started GET "/animals/4" for ::1 at 2021-08-09 18:53:40 +0800
[ActiveJob] [ActiveStorage::AnalyzeJob] [f0e16399-72fd-4848-8869-f736fd028467] Skipping image analysis because the mini_magick gem isn't installed
Processing by AnimalsController#show as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [f0e16399-72fd-4848-8869-f736fd028467]   [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  Parameters: {"id"=>"4"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [f0e16399-72fd-4848-8869-f736fd028467]   [1m[36mActiveStorage::Blob Update (0.9ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 4]]
  [1m[36mAnimal Load (1.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
[ActiveJob] [ActiveStorage::AnalyzeJob] [f0e16399-72fd-4848-8869-f736fd028467]   [1m[36mTRANSACTION (42.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f0e16399-72fd-4848-8869-f736fd028467] Performed ActiveStorage::AnalyzeJob (Job ID: f0e16399-72fd-4848-8869-f736fd028467) from Async(default) in 63.52ms
  [1m[36mSponsorship Load (0.5ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:81
  Rendered animals/show.html.erb within layouts/application (Duration: 32.3ms | Allocations: 12086)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.5ms | Allocations: 809)
  Rendered layout layouts/application.html.erb (Duration: 66.4ms | Allocations: 21056)
Completed 200 OK in 81ms (Views: 65.0ms | ActiveRecord: 3.7ms | Allocations: 25518)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--f29baae4a4fcf412c037bc80af8a2603fdd7304d/profile.jpg" for ::1 at 2021-08-09 18:53:41 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--f29baae4a4fcf412c037bc80af8a2603fdd7304d", "filename"=>"profile"}
  [1m[36mActiveStorage::Blob Load (1.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[36m  Disk Storage (0.8ms) [0m[34mGenerated URL for file at key: y81jdxb06i2a5o1qo3wjkrt4v0ti (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlVGd4YW1SNFlqQTJhVEpoTlc4eGNXOHpkMnByY25RMGRqQjBhUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQxMDo1ODo0MS4xNTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--182abd9fd2d19c37d1b1f1fc7ac5ab3694d6c2c4/profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlVGd4YW1SNFlqQTJhVEpoTlc4eGNXOHpkMnByY25RMGRqQjBhUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQxMDo1ODo0MS4xNTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--182abd9fd2d19c37d1b1f1fc7ac5ab3694d6c2c4/profile.jpg
Completed 302 Found in 13ms (ActiveRecord: 1.0ms | Allocations: 1565)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlVGd4YW1SNFlqQTJhVEpoTlc4eGNXOHpkMnByY25RMGRqQjBhUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQxMDo1ODo0MS4xNTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--182abd9fd2d19c37d1b1f1fc7ac5ab3694d6c2c4/profile.jpg" for ::1 at 2021-08-09 18:53:41 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 381)


Started DELETE "/users/sign_out" for ::1 at 2021-08-09 18:53:44 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms | Allocations: 1934)


Started GET "/" for ::1 at 2021-08-09 18:53:44 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 126)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.3ms | Allocations: 789)
  Rendered layout layouts/application.html.erb (Duration: 16.2ms | Allocations: 8725)
Completed 200 OK in 17ms (Views: 16.7ms | ActiveRecord: 0.0ms | Allocations: 9346)


Started GET "/users/sign_in" for ::1 at 2021-08-09 18:53:46 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 68)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.5ms | Allocations: 921)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.4ms | Allocations: 806)
  Rendered layout layouts/application.html.erb (Duration: 20.1ms | Allocations: 9709)
Completed 200 OK in 22ms (Views: 20.7ms | ActiveRecord: 0.0ms | Allocations: 10473)


Started POST "/users/sign_in" for ::1 at 2021-08-09 18:53:54 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"sponsor@sponsor.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "sponsor@sponsor.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 235ms (ActiveRecord: 1.5ms | Allocations: 2350)


Started GET "/" for ::1 at 2021-08-09 18:53:55 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1027)


Started GET "/home" for ::1 at 2021-08-09 18:53:55 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 23.2ms | Allocations: 1793)
  Rendered pages/home.html.erb within layouts/application (Duration: 24.3ms | Allocations: 2048)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.7ms | Allocations: 791)
  Rendered layout layouts/application.html.erb (Duration: 74.0ms | Allocations: 10929)
Completed 200 OK in 100ms (Views: 79.3ms | ActiveRecord: 2.3ms | Allocations: 13938)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZM2h5T1RoeFlXTjFhbk0zZFdNek56ZHhlbkZpTjNKbk5XdDRkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMTA6NTc6NDUuMzEwWiIsInB1ciI6ImJsb2Jfa2V5In19--7ec9510c29b9851cb2fa3c0ad027c8a84ffba204/cow.jpg" for ::1 at 2021-08-09 18:53:55 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 343)


Started GET "/animals" for ::1 at 2021-08-09 18:53:59 +0800
Processing by AnimalsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.8ms | Allocations: 1794)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.4ms | Allocations: 1798)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 6.2ms | Allocations: 1788)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.2ms | Allocations: 1791)
  Rendered animals/index.html.erb within layouts/application (Duration: 29.5ms | Allocations: 18039)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 3.2ms | Allocations: 1526)
  Rendered layout layouts/application.html.erb (Duration: 46.2ms | Allocations: 27573)
Completed 200 OK in 48ms (Views: 44.1ms | ActiveRecord: 2.7ms | Allocations: 28146)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjWFI0YjNWdk9YZHFNM1Z1WkdKbWJuRTRhek13WW5KaGVXUjBZZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTA5VDEwOjU1OjA0Ljg4OVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--34f14b297ed71637a8794dddd6f5a86090bcb51a/sheep.jpg" for ::1 at 2021-08-09 18:53:59 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOM0pxWlhWc1pYcHFjelZzZW1oNWREbGhjbU56TVRrMWMzaG5id1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMTA6NTU6MDQuODE3WiIsInB1ciI6ImJsb2Jfa2V5In19--09375973c64ba4aa63e785c4e97d12baff81ffb9/pig.jpg" for ::1 at 2021-08-09 18:53:59 +0800
Processing by ActiveStorage::DiskController#show as JPEG
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlVGd4YW1SNFlqQTJhVEpoTlc4eGNXOHpkMnByY25RMGRqQjBhUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQxMDo1ODo0MS4xNTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--182abd9fd2d19c37d1b1f1fc7ac5ab3694d6c2c4/profile.jpg" for ::1 at 2021-08-09 18:53:59 +0800
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Processing by ActiveStorage::DiskController#show as JPEG
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 707)


  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 355)


Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 748)


Started GET "/animals?category=1&sponsored=0&name=&commit=Search" for ::1 at 2021-08-09 18:54:06 +0800
Processing by AnimalsController#index as HTML
  Parameters: {"category"=>"1", "sponsored"=>"0", "name"=>"", "commit"=>"Search"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/animals_controller.rb:13:in `map'
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."category_id" = $1 AND "animals"."sponsored" = $2[0m  [["category_id", 1], ["sponsored", false]]
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.4ms | Allocations: 1793)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 6.8ms | Allocations: 1798)
  Rendered animals/index.html.erb within layouts/application (Duration: 19.9ms | Allocations: 14205)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 3.3ms | Allocations: 1526)
  Rendered layout layouts/application.html.erb (Duration: 38.7ms | Allocations: 23711)
Completed 200 OK in 45ms (Views: 38.1ms | ActiveRecord: 1.6ms | Allocations: 24871)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOM0pxWlhWc1pYcHFjelZzZW1oNWREbGhjbU56TVRrMWMzaG5id1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMTA6NTU6MDQuODE3WiIsInB1ciI6ImJsb2Jfa2V5In19--09375973c64ba4aa63e785c4e97d12baff81ffb9/pig.jpg" for ::1 at 2021-08-09 18:54:06 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlVGd4YW1SNFlqQTJhVEpoTlc4eGNXOHpkMnByY25RMGRqQjBhUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQxMDo1ODo0MS4xNTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--182abd9fd2d19c37d1b1f1fc7ac5ab3694d6c2c4/profile.jpg" for ::1 at 2021-08-09 18:54:06 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 3ms (ActiveRecord: 0.0ms | Allocations: 984)


Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 674)


Started GET "/animals/4" for ::1 at 2021-08-09 18:54:08 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.3ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.3ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:13:in `user_is_animal_sponsor'
  Rendered animals/show.html.erb within layouts/application (Duration: 13.1ms | Allocations: 5174)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 792)
  Rendered layout layouts/application.html.erb (Duration: 24.5ms | Allocations: 13961)
Completed 200 OK in 31ms (Views: 23.5ms | ActiveRecord: 2.4ms | Allocations: 16557)


Started POST "/payments" for ::1 at 2021-08-09 18:54:10 +0800
Processing by PaymentsController#create_payment_intent as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"4"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:9:in `create_payment_intent'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:13:in `create_payment_intent'
  Rendering payments/create_payment_intent.js.erb
  Rendered payments/create_payment_intent.js.erb (Duration: 0.9ms | Allocations: 146)
Completed 200 OK in 973ms (Views: 7.2ms | ActiveRecord: 0.4ms | Allocations: 6888)


Started POST "/payments/webhook" for ::1 at 2021-08-09 18:54:26 +0800
Processing by PaymentsController#webhook as XML
  Parameters: {"id"=>"evt_1JMW7hIeFWwPeKyVWmGyyjM6", "object"=>"event", "api_version"=>"2020-08-27", "created"=>1628506465, "data"=>{"object"=>{"id"=>"cs_test_a12qlMrgNMUjLZBvjiijOeqMX6VBSC114OePeYDiRpekDShPp8z26aD5Ns", "object"=>"checkout.session", "allow_promotion_codes"=>nil, "amount_subtotal"=>5599, "amount_total"=>5599, "automatic_tax"=>{"enabled"=>false, "status"=>nil}, "billing_address_collection"=>nil, "cancel_url"=>"http://localhost:3000//animals", "client_reference_id"=>nil, "currency"=>"aud", "customer"=>"cus_K0XCYmDnaaLnw2", "customer_details"=>{"email"=>"sponsor@sponsor.com", "tax_exempt"=>"none", "tax_ids"=>[]}, "customer_email"=>"sponsor@sponsor.com", "livemode"=>false, "locale"=>nil, "metadata"=>{}, "mode"=>"payment", "payment_intent"=>"pi_3JMW7TIeFWwPeKyV1XPlfRAJ", "payment_method_options"=>{}, "payment_method_types"=>["card"], "payment_status"=>"paid", "setup_intent"=>nil, "shipping"=>nil, "shipping_address_collection"=>nil, "submit_type"=>nil, "subscription"=>nil, "success_url"=>"http://localhost:3000//payments/success?name=Piggy smalls", "total_details"=>{"amount_discount"=>0, "amount_shipping"=>0, "amount_tax"=>0}, "url"=>nil}}, "livemode"=>false, "pending_webhooks"=>1, "request"=>{"id"=>nil, "idempotency_key"=>"[FILTERED]"}, "type"=>"checkout.session.completed", "payment"=>{"id"=>"evt_1JMW7hIeFWwPeKyVWmGyyjM6", "object"=>"event", "api_version"=>"2020-08-27", "created"=>1628506465, "data"=>{"object"=>{"id"=>"cs_test_a12qlMrgNMUjLZBvjiijOeqMX6VBSC114OePeYDiRpekDShPp8z26aD5Ns", "object"=>"checkout.session", "allow_promotion_codes"=>nil, "amount_subtotal"=>5599, "amount_total"=>5599, "automatic_tax"=>{"enabled"=>false, "status"=>nil}, "billing_address_collection"=>nil, "cancel_url"=>"http://localhost:3000//animals", "client_reference_id"=>nil, "currency"=>"aud", "customer"=>"cus_K0XCYmDnaaLnw2", "customer_details"=>{"email"=>"sponsor@sponsor.com", "tax_exempt"=>"none", "tax_ids"=>[]}, "customer_email"=>"sponsor@sponsor.com", "livemode"=>false, "locale"=>nil, "metadata"=>{}, "mode"=>"payment", "payment_intent"=>"pi_3JMW7TIeFWwPeKyV1XPlfRAJ", "payment_method_options"=>{}, "payment_method_types"=>["card"], "payment_status"=>"paid", "setup_intent"=>nil, "shipping"=>nil, "shipping_address_collection"=>nil, "submit_type"=>nil, "subscription"=>nil, "success_url"=>"http://localhost:3000//payments/success?name=Piggy smalls", "total_details"=>{"amount_discount"=>0, "amount_shipping"=>0, "amount_tax"=>0}, "url"=>nil}}, "livemode"=>false, "pending_webhooks"=>1, "request"=>{"id"=>nil, "idempotency_key"=>"[FILTERED]"}, "type"=>"checkout.session.completed"}}
Started GET "//payments/success?name=Piggy%20smalls" for ::1 at 2021-08-09 18:54:27 +0800
Processing by PaymentsController#success as HTML
  Parameters: {"name"=>"Piggy smalls"}
  Rendering layout layouts/application.html.erb
  Rendering payments/success.html.erb within layouts/application
  Rendered payments/success.html.erb within layouts/application (Duration: 1.6ms | Allocations: 175)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 8.1ms | Allocations: 1708)
  Rendered layout layouts/application.html.erb (Duration: 26.2ms | Allocations: 10041)
Completed 200 OK in 31ms (Views: 27.8ms | ActiveRecord: 1.2ms | Allocations: 11066)


  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:39:in `webhook'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:40:in `webhook'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:40:in `webhook'
  [1m[36mUser Load (21.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:40:in `webhook'
  [1m[36mAnimal Update (37.0ms)[0m  [1m[33mUPDATE "animals" SET "sponsored" = $1, "updated_at" = $2 WHERE "animals"."id" = $3[0m  [["sponsored", true], ["updated_at", "2021-08-09 10:54:27.781973"], ["id", 4]]
  ↳ app/controllers/payments_controller.rb:40:in `webhook'
  [1m[36mTRANSACTION (12.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:40:in `webhook'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mAnimal Load (0.7ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mSponsorship Create (45.0ms)[0m  [1m[32mINSERT INTO "sponsorships" ("receipt", "animal_id", "owner_id", "sponsor_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["receipt", "https://pay.stripe.com/receipts/acct_1JKEzmIeFWwPeKyV/ch_3JMW7TIeFWwPeKyV1GZXXUxK/rcpt_K0XCbjZAYY94YwKneoRrUs33p0Q7r0l"], ["animal_id", 4], ["owner_id", 4], ["sponsor_id", 2], ["created_at", "2021-08-09 10:54:27.870972"], ["updated_at", "2021-08-09 10:54:27.870972"]]
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:42:in `webhook'
  [1m[36mSponsorship Load (0.3ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:42:in `webhook'
  [1m[36mChat Create (3.0ms)[0m  [1m[32mINSERT INTO "chats" ("sponsorship_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["sponsorship_id", 1], ["created_at", "2021-08-09 10:54:27.943489"], ["updated_at", "2021-08-09 10:54:27.943489"]]
  ↳ app/controllers/payments_controller.rb:42:in `webhook'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:42:in `webhook'
No template found for PaymentsController#webhook, rendering head :no_content
Completed 204 No Content in 1950ms (ActiveRecord: 133.5ms | Allocations: 40224)


Started GET "/account" for ::1 at 2021-08-09 18:56:50 +0800
Processing by PagesController#account as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSponsorship Load (0.3ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."sponsor_id" = $1[0m  [["sponsor_id", 2]]
  ↳ app/controllers/pages_controller.rb:24:in `map'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:24:in `block in account'
  Rendering layout layouts/application.html.erb
  Rendering pages/account.html.erb within layouts/application
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.3ms | Allocations: 1848)
  Rendered pages/account.html.erb within layouts/application (Duration: 11.3ms | Allocations: 4279)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.2ms | Allocations: 806)
  Rendered layout layouts/application.html.erb (Duration: 40.5ms | Allocations: 13226)
Completed 200 OK in 53ms (Views: 40.2ms | ActiveRecord: 2.0ms | Allocations: 16555)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlVGd4YW1SNFlqQTJhVEpoTlc4eGNXOHpkMnByY25RMGRqQjBhUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQxMDo1ODo0MS4xNTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--182abd9fd2d19c37d1b1f1fc7ac5ab3694d6c2c4/profile.jpg" for ::1 at 2021-08-09 18:56:50 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 381)


Started GET "/animals/4" for ::1 at 2021-08-09 18:56:54 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (2.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.3ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.3ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  Rendered animals/show.html.erb within layouts/application (Duration: 55.2ms | Allocations: 13670)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.3ms | Allocations: 808)
  Rendered layout layouts/application.html.erb (Duration: 81.3ms | Allocations: 22533)
Completed 200 OK in 97ms (Views: 74.9ms | ActiveRecord: 9.4ms | Allocations: 25146)


Started POST "/animals/new_message/4" for ::1 at 2021-08-09 18:57:09 +0800
Processing by AnimalsController#new_message as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>"pls upload more pig pics", "commit"=>"Send Message", "id"=>"4"}
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mSponsorship Load (0.3ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mMessage Create (2.4ms)[0m  [1m[32mINSERT INTO "messages" ("chat_id", "sender_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["chat_id", 1], ["sender_id", 2], ["body", "pls upload more pig pics"], ["created_at", "2021-08-09 10:57:09.540877"], ["updated_at", "2021-08-09 10:57:09.540877"]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
Redirected to http://localhost:3000/animals/4
Completed 302 Found in 39ms (ActiveRecord: 8.6ms | Allocations: 11610)


Started GET "/animals/4" for ::1 at 2021-08-09 18:57:09 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.3ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 26.9ms | Allocations: 9794)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 791)
  Rendered layout layouts/application.html.erb (Duration: 43.2ms | Allocations: 18583)
Completed 200 OK in 63ms (Views: 41.6ms | ActiveRecord: 3.7ms | Allocations: 21189)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlVGd4YW1SNFlqQTJhVEpoTlc4eGNXOHpkMnByY25RMGRqQjBhUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQxMDo1ODo0MS4xNTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--182abd9fd2d19c37d1b1f1fc7ac5ab3694d6c2c4/profile.jpg" for ::1 at 2021-08-09 18:57:09 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 361)


Started DELETE "/users/sign_out" for ::1 at 2021-08-09 18:57:20 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.2ms | Allocations: 1892)


Started GET "/" for ::1 at 2021-08-09 18:57:20 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 125)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.7ms | Allocations: 789)
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | Allocations: 8714)
Completed 200 OK in 16ms (Views: 15.4ms | ActiveRecord: 0.0ms | Allocations: 9318)


Started GET "/users/sign_in" for ::1 at 2021-08-09 18:57:22 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 68)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 919)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.7ms | Allocations: 806)
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | Allocations: 9720)
Completed 200 OK in 22ms (Views: 18.2ms | ActiveRecord: 0.0ms | Allocations: 10465)


Started POST "/users/sign_in" for ::1 at 2021-08-09 18:57:30 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"new@new.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "new@new.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 234ms (ActiveRecord: 0.7ms | Allocations: 2359)


Started GET "/" for ::1 at 2021-08-09 18:57:30 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1021)


Started GET "/home" for ::1 at 2021-08-09 18:57:30 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.5ms | Allocations: 1787)
  Rendered pages/home.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2042)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 792)
  Rendered layout layouts/application.html.erb (Duration: 19.7ms | Allocations: 10924)
Completed 200 OK in 26ms (Views: 19.9ms | ActiveRecord: 1.0ms | Allocations: 13928)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZM2h5T1RoeFlXTjFhbk0zZFdNek56ZHhlbkZpTjNKbk5XdDRkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMTA6NTc6NDUuMzEwWiIsInB1ciI6ImJsb2Jfa2V5In19--7ec9510c29b9851cb2fa3c0ad027c8a84ffba204/cow.jpg" for ::1 at 2021-08-09 18:57:31 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 369)


Started GET "/account" for ::1 at 2021-08-09 18:57:35 +0800
Processing by PagesController#account as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pages/account.html.erb within layouts/application
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.5ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."owner_id" = $1[0m  [["owner_id", 4]]
  ↳ app/views/pages/account.html.erb:21
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.2ms | Allocations: 1793)
  Rendered pages/account.html.erb within layouts/application (Duration: 14.0ms | Allocations: 4364)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 797)
  Rendered layout layouts/application.html.erb (Duration: 31.8ms | Allocations: 13171)
Completed 200 OK in 37ms (Views: 30.7ms | ActiveRecord: 1.8ms | Allocations: 14767)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlVGd4YW1SNFlqQTJhVEpoTlc4eGNXOHpkMnByY25RMGRqQjBhUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQxMDo1ODo0MS4xNTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--182abd9fd2d19c37d1b1f1fc7ac5ab3694d6c2c4/profile.jpg" for ::1 at 2021-08-09 18:57:35 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 345)


Started GET "/animals/4" for ::1 at 2021-08-09 18:57:38 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (1.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.3ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 22.5ms | Allocations: 10790)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 788)
  Rendered layout layouts/application.html.erb (Duration: 34.1ms | Allocations: 19473)
Completed 200 OK in 44ms (Views: 31.9ms | ActiveRecord: 5.0ms | Allocations: 22046)


Started POST "/animals/new_message/4" for ::1 at 2021-08-09 18:57:47 +0800
Processing by AnimalsController#new_message as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>"kk", "commit"=>"Send Message", "id"=>"4"}
  [1m[36mAnimal Load (0.8ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mSponsorship Load (0.4ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mMessage Create (2.0ms)[0m  [1m[32mINSERT INTO "messages" ("chat_id", "sender_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["chat_id", 1], ["sender_id", 4], ["body", "kk"], ["created_at", "2021-08-09 10:57:47.101696"], ["updated_at", "2021-08-09 10:57:47.101696"]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
Redirected to http://localhost:3000/animals/4
Completed 302 Found in 32ms (ActiveRecord: 6.3ms | Allocations: 7598)


Started GET "/animals/4" for ::1 at 2021-08-09 18:57:47 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.6ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.5ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.2ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mChat Load (24.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (3.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  [1m[36mUser Load (15.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 78.9ms | Allocations: 11448)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.6ms | Allocations: 788)
  Rendered layout layouts/application.html.erb (Duration: 97.3ms | Allocations: 20131)
Completed 200 OK in 108ms (Views: 51.5ms | ActiveRecord: 48.3ms | Allocations: 22710)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlVGd4YW1SNFlqQTJhVEpoTlc4eGNXOHpkMnByY25RMGRqQjBhUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQxMDo1ODo0MS4xNTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--182abd9fd2d19c37d1b1f1fc7ac5ab3694d6c2c4/profile.jpg" for ::1 at 2021-08-09 18:57:47 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 359)


Started POST "/animals/media/4" for ::1 at 2021-08-09 18:58:02 +0800
Processing by AnimalsController#media_add as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "media"=>[#<ActionDispatch::Http::UploadedFile:0x00007fecd4fe0970 @tempfile=#<Tempfile:/var/folders/g1/w_b947c941n8tclr4gvh68d00000gn/T/RackMultipart20210809-28965-atjlgv.jpg>, @original_filename="med1.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"media[]\"; filename=\"med1.jpg\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fecd4fe08f8 @tempfile=#<Tempfile:/var/folders/g1/w_b947c941n8tclr4gvh68d00000gn/T/RackMultipart20210809-28965-q81rs7.jpg>, @original_filename="med2.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"media[]\"; filename=\"med2.jpg\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fecd4fe08a8 @tempfile=#<Tempfile:/var/folders/g1/w_b947c941n8tclr4gvh68d00000gn/T/RackMultipart20210809-28965-4s1eqz.jpg>, @original_filename="med3.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"media[]\"; filename=\"med3.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"Add Photos", "id"=>"4"}
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Blob Create (1.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "pxwchmx59ajsvleft1etche33wn8"], ["filename", "med1.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 143104], ["checksum", "ayEpTqhmjphH8eNK9Mvs6w=="], ["created_at", "2021-08-09 10:58:02.261263"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "media"], ["record_type", "Animal"], ["record_id", 4], ["blob_id", 5], ["created_at", "2021-08-09 10:58:02.265515"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mAnimal Update (0.3ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 10:58:02.269001"], ["id", 4]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mTRANSACTION (40.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[36m  Disk Storage (4.2ms) [0m[32mUploaded file to key: pxwchmx59ajsvleft1etche33wn8 (checksum: ayEpTqhmjphH8eNK9Mvs6w==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 49d28f51-b8a3-4f11-87e9-996d582ba631) to Async(default) with arguments: #<GlobalID:0x00007fecd888f0f0 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/5>>
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [49d28f51-b8a3-4f11-87e9-996d582ba631] Performing ActiveStorage::AnalyzeJob (Job ID: 49d28f51-b8a3-4f11-87e9-996d582ba631) from Async(default) enqueued at 2021-08-09T10:58:02Z with arguments: #<GlobalID:0x00007fecd5c8b828 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/5>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [49d28f51-b8a3-4f11-87e9-996d582ba631] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: pxwchmx59ajsvleft1etche33wn8[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [49d28f51-b8a3-4f11-87e9-996d582ba631] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [49d28f51-b8a3-4f11-87e9-996d582ba631]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [49d28f51-b8a3-4f11-87e9-996d582ba631]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 5]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [49d28f51-b8a3-4f11-87e9-996d582ba631]   [1m[36mTRANSACTION (27.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveStorage::Blob Load (40.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [49d28f51-b8a3-4f11-87e9-996d582ba631] Performed ActiveStorage::AnalyzeJob (Job ID: 49d28f51-b8a3-4f11-87e9-996d582ba631) from Async(default) in 37.87ms
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "o6mzh45dn1abh5n1aokykmhv2w54"], ["filename", "med2.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 41610], ["checksum", "N8HIRAdfwY9mBxXx6aqR4A=="], ["created_at", "2021-08-09 10:58:02.366603"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "media"], ["record_type", "Animal"], ["record_id", 4], ["blob_id", 6], ["created_at", "2021-08-09 10:58:02.370226"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mAnimal Update (0.4ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 10:58:02.372260"], ["id", 4]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mTRANSACTION (41.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[36m  Disk Storage (8.8ms) [0m[32mUploaded file to key: o6mzh45dn1abh5n1aokykmhv2w54 (checksum: N8HIRAdfwY9mBxXx6aqR4A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8da506e6-ce0c-4ae1-83a9-ec6079dcef6c) to Async(default) with arguments: #<GlobalID:0x00007fecce5a6820 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/6>>
  [1m[36mActiveStorage::Blob Load (3.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8da506e6-ce0c-4ae1-83a9-ec6079dcef6c] Performing ActiveStorage::AnalyzeJob (Job ID: 8da506e6-ce0c-4ae1-83a9-ec6079dcef6c) from Async(default) enqueued at 2021-08-09T10:58:02Z with arguments: #<GlobalID:0x00007fecce5fdcb0 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/6>>
  [1m[36mActiveStorage::Blob Load (1.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [8da506e6-ce0c-4ae1-83a9-ec6079dcef6c] [36m  Disk Storage (0.8ms) [0m[34mDownloaded file from key: o6mzh45dn1abh5n1aokykmhv2w54[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8da506e6-ce0c-4ae1-83a9-ec6079dcef6c] Skipping image analysis because the mini_magick gem isn't installed
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [8da506e6-ce0c-4ae1-83a9-ec6079dcef6c]   [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveStorage::Blob Create (2.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "brs0xzr3vz2h3wypjut6cbwt7rem"], ["filename", "med3.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 54333], ["checksum", "K2oKH6jg+b7kR3qC5cPlSg=="], ["created_at", "2021-08-09 10:58:02.440219"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [8da506e6-ce0c-4ae1-83a9-ec6079dcef6c]   [1m[36mActiveStorage::Blob Update (1.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 6]]
  [1m[36mActiveStorage::Attachment Create (1.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "media"], ["record_type", "Animal"], ["record_id", 4], ["blob_id", 7], ["created_at", "2021-08-09 10:58:02.449572"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mAnimal Update (0.3ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 10:58:02.453425"], ["id", 4]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [8da506e6-ce0c-4ae1-83a9-ec6079dcef6c]   [1m[36mTRANSACTION (39.7ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8da506e6-ce0c-4ae1-83a9-ec6079dcef6c] Performed ActiveStorage::AnalyzeJob (Job ID: 8da506e6-ce0c-4ae1-83a9-ec6079dcef6c) from Async(default) in 57.02ms
  [1m[36mTRANSACTION (38.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[36m  Disk Storage (1.6ms) [0m[32mUploaded file to key: brs0xzr3vz2h3wypjut6cbwt7rem (checksum: K2oKH6jg+b7kR3qC5cPlSg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 79b474c5-abcb-4ddc-85f4-3519cec89e0e) to Async(default) with arguments: #<GlobalID:0x00007fecd88fdd98 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/7>>
Redirected to http://localhost:3000/animals/4
Completed 302 Found in 271ms (ActiveRecord: 173.8ms | Allocations: 36638)


  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [79b474c5-abcb-4ddc-85f4-3519cec89e0e] Performing ActiveStorage::AnalyzeJob (Job ID: 79b474c5-abcb-4ddc-85f4-3519cec89e0e) from Async(default) enqueued at 2021-08-09T10:58:02Z with arguments: #<GlobalID:0x00007feccdd939f8 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/7>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [79b474c5-abcb-4ddc-85f4-3519cec89e0e] [36m  Disk Storage (0.9ms) [0m[34mDownloaded file from key: brs0xzr3vz2h3wypjut6cbwt7rem[0m
Started GET "/animals/4" for ::1 at 2021-08-09 18:58:02 +0800
Processing by AnimalsController#show as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [79b474c5-abcb-4ddc-85f4-3519cec89e0e] Skipping image analysis because the mini_magick gem isn't installed
  Parameters: {"id"=>"4"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [79b474c5-abcb-4ddc-85f4-3519cec89e0e]   [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Load (1.5ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
[ActiveJob] [ActiveStorage::AnalyzeJob] [79b474c5-abcb-4ddc-85f4-3519cec89e0e]   [1m[36mActiveStorage::Blob Update (1.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 7]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.1ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.5ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 37.3ms | Allocations: 14380)
[ActiveJob] [ActiveStorage::AnalyzeJob] [79b474c5-abcb-4ddc-85f4-3519cec89e0e]   [1m[36mTRANSACTION (40.8ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [79b474c5-abcb-4ddc-85f4-3519cec89e0e] Performed ActiveStorage::AnalyzeJob (Job ID: 79b474c5-abcb-4ddc-85f4-3519cec89e0e) from Async(default) in 55.34ms
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.2ms | Allocations: 800)
  Rendered layout layouts/application.html.erb (Duration: 70.7ms | Allocations: 23956)
Completed 200 OK in 80ms (Views: 68.0ms | ActiveRecord: 5.8ms | Allocations: 28143)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--a17d47673b515a0c9d9d42d4f0b1d87395f9f0bb/med1.jpg" for ::1 at 2021-08-09 18:58:02 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--a17d47673b515a0c9d9d42d4f0b1d87395f9f0bb", "filename"=>"med1"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlVGd4YW1SNFlqQTJhVEpoTlc4eGNXOHpkMnByY25RMGRqQjBhUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQxMDo1ODo0MS4xNTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--182abd9fd2d19c37d1b1f1fc7ac5ab3694d6c2c4/profile.jpg" for ::1 at 2021-08-09 18:58:02 +0800
Processing by ActiveStorage::DiskController#show as JPEG
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1181dfeb5ff2fa4a4646b7639c93d65cc66afc8c/med3.jpg" for ::1 at 2021-08-09 18:58:02 +0800
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--194d65c44bdc2ffe6fe6670d79304c31265d073c/med2.jpg" for ::1 at 2021-08-09 18:58:02 +0800
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 371)


[36m  Disk Storage (0.7ms) [0m[34mGenerated URL for file at key: pxwchmx59ajsvleft1etche33wn8 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjSGgzWTJodGVEVTVZV3B6ZG14bFpuUXhaWFJqYUdVek0zZHVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpERXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXhMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMTE6MDM6MDIuODIyWiIsInB1ciI6ImJsb2Jfa2V5In19--f058a4476fdfb15ed82c9dbed1282805f60a4112/med1.jpg)[0m
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjSGgzWTJodGVEVTVZV3B6ZG14bFpuUXhaWFJqYUdVek0zZHVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpERXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXhMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMTE6MDM6MDIuODIyWiIsInB1ciI6ImJsb2Jfa2V5In19--f058a4476fdfb15ed82c9dbed1282805f60a4112/med1.jpg
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1181dfeb5ff2fa4a4646b7639c93d65cc66afc8c", "filename"=>"med3"}
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--194d65c44bdc2ffe6fe6670d79304c31265d073c", "filename"=>"med2"}
Completed 302 Found in 229ms (ActiveRecord: 0.5ms | Allocations: 5664)


  [1m[36mActiveStorage::Blob Load (10.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[36m  Disk Storage (0.7ms) [0m[34mGenerated URL for file at key: brs0xzr3vz2h3wypjut6cbwt7rem (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZbkp6TUhoNmNqTjJlakpvTTNkNWNHcDFkRFpqWW5kME4zSmxiUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMTE6MDM6MDIuOTA0WiIsInB1ciI6ImJsb2Jfa2V5In19--12415780e3f99f0e2489f930961da984b164bbd2/med3.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZbkp6TUhoNmNqTjJlakpvTTNkNWNHcDFkRFpqWW5kME4zSmxiUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMTE6MDM6MDIuOTA0WiIsInB1ciI6ImJsb2Jfa2V5In19--12415780e3f99f0e2489f930961da984b164bbd2/med3.jpg
Completed 302 Found in 45ms (ActiveRecord: 10.2ms | Allocations: 2450)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjSGgzWTJodGVEVTVZV3B6ZG14bFpuUXhaWFJqYUdVek0zZHVPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpERXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXhMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMTE6MDM6MDIuODIyWiIsInB1ciI6ImJsb2Jfa2V5In19--f058a4476fdfb15ed82c9dbed1282805f60a4112/med1.jpg" for ::1 at 2021-08-09 18:58:02 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med1"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 793)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZbkp6TUhoNmNqTjJlakpvTTNkNWNHcDFkRFpqWW5kME4zSmxiUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMTE6MDM6MDIuOTA0WiIsInB1ciI6ImJsb2Jfa2V5In19--12415780e3f99f0e2489f930961da984b164bbd2/med3.jpg" for ::1 at 2021-08-09 18:58:02 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med3"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 365)


  [1m[36mActiveStorage::Blob Load (2.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
[36m  Disk Storage (0.6ms) [0m[34mGenerated URL for file at key: o6mzh45dn1abh5n1aokykmhv2w54 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhielp0ZW1nME5XUnVNV0ZpYURWdU1XRnZhM2xyYldoMk1uYzFOQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMTE6MDM6MDMuMTE5WiIsInB1ciI6ImJsb2Jfa2V5In19--d069e9487d7ea0e94f29d0cdf31ee1841a3e1121/med2.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhielp0ZW1nME5XUnVNV0ZpYURWdU1XRnZhM2xyYldoMk1uYzFOQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMTE6MDM6MDMuMTE5WiIsInB1ciI6ImJsb2Jfa2V5In19--d069e9487d7ea0e94f29d0cdf31ee1841a3e1121/med2.jpg
Completed 302 Found in 234ms (ActiveRecord: 16.2ms | Allocations: 9490)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhielp0ZW1nME5XUnVNV0ZpYURWdU1XRnZhM2xyYldoMk1uYzFOQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMTE6MDM6MDMuMTE5WiIsInB1ciI6ImJsb2Jfa2V5In19--d069e9487d7ea0e94f29d0cdf31ee1841a3e1121/med2.jpg" for ::1 at 2021-08-09 18:58:03 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med2"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 362)


Started DELETE "/animals/media/4?media_id=5" for ::1 at 2021-08-09 18:58:14 +0800
Processing by AnimalsController#media_delete as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "media_id"=>"5", "id"=>"4"}
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 AND "active_storage_attachments"."id" = $4 LIMIT $5[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Attachment Destroy (0.3ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = $1[0m  [["id", 5]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mAnimal Update (0.7ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 10:58:14.608090"], ["id", 4]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Attachment Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = $1 LIMIT $2[0m  [["blob_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1[0m  [["blob_id", 5]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 5], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Blob Destroy (1.4ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1[0m  [["id", 5]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (40.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
[36m  Disk Storage (0.3ms) [0m[31mDeleted file from key: pxwchmx59ajsvleft1etche33wn8[0m
[36m  Disk Storage (0.2ms) [0m[31mDeleted files by key prefix: variants/pxwchmx59ajsvleft1etche33wn8/[0m
Redirected to http://localhost:3000/animals/4
Completed 302 Found in 90ms (ActiveRecord: 52.0ms | Allocations: 14583)


Started GET "/animals/4" for ::1 at 2021-08-09 18:58:14 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.3ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.5ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mChat Load (0.5ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (1.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 47.8ms | Allocations: 13497)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.9ms | Allocations: 800)
  Rendered layout layouts/application.html.erb (Duration: 73.5ms | Allocations: 22422)
Completed 200 OK in 81ms (Views: 67.8ms | ActiveRecord: 7.0ms | Allocations: 25110)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlVGd4YW1SNFlqQTJhVEpoTlc4eGNXOHpkMnByY25RMGRqQjBhUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQxMDo1ODo0MS4xNTdaIiwicHVyIjoiYmxvYl9rZXkifX0=--182abd9fd2d19c37d1b1f1fc7ac5ab3694d6c2c4/profile.jpg" for ::1 at 2021-08-09 18:58:14 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 367)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhielp0ZW1nME5XUnVNV0ZpYURWdU1XRnZhM2xyYldoMk1uYzFOQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMTE6MDM6MDMuMTE5WiIsInB1ciI6ImJsb2Jfa2V5In19--d069e9487d7ea0e94f29d0cdf31ee1841a3e1121/med2.jpg" for ::1 at 2021-08-09 18:58:14 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med2"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 345)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZbkp6TUhoNmNqTjJlakpvTTNkNWNHcDFkRFpqWW5kME4zSmxiUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMTE6MDM6MDIuOTA0WiIsInB1ciI6ImJsb2Jfa2V5In19--12415780e3f99f0e2489f930961da984b164bbd2/med3.jpg" for ::1 at 2021-08-09 18:58:14 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med3"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 349)


Started GET "/animals/4" for ::1 at 2021-08-09 19:16:00 +0800
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.7ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.7ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.4ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.7ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 187.8ms | Allocations: 64784)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 3.0ms | Allocations: 1388)
  Rendered layout layouts/application.html.erb (Duration: 286.0ms | Allocations: 86039)
Completed 200 OK in 370ms (Views: 250.6ms | ActiveRecord: 52.4ms | Allocations: 114897)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--f29baae4a4fcf412c037bc80af8a2603fdd7304d/profile.jpg" for ::1 at 2021-08-09 19:16:00 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--f29baae4a4fcf412c037bc80af8a2603fdd7304d", "filename"=>"profile"}
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--194d65c44bdc2ffe6fe6670d79304c31265d073c/med2.jpg" for ::1 at 2021-08-09 19:16:00 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--194d65c44bdc2ffe6fe6670d79304c31265d073c", "filename"=>"med2"}
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1181dfeb5ff2fa4a4646b7639c93d65cc66afc8c/med3.jpg" for ::1 at 2021-08-09 19:16:00 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1181dfeb5ff2fa4a4646b7639c93d65cc66afc8c", "filename"=>"med3"}
  [1m[36mActiveStorage::Blob Load (27.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[36m  Disk Storage (11.4ms) [0m[34mGenerated URL for file at key: y81jdxb06i2a5o1qo3wjkrt4v0ti (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlVGd4YW1SNFlqQTJhVEpoTlc4eGNXOHpkMnByY25RMGRqQjBhUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQxMToyMTowMS4wMTlaIiwicHVyIjoiYmxvYl9rZXkifX0=--5e6ea21c5bd45f1a29bea480df51458a4578109d/profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlVGd4YW1SNFlqQTJhVEpoTlc4eGNXOHpkMnByY25RMGRqQjBhUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQxMToyMTowMS4wMTlaIiwicHVyIjoiYmxvYl9rZXkifX0=--5e6ea21c5bd45f1a29bea480df51458a4578109d/profile.jpg
Completed 302 Found in 57ms (ActiveRecord: 27.6ms | Allocations: 7703)


  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[36m  Disk Storage (0.5ms) [0m[34mGenerated URL for file at key: brs0xzr3vz2h3wypjut6cbwt7rem (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZbkp6TUhoNmNqTjJlakpvTTNkNWNHcDFkRFpqWW5kME4zSmxiUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMTE6MjE6MDEuMDkzWiIsInB1ciI6ImJsb2Jfa2V5In19--9e29eb04b494745a3ae6b562d1afffebe4fb7b9e/med3.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZbkp6TUhoNmNqTjJlakpvTTNkNWNHcDFkRFpqWW5kME4zSmxiUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMTE6MjE6MDEuMDkzWiIsInB1ciI6ImJsb2Jfa2V5In19--9e29eb04b494745a3ae6b562d1afffebe4fb7b9e/med3.jpg
Completed 302 Found in 105ms (ActiveRecord: 12.8ms | Allocations: 8961)


  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
[36m  Disk Storage (0.5ms) [0m[34mGenerated URL for file at key: o6mzh45dn1abh5n1aokykmhv2w54 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhielp0ZW1nME5XUnVNV0ZpYURWdU1XRnZhM2xyYldoMk1uYzFOQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMTE6MjE6MDEuMTAzWiIsInB1ciI6ImJsb2Jfa2V5In19--29925e798250067464300c6148c49886f770d16e/med2.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhielp0ZW1nME5XUnVNV0ZpYURWdU1XRnZhM2xyYldoMk1uYzFOQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMTE6MjE6MDEuMTAzWiIsInB1ciI6ImJsb2Jfa2V5In19--29925e798250067464300c6148c49886f770d16e/med2.jpg
Completed 302 Found in 129ms (ActiveRecord: 57.5ms | Allocations: 12748)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlVGd4YW1SNFlqQTJhVEpoTlc4eGNXOHpkMnByY25RMGRqQjBhUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQxMToyMTowMS4wMTlaIiwicHVyIjoiYmxvYl9rZXkifX0=--5e6ea21c5bd45f1a29bea480df51458a4578109d/profile.jpg" for ::1 at 2021-08-09 19:16:01 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 538)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZbkp6TUhoNmNqTjJlakpvTTNkNWNHcDFkRFpqWW5kME4zSmxiUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMTE6MjE6MDEuMDkzWiIsInB1ciI6ImJsb2Jfa2V5In19--9e29eb04b494745a3ae6b562d1afffebe4fb7b9e/med3.jpg" for ::1 at 2021-08-09 19:16:01 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhielp0ZW1nME5XUnVNV0ZpYURWdU1XRnZhM2xyYldoMk1uYzFOQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMTE6MjE6MDEuMTAzWiIsInB1ciI6ImJsb2Jfa2V5In19--29925e798250067464300c6148c49886f770d16e/med2.jpg" for ::1 at 2021-08-09 19:16:01 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med2"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 366)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med3"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 360)


Started GET "/" for ::1 at 2021-08-09 19:16:16 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.9ms | Allocations: 1495)


Started GET "/home" for ::1 at 2021-08-09 19:16:16 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.9ms | Allocations: 2140)
  Rendered pages/home.html.erb within layouts/application (Duration: 8.3ms | Allocations: 3035)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.9ms | Allocations: 817)
  Rendered layout layouts/application.html.erb (Duration: 48.6ms | Allocations: 12137)
Completed 200 OK in 118ms (Views: 50.5ms | ActiveRecord: 33.2ms | Allocations: 19162)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19/cow.jpg" for ::1 at 2021-08-09 19:16:16 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19", "filename"=>"cow"}
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (0.4ms) [0m[34mGenerated URL for file at key: cxr98qacujs7uc377qzqb7rg5kxv (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZM2h5T1RoeFlXTjFhbk0zZFdNek56ZHhlbkZpTjNKbk5XdDRkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMTE6MjE6MTYuODQ1WiIsInB1ciI6ImJsb2Jfa2V5In19--7f981ea1390433268acba549dc4b660dee06b15d/cow.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZM2h5T1RoeFlXTjFhbk0zZFdNek56ZHhlbkZpTjNKbk5XdDRkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMTE6MjE6MTYuODQ1WiIsInB1ciI6ImJsb2Jfa2V5In19--7f981ea1390433268acba549dc4b660dee06b15d/cow.jpg
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1561)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZM2h5T1RoeFlXTjFhbk0zZFdNek56ZHhlbkZpTjNKbk5XdDRkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMTE6MjE6MTYuODQ1WiIsInB1ciI6ImJsb2Jfa2V5In19--7f981ea1390433268acba549dc4b660dee06b15d/cow.jpg" for ::1 at 2021-08-09 19:16:16 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 385)


  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (124.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (62.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "save_their_bacon_development"[0m
  [1m[35m (48.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "save_their_bacon_test"[0m
  [1m[35m (225.7ms)[0m  [1m[35mCREATE DATABASE "save_their_bacon_development" ENCODING = 'unicode'[0m
  [1m[35m (159.5ms)[0m  [1m[35mCREATE DATABASE "save_their_bacon_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (1.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (12.8ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "street_number" character varying, "street_name" character varying, "postcode" character varying, "suburb" character varying, "state_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_state_id" ON "addresses" ("state_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "animals" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "name" character varying, "year_born" integer, "weight" integer, "bio" text, "species" character varying, "sponsored" boolean DEFAULT FALSE NOT NULL, "sponsor_price" integer, "category_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_animals_on_category_id" ON "animals" ("category_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_animals_on_owner_id" ON "animals" ("owner_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "articles" ("id" bigserial primary key, "title" character varying, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "sponsorship_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_chats_on_sponsorship_id" ON "chats" ("sponsorship_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "chat_id" bigint NOT NULL, "sender_id" bigint NOT NULL, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_messages_on_chat_id" ON "messages" ("chat_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_messages_on_sender_id" ON "messages" ("sender_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "sponsorships" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "sponsorships" ("id" bigserial primary key, "receipt" character varying, "animal_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "sponsor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_animal_id" ON "sponsorships" ("animal_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_owner_id" ON "sponsorships" ("owner_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_sponsor_id" ON "sponsorships" ("sponsor_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "states" CASCADE[0m
  [1m[35m (84.0ms)[0m  [1m[35mCREATE TABLE "states" ("id" bigserial primary key, "name" character varying, "country_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE INDEX "index_states_on_country_id" ON "states" ("country_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "first_name" character varying, "last_name" character varying, "approved" boolean, "role" integer, "date_of_birth" date, "address_id" bigint NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_users_on_address_id" ON "users" ("address_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_2d87b6c11e"
FOREIGN KEY ("state_id")
  REFERENCES "states" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_fe0d97b5eb"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_8d97761a89"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "chats" ADD CONSTRAINT "fk_rails_4d1bd8a917"
FOREIGN KEY ("sponsorship_id")
  REFERENCES "sponsorships" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_ac0a2a4ca2"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_fb21d21baf"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (41.8ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_bf78e760cb"
FOREIGN KEY ("sponsor_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "states" ADD CONSTRAINT "fk_rails_40bd891262"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_eb2fc738e4"
FOREIGN KEY ("address_id")
  REFERENCES "addresses" ("id")
[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210809103829)[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20210726021338),
(20210726031458),
(20210727000917),
(20210727001212),
(20210727001446),
(20210727002353),
(20210727014626),
(20210727014902),
(20210727021825),
(20210728001211),
(20210803015959),
(20210803020258);

[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-08-09 22:59:59.557862"], ["updated_at", "2021-08-09 22:59:59.557862"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "4a28e1dc81aafcce80d6bf5ac6f779ffc2460a65"], ["created_at", "2021-08-09 22:59:59.566477"], ["updated_at", "2021-08-09 22:59:59.566477"]]
  [1m[36mTRANSACTION (40.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "street_number" character varying, "street_name" character varying, "postcode" character varying, "suburb" character varying, "state_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_state_id" ON "addresses" ("state_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "animals" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "name" character varying, "year_born" integer, "weight" integer, "bio" text, "species" character varying, "sponsored" boolean DEFAULT FALSE NOT NULL, "sponsor_price" integer, "category_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_animals_on_category_id" ON "animals" ("category_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_animals_on_owner_id" ON "animals" ("owner_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles" CASCADE[0m
  [1m[35m (45.9ms)[0m  [1m[35mCREATE TABLE "articles" ("id" bigserial primary key, "title" character varying, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "sponsorship_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_chats_on_sponsorship_id" ON "chats" ("sponsorship_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "chat_id" bigint NOT NULL, "sender_id" bigint NOT NULL, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_messages_on_chat_id" ON "messages" ("chat_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_messages_on_sender_id" ON "messages" ("sender_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "sponsorships" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "sponsorships" ("id" bigserial primary key, "receipt" character varying, "animal_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "sponsor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_animal_id" ON "sponsorships" ("animal_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_owner_id" ON "sponsorships" ("owner_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_sponsor_id" ON "sponsorships" ("sponsor_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "states" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "states" ("id" bigserial primary key, "name" character varying, "country_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_states_on_country_id" ON "states" ("country_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "first_name" character varying, "last_name" character varying, "approved" boolean, "role" integer, "date_of_birth" date, "address_id" bigint NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_users_on_address_id" ON "users" ("address_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_2d87b6c11e"
FOREIGN KEY ("state_id")
  REFERENCES "states" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_fe0d97b5eb"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_8d97761a89"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "chats" ADD CONSTRAINT "fk_rails_4d1bd8a917"
FOREIGN KEY ("sponsorship_id")
  REFERENCES "sponsorships" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_ac0a2a4ca2"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_fb21d21baf"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_bf78e760cb"
FOREIGN KEY ("sponsor_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "states" ADD CONSTRAINT "fk_rails_40bd891262"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_eb2fc738e4"
FOREIGN KEY ("address_id")
  REFERENCES "addresses" ("id")
[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210809103829)[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20210726021338),
(20210726031458),
(20210727000917),
(20210727001212),
(20210727001446),
(20210727002353),
(20210727014626),
(20210727014902),
(20210727021825),
(20210728001211),
(20210803015959),
(20210803020258);

[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-08-09 22:59:59.910042"], ["updated_at", "2021-08-09 22:59:59.910042"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-08-09 22:59:59.915097"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "4a28e1dc81aafcce80d6bf5ac6f779ffc2460a65"], ["created_at", "2021-08-09 22:59:59.920503"], ["updated_at", "2021-08-09 22:59:59.920503"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Australia"], ["created_at", "2021-08-09 22:59:59.973928"], ["updated_at", "2021-08-09 22:59:59.973928"]]
  [1m[36mTRANSACTION (40.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "states"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Australia"], ["LIMIT", 1]]
  ↳ app/models/state.rb:13:in `check_if_country_exists'
  [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Australia"], ["LIMIT", 1]]
  ↳ app/models/state.rb:13:in `check_if_country_exists'
  [1m[36mState Create (0.6ms)[0m  [1m[32mINSERT INTO "states" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Western australia"], ["country_id", 1], ["created_at", "2021-08-09 23:00:00.045227"], ["updated_at", "2021-08-09 23:00:00.045227"]]
  [1m[36mTRANSACTION (40.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mState Load (0.1ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mAddress Create (0.7ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Admin St"], ["postcode", "1234"], ["suburb", "Admington"], ["state_id", 1], ["created_at", "2021-08-09 23:00:00.107607"], ["updated_at", "2021-08-09 23:00:00.107607"]]
  [1m[36mTRANSACTION (24.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mState Load (0.3ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Sponsor St"], ["postcode", "2345"], ["suburb", "Sponsor Lake"], ["state_id", 1], ["created_at", "2021-08-09 23:00:00.139581"], ["updated_at", "2021-08-09 23:00:00.139581"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mState Load (0.1ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Sanctuary St"], ["postcode", "3456"], ["suburb", "Sanctuary Hills"], ["state_id", 1], ["created_at", "2021-08-09 23:00:00.145911"], ["updated_at", "2021-08-09 23:00:00.145911"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "admin@admin.com"], ["encrypted_password", "$2a$12$ijb07.ghImQZTPfSkP.uR.8n/VvuxNK2790GWXCMz7seOm8xtu8yK"], ["created_at", "2021-08-09 23:00:00.388644"], ["updated_at", "2021-08-09 23:00:00.388644"], ["first_name", "Admin"], ["last_name", "Admins"], ["approved", true], ["role", 2], ["date_of_birth", "1980-01-01"], ["address_id", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sponsor@sponsor.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "sponsor@sponsor.com"], ["encrypted_password", "$2a$12$/eeIL.DqHHOn3lHZ./ZX7ugEhD/9UZCreIS/WHm0v87f8KeeQAE/q"], ["created_at", "2021-08-09 23:00:00.607884"], ["updated_at", "2021-08-09 23:00:00.607884"], ["first_name", "Spon"], ["last_name", "Sor"], ["approved", true], ["role", 0], ["date_of_birth", "1980-01-01"], ["address_id", 2]]
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sanctuary@sanctuary.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "sanctuary@sanctuary.com"], ["encrypted_password", "$2a$12$zV6T71rQGi5RrlFia5Mw0.LQ/1hEFRfZkQTE.dnFJmpbiVm4QmMS2"], ["created_at", "2021-08-09 23:00:00.833187"], ["updated_at", "2021-08-09 23:00:00.833187"], ["first_name", "Sanc"], ["last_name", "Tuary"], ["approved", false], ["role", 1], ["date_of_birth", "1980-01-01"], ["address_id", 2]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pig"], ["created_at", "2021-08-09 23:00:00.849611"], ["updated_at", "2021-08-09 23:00:00.849611"]]
  [1m[36mTRANSACTION (40.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Cow"], ["created_at", "2021-08-09 23:00:00.894864"], ["updated_at", "2021-08-09 23:00:00.894864"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sheep"], ["created_at", "2021-08-09 23:00:00.901037"], ["updated_at", "2021-08-09 23:00:00.901037"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Chicken"], ["created_at", "2021-08-09 23:00:00.904762"], ["updated_at", "2021-08-09 23:00:00.904762"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Horse"], ["created_at", "2021-08-09 23:00:00.908005"], ["updated_at", "2021-08-09 23:00:00.908005"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Goat"], ["created_at", "2021-08-09 23:00:00.911251"], ["updated_at", "2021-08-09 23:00:00.911251"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Create (0.7ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Ham solo"], ["year_born", 2010], ["weight", 100], ["bio", "Proving pigs can fly"], ["species", "Chonker"], ["sponsor_price", 5000], ["category_id", 1], ["owner_id", 3], ["created_at", "2021-08-09 23:00:00.964641"], ["updated_at", "2021-08-09 23:00:00.964641"]]
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "6ldn9fczfpo6y5e3oxcjaw5ki8fq"], ["filename", "pig.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 63070], ["checksum", "90VAk/JgiPplQ/k0FbH5og=="], ["created_at", "2021-08-09 23:00:00.995220"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 1], ["blob_id", 1], ["created_at", "2021-08-09 23:00:00.998243"]]
  [1m[36mAnimal Update (0.3ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 23:00:01.000205"], ["id", 1]]
  [1m[36mTRANSACTION (40.9ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.5ms) [0m[32mUploaded file to key: 6ldn9fczfpo6y5e3oxcjaw5ki8fq (checksum: 90VAk/JgiPplQ/k0FbH5og==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 957b744d-0486-4a8f-9876-fa237b6a8d2f) to Async(default) with arguments: #<GlobalID:0x00007fc7d9079ce0 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/1>>
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Create (0.5ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Vladimir mootin"], ["year_born", 2015], ["weight", 120], ["bio", "Theres a MosCOW joke there somewhere"], ["species", "President"], ["sponsor_price", 6000], ["category_id", 2], ["owner_id", 3], ["created_at", "2021-08-09 23:00:01.060882"], ["updated_at", "2021-08-09 23:00:01.060882"]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "7nno4tvzw2halnelgo0v4487ss48"], ["filename", "cow.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 85749], ["checksum", "Yugf1sJBNAnlVPyCdAy9SA=="], ["created_at", "2021-08-09 23:00:01.069140"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 2], ["blob_id", 2], ["created_at", "2021-08-09 23:00:01.071602"]]
  [1m[36mAnimal Update (0.4ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 23:00:01.073563"], ["id", 2]]
  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [957b744d-0486-4a8f-9876-fa237b6a8d2f] Performing ActiveStorage::AnalyzeJob (Job ID: 957b744d-0486-4a8f-9876-fa237b6a8d2f) from Async(default) enqueued at 2021-08-09T23:00:01Z with arguments: #<GlobalID:0x00007fc7d90a9760 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [957b744d-0486-4a8f-9876-fa237b6a8d2f] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: 6ldn9fczfpo6y5e3oxcjaw5ki8fq[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [957b744d-0486-4a8f-9876-fa237b6a8d2f] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [957b744d-0486-4a8f-9876-fa237b6a8d2f]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [957b744d-0486-4a8f-9876-fa237b6a8d2f]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (38.5ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [957b744d-0486-4a8f-9876-fa237b6a8d2f]   [1m[36mTRANSACTION (22.6ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [957b744d-0486-4a8f-9876-fa237b6a8d2f] Performed ActiveStorage::AnalyzeJob (Job ID: 957b744d-0486-4a8f-9876-fa237b6a8d2f) from Async(default) in 40.01ms
[36m  Disk Storage (2.8ms) [0m[32mUploaded file to key: 7nno4tvzw2halnelgo0v4487ss48 (checksum: Yugf1sJBNAnlVPyCdAy9SA==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 283faea8-3476-4414-96d3-a328b3da2a78) to Async(default) with arguments: #<GlobalID:0x00007fc7d9164ce0 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/2>>
  [1m[36mCategory Load (1.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [283faea8-3476-4414-96d3-a328b3da2a78] Performing ActiveStorage::AnalyzeJob (Job ID: 283faea8-3476-4414-96d3-a328b3da2a78) from Async(default) enqueued at 2021-08-09T23:00:01Z with arguments: #<GlobalID:0x00007fc7d8291e70 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/2>>
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [283faea8-3476-4414-96d3-a328b3da2a78] [36m  Disk Storage (1.5ms) [0m[34mDownloaded file from key: 7nno4tvzw2halnelgo0v4487ss48[0m
  [1m[36mAnimal Create (0.5ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Meryl sheep"], ["year_born", 2008], ["weight", 80], ["bio", "A Farmous Actress"], ["species", "Floofer"], ["sponsor_price", 10000], ["category_id", 3], ["owner_id", 3], ["created_at", "2021-08-09 23:00:01.125833"], ["updated_at", "2021-08-09 23:00:01.125833"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [283faea8-3476-4414-96d3-a328b3da2a78] Skipping image analysis because the mini_magick gem isn't installed
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [283faea8-3476-4414-96d3-a328b3da2a78]   [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveStorage::Attachment Load (1.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [283faea8-3476-4414-96d3-a328b3da2a78]   [1m[36mActiveStorage::Blob Update (1.8ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
  [1m[36mActiveStorage::Blob Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "6ahrr8s5lsjpc6me3zdbhnvvnxt0"], ["filename", "sheep.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 99269], ["checksum", "M/Dwzj+u/kr3gCzmCGfSeg=="], ["created_at", "2021-08-09 23:00:01.137519"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 3], ["blob_id", 3], ["created_at", "2021-08-09 23:00:01.140022"]]
  [1m[36mAnimal Update (0.3ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 23:00:01.141623"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [283faea8-3476-4414-96d3-a328b3da2a78]   [1m[36mTRANSACTION (41.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [283faea8-3476-4414-96d3-a328b3da2a78] Performed ActiveStorage::AnalyzeJob (Job ID: 283faea8-3476-4414-96d3-a328b3da2a78) from Async(default) in 56.25ms
  [1m[36mTRANSACTION (38.5ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (1.6ms) [0m[32mUploaded file to key: 6ahrr8s5lsjpc6me3zdbhnvvnxt0 (checksum: M/Dwzj+u/kr3gCzmCGfSeg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 0faf3b0d-6d00-487c-b805-0dda45321c85) to Async(default) with arguments: #<GlobalID:0x00007fc7d9282618 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/3>>
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles"[0m
  [1m[36mActiveStorage::Blob Load (1.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0faf3b0d-6d00-487c-b805-0dda45321c85] Performing ActiveStorage::AnalyzeJob (Job ID: 0faf3b0d-6d00-487c-b805-0dda45321c85) from Async(default) enqueued at 2021-08-09T23:00:01Z with arguments: #<GlobalID:0x00007fc7d92bc980 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/3>>
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0faf3b0d-6d00-487c-b805-0dda45321c85] [36m  Disk Storage (7.8ms) [0m[34mDownloaded file from key: 6ahrr8s5lsjpc6me3zdbhnvvnxt0[0m
  [1m[36mArticle Create (0.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Article 1"], ["body", "This is the article"], ["created_at", "2021-08-09 23:00:01.196293"], ["updated_at", "2021-08-09 23:00:01.196293"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0faf3b0d-6d00-487c-b805-0dda45321c85] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [0faf3b0d-6d00-487c-b805-0dda45321c85]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0faf3b0d-6d00-487c-b805-0dda45321c85]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
  [1m[36mTRANSACTION (26.5ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0faf3b0d-6d00-487c-b805-0dda45321c85]   [1m[36mTRANSACTION (23.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0faf3b0d-6d00-487c-b805-0dda45321c85] Performed ActiveStorage::AnalyzeJob (Job ID: 0faf3b0d-6d00-487c-b805-0dda45321c85) from Async(default) in 43.4ms
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArticle Create (0.4ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Article 2"], ["body", "This is the article"], ["created_at", "2021-08-09 23:00:01.233751"], ["updated_at", "2021-08-09 23:00:01.233751"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArticle Create (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Website Updates"], ["body", "I did a thing to the website"], ["created_at", "2021-08-09 23:00:01.240742"], ["updated_at", "2021-08-09 23:00:01.240742"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2021-08-10 07:01:40 +0800
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 687)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 4.6ms | Allocations: 1437)
  Rendered layout layouts/application.html.erb (Duration: 140.0ms | Allocations: 21915)
Completed 200 OK in 183ms (Views: 149.8ms | ActiveRecord: 0.0ms | Allocations: 26677)


Started GET "/users/sign_in" for ::1 at 2021-08-10 07:01:51 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.7ms | Allocations: 497)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 14.0ms | Allocations: 5091)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.7ms | Allocations: 877)
  Rendered layout layouts/application.html.erb (Duration: 32.7ms | Allocations: 14131)
Completed 200 OK in 58ms (Views: 36.2ms | ActiveRecord: 5.8ms | Allocations: 23454)


Started POST "/users/sign_in" for ::1 at 2021-08-10 07:02:01 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"sanctuary@sanctuary.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "sanctuary@sanctuary.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 260ms (ActiveRecord: 0.7ms | Allocations: 6090)


Started GET "/" for ::1 at 2021-08-10 07:02:02 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1271)


Started GET "/home" for ::1 at 2021-08-10 07:02:02 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 57.1ms | Allocations: 20067)
  Rendered pages/home.html.erb within layouts/application (Duration: 60.1ms | Allocations: 20994)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 828)
  Rendered layout layouts/application.html.erb (Duration: 75.7ms | Allocations: 30119)
Completed 200 OK in 117ms (Views: 69.2ms | ActiveRecord: 14.6ms | Allocations: 45303)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19/cow.jpg" for ::1 at 2021-08-10 07:02:02 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19", "filename"=>"cow"}
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (2.7ms) [0m[34mGenerated URL for file at key: 7nno4tvzw2halnelgo0v4487ss48 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOMjV1YnpSMGRucDNNbWhoYkc1bGJHZHZNSFkwTkRnM2MzTTBPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MDc6MDIuMzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--3e907b532ee2355263aff64a11d0a29e932eb2bf/cow.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOMjV1YnpSMGRucDNNbWhoYkc1bGJHZHZNSFkwTkRnM2MzTTBPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MDc6MDIuMzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--3e907b532ee2355263aff64a11d0a29e932eb2bf/cow.jpg
Completed 302 Found in 8ms (ActiveRecord: 0.5ms | Allocations: 2380)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOMjV1YnpSMGRucDNNbWhoYkc1bGJHZHZNSFkwTkRnM2MzTTBPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MDc6MDIuMzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--3e907b532ee2355263aff64a11d0a29e932eb2bf/cow.jpg" for ::1 at 2021-08-10 07:02:02 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 529)


Started GET "/articles/3" for ::1 at 2021-08-10 07:02:45 +0800
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mArticle Load (0.5ms)[0m  [1m[34mSELECT "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/articles_controller.rb:58:in `set_article'
  Rendering layout layouts/application.html.erb
  Rendering articles/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/articles/show.html.erb:5
  Rendered articles/show.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1193)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 828)
  Rendered layout layouts/application.html.erb (Duration: 14.9ms | Allocations: 10172)
Completed 200 OK in 20ms (Views: 16.2ms | ActiveRecord: 0.8ms | Allocations: 12385)


Started GET "/home" for ::1 at 2021-08-10 07:02:50 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (8.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (5.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (12.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (5.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (1.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 24.2ms | Allocations: 1854)
  Rendered pages/home.html.erb within layouts/application (Duration: 29.9ms | Allocations: 2139)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 6.3ms | Allocations: 794)
  Rendered layout layouts/application.html.erb (Duration: 149.2ms | Allocations: 10952)
Completed 200 OK in 222ms (Views: 147.0ms | ActiveRecord: 34.0ms | Allocations: 14045)


Started GET "/articles/2" for ::1 at 2021-08-10 07:02:52 +0800
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/articles_controller.rb:58:in `set_article'
  Rendering layout layouts/application.html.erb
  Rendering articles/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/articles/show.html.erb:5
  Rendered articles/show.html.erb within layouts/application (Duration: 2.3ms | Allocations: 772)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.5ms | Allocations: 765)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 9489)
Completed 200 OK in 19ms (Views: 16.4ms | ActiveRecord: 0.6ms | Allocations: 10472)


Started GET "/home" for ::1 at 2021-08-10 07:02:54 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (1.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (25.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 30.2ms | Allocations: 1789)
  Rendered pages/home.html.erb within layouts/application (Duration: 31.3ms | Allocations: 2070)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.8ms | Allocations: 791)
  Rendered layout layouts/application.html.erb (Duration: 45.5ms | Allocations: 10870)
Completed 200 OK in 59ms (Views: 21.0ms | ActiveRecord: 27.7ms | Allocations: 13863)


Started GET "/account" for ::1 at 2021-08-10 07:03:26 +0800
Processing by PagesController#account as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pages/account.html.erb within layouts/application
  [1m[36mAddress Load (0.6ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.5ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."owner_id" = $1[0m  [["owner_id", 3]]
  ↳ app/views/pages/account.html.erb:21
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.4ms | Allocations: 1859)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.6ms | Allocations: 1799)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.1ms | Allocations: 1788)
  Rendered pages/account.html.erb within layouts/application (Duration: 53.7ms | Allocations: 24759)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 805)
  Rendered layout layouts/application.html.erb (Duration: 66.9ms | Allocations: 33638)
Completed 200 OK in 73ms (Views: 58.2ms | ActiveRecord: 9.4ms | Allocations: 35836)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a/sheep.jpg" for ::1 at 2021-08-10 07:03:26 +0800
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee/pig.jpg" for ::1 at 2021-08-10 07:03:26 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a", "filename"=>"sheep"}
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee", "filename"=>"pig"}
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (0.8ms) [0m[34mGenerated URL for file at key: 6ahrr8s5lsjpc6me3zdbhnvvnxt0 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhObUZvY25JNGN6VnNjMnB3WXpadFpUTjZaR0pvYm5aMmJuaDBNQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTA5VDIzOjA4OjI2LjUzOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--dc6f0bb86210d9eacdd24e9ed11831dce9be5ac5/sheep.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhObUZvY25JNGN6VnNjMnB3WXpadFpUTjZaR0pvYm5aMmJuaDBNQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTA5VDIzOjA4OjI2LjUzOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--dc6f0bb86210d9eacdd24e9ed11831dce9be5ac5/sheep.jpg
Completed 302 Found in 6ms (ActiveRecord: 0.2ms | Allocations: 2570)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhObUZvY25JNGN6VnNjMnB3WXpadFpUTjZaR0pvYm5aMmJuaDBNQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTA5VDIzOjA4OjI2LjUzOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--dc6f0bb86210d9eacdd24e9ed11831dce9be5ac5/sheep.jpg" for ::1 at 2021-08-10 07:03:26 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 383)


  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (0.4ms) [0m[34mGenerated URL for file at key: 6ldn9fczfpo6y5e3oxcjaw5ki8fq (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhObXhrYmpsbVkzcG1jRzgyZVRWbE0yOTRZMnBoZHpWcmFUaG1jUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MDg6MjYuNTk0WiIsInB1ciI6ImJsb2Jfa2V5In19--a0217a65ca36122875b1ea82d26f5e5f2c7d65c6/pig.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhObXhrYmpsbVkzcG1jRzgyZVRWbE0yOTRZMnBoZHpWcmFUaG1jUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MDg6MjYuNTk0WiIsInB1ciI6ImJsb2Jfa2V5In19--a0217a65ca36122875b1ea82d26f5e5f2c7d65c6/pig.jpg
Completed 302 Found in 59ms (ActiveRecord: 46.9ms | Allocations: 7274)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhObXhrYmpsbVkzcG1jRzgyZVRWbE0yOTRZMnBoZHpWcmFUaG1jUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MDg6MjYuNTk0WiIsInB1ciI6ImJsb2Jfa2V5In19--a0217a65ca36122875b1ea82d26f5e5f2c7d65c6/pig.jpg" for ::1 at 2021-08-10 07:03:26 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 352)


Started GET "/" for ::1 at 2021-08-10 07:03:41 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.5ms | Allocations: 1143)


Started GET "/home" for ::1 at 2021-08-10 07:03:41 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.6ms | Allocations: 1791)
  Rendered pages/home.html.erb within layouts/application (Duration: 5.1ms | Allocations: 2073)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 795)
  Rendered layout layouts/application.html.erb (Duration: 22.0ms | Allocations: 10878)
Completed 200 OK in 30ms (Views: 21.8ms | ActiveRecord: 2.4ms | Allocations: 13934)


Started DELETE "/users/sign_out" for ::1 at 2021-08-10 07:04:38 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 16ms (ActiveRecord: 0.2ms | Allocations: 4815)


Started GET "/" for ::1 at 2021-08-10 07:04:38 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 145)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 807)
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | Allocations: 8894)
Completed 200 OK in 15ms (Views: 14.1ms | ActiveRecord: 0.0ms | Allocations: 9582)


Started GET "/users/sign_in" for ::1 at 2021-08-10 07:04:40 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 68)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 806)
  Rendered layout layouts/application.html.erb (Duration: 17.1ms | Allocations: 9725)
Completed 200 OK in 21ms (Views: 18.3ms | ActiveRecord: 0.0ms | Allocations: 10491)


Started POST "/users/sign_in" for ::1 at 2021-08-10 07:04:49 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 227ms (ActiveRecord: 0.7ms | Allocations: 2498)


Started GET "/" for ::1 at 2021-08-10 07:04:49 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.7ms | Allocations: 1034)


Started GET "/home" for ::1 at 2021-08-10 07:04:49 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 6.2ms | Allocations: 1838)
  Rendered pages/home.html.erb within layouts/application (Duration: 6.9ms | Allocations: 2145)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 832)
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | Allocations: 10993)
Completed 200 OK in 25ms (Views: 18.6ms | ActiveRecord: 1.5ms | Allocations: 14005)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOMjV1YnpSMGRucDNNbWhoYkc1bGJHZHZNSFkwTkRnM2MzTTBPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MDc6MDIuMzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--3e907b532ee2355263aff64a11d0a29e932eb2bf/cow.jpg" for ::1 at 2021-08-10 07:04:50 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 5ms (ActiveRecord: 0.0ms | Allocations: 361)


Started GET "/articles/3" for ::1 at 2021-08-10 07:05:02 +0800
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/articles_controller.rb:58:in `set_article'
  Rendering layout layouts/application.html.erb
  Rendering articles/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/articles/show.html.erb:5
  Rendered articles/show.html.erb within layouts/application (Duration: 1.8ms | Allocations: 918)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 808)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | Allocations: 9779)
Completed 200 OK in 17ms (Views: 14.3ms | ActiveRecord: 0.4ms | Allocations: 10740)


Started DELETE "/articles/3" for ::1 at 2021-08-10 07:05:06 +0800
Processing by ArticlesController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/articles_controller.rb:58:in `set_article'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/articles_controller.rb:67:in `redirect_if_not_admin'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/articles_controller.rb:48:in `destroy'
  [1m[36mArticle Destroy (0.4ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/articles_controller.rb:48:in `destroy'
  [1m[36mTRANSACTION (39.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/articles_controller.rb:48:in `destroy'
Redirected to http://localhost:3000/home
Completed 302 Found in 50ms (ActiveRecord: 40.7ms | Allocations: 3056)


Started GET "/home" for ::1 at 2021-08-10 07:05:06 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (10.5ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.6ms | Allocations: 1787)
  Rendered pages/home.html.erb within layouts/application (Duration: 5.4ms | Allocations: 2060)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 830)
  Rendered layout layouts/application.html.erb (Duration: 24.5ms | Allocations: 10901)
Completed 200 OK in 43ms (Views: 24.5ms | ActiveRecord: 12.0ms | Allocations: 13889)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOMjV1YnpSMGRucDNNbWhoYkc1bGJHZHZNSFkwTkRnM2MzTTBPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MDc6MDIuMzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--3e907b532ee2355263aff64a11d0a29e932eb2bf/cow.jpg" for ::1 at 2021-08-10 07:05:06 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 361)


Started GET "/articles/2" for ::1 at 2021-08-10 07:05:15 +0800
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/articles_controller.rb:58:in `set_article'
  Rendering layout layouts/application.html.erb
  Rendering articles/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/articles/show.html.erb:5
  Rendered articles/show.html.erb within layouts/application (Duration: 3.1ms | Allocations: 827)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.4ms | Allocations: 805)
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | Allocations: 9685)
Completed 200 OK in 19ms (Views: 16.8ms | ActiveRecord: 0.5ms | Allocations: 10652)


Started DELETE "/articles/2" for ::1 at 2021-08-10 07:05:16 +0800
Processing by ArticlesController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/articles_controller.rb:58:in `set_article'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/articles_controller.rb:67:in `redirect_if_not_admin'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/articles_controller.rb:48:in `destroy'
  [1m[36mArticle Destroy (0.3ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = $1[0m  [["id", 2]]
  ↳ app/controllers/articles_controller.rb:48:in `destroy'
  [1m[36mTRANSACTION (41.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/articles_controller.rb:48:in `destroy'
Redirected to http://localhost:3000/home
Completed 302 Found in 55ms (ActiveRecord: 42.3ms | Allocations: 2900)


Started GET "/home" for ::1 at 2021-08-10 07:05:17 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (30.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (2.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.1ms | Allocations: 1790)
  Rendered pages/home.html.erb within layouts/application (Duration: 5.9ms | Allocations: 2037)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 833)
  Rendered layout layouts/application.html.erb (Duration: 24.6ms | Allocations: 10983)
Completed 200 OK in 74ms (Views: 24.6ms | ActiveRecord: 34.6ms | Allocations: 13954)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOMjV1YnpSMGRucDNNbWhoYkc1bGJHZHZNSFkwTkRnM2MzTTBPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MDc6MDIuMzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--3e907b532ee2355263aff64a11d0a29e932eb2bf/cow.jpg" for ::1 at 2021-08-10 07:05:17 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 355)


Started GET "/admin-dashboard" for ::1 at 2021-08-10 07:05:23 +0800
Processing by PagesController#admin as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pages/admin.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", false]]
  ↳ app/views/pages/admin.html.erb:9
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", true]]
  ↳ app/views/pages/admin.html.erb:23
  Rendered pages/admin.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1746)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 809)
  Rendered layout layouts/application.html.erb (Duration: 18.2ms | Allocations: 10506)
Completed 200 OK in 21ms (Views: 18.1ms | ActiveRecord: 0.7ms | Allocations: 12304)


Started POST "/admin-approve/3" for ::1 at 2021-08-10 07:05:37 +0800
Processing by PagesController#admin_approve_user as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:60:in `get_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/pages_controller.rb:40:in `admin_approve_user'
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:40:in `admin_approve_user'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "approved" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2021-08-09 23:05:37.599596"], ["approved", true], ["id", 3]]
  ↳ app/controllers/pages_controller.rb:40:in `admin_approve_user'
  [1m[36mTRANSACTION (40.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/pages_controller.rb:40:in `admin_approve_user'
Redirected to http://localhost:3000/admin-dashboard
Completed 302 Found in 52ms (ActiveRecord: 42.0ms | Allocations: 5275)


Started GET "/admin-dashboard" for ::1 at 2021-08-10 07:05:37 +0800
Processing by PagesController#admin as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pages/admin.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", false]]
  ↳ app/views/pages/admin.html.erb:9
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", true]]
  ↳ app/views/pages/admin.html.erb:23
  Rendered pages/admin.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1302)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.5ms | Allocations: 803)
  Rendered layout layouts/application.html.erb (Duration: 17.9ms | Allocations: 10161)
Completed 200 OK in 22ms (Views: 17.8ms | ActiveRecord: 0.8ms | Allocations: 11794)


Started DELETE "/users/sign_out" for ::1 at 2021-08-10 07:05:58 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 1820)


Started GET "/" for ::1 at 2021-08-10 07:05:58 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.2ms | Allocations: 121)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 788)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 8614)
Completed 200 OK in 16ms (Views: 14.7ms | ActiveRecord: 0.0ms | Allocations: 9208)


Started GET "/users/sign_in" for ::1 at 2021-08-10 07:06:00 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 68)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 896)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 810)
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | Allocations: 9688)
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.0ms | Allocations: 10417)


Started POST "/users/sign_in" for ::1 at 2021-08-10 07:06:08 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"sanctuary@sanctuary.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "sanctuary@sanctuary.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 233ms (ActiveRecord: 0.4ms | Allocations: 2336)


Started GET "/" for ::1 at 2021-08-10 07:06:08 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1034)


Started GET "/home" for ::1 at 2021-08-10 07:06:08 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.4ms | Allocations: 1788)
  Rendered pages/home.html.erb within layouts/application (Duration: 5.9ms | Allocations: 2017)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 793)
  Rendered layout layouts/application.html.erb (Duration: 19.1ms | Allocations: 10930)
Completed 200 OK in 25ms (Views: 18.6ms | ActiveRecord: 1.7ms | Allocations: 13898)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOMjV1YnpSMGRucDNNbWhoYkc1bGJHZHZNSFkwTkRnM2MzTTBPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MDc6MDIuMzcwWiIsInB1ciI6ImJsb2Jfa2V5In19--3e907b532ee2355263aff64a11d0a29e932eb2bf/cow.jpg" for ::1 at 2021-08-10 07:06:08 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 341)


Started GET "/animals/new" for ::1 at 2021-08-10 07:06:11 +0800
Processing by AnimalsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering animals/new.html.erb within layouts/application
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/_form.html.erb:46:in `map'
  Rendered animals/_form.html.erb (Duration: 17.0ms | Allocations: 6137)
  Rendered animals/new.html.erb within layouts/application (Duration: 18.9ms | Allocations: 6572)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 817)
  Rendered layout layouts/application.html.erb (Duration: 30.2ms | Allocations: 15616)
Completed 200 OK in 39ms (Views: 26.8ms | ActiveRecord: 5.2ms | Allocations: 19235)


Started POST "/animals" for ::1 at 2021-08-10 07:08:03 +0800
Processing by AnimalsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "animal"=>{"name"=>"Piggy Smalls", "year_born"=>"2000", "weight"=>"100", "bio"=>"The notorious p.i.g", "species"=>"pink", "sponsor_price"=>"55.99", "category_id"=>"1", "profile_picture"=>#<ActionDispatch::Http::UploadedFile:0x00007fce3fd36070 @tempfile=#<Tempfile:/var/folders/g1/w_b947c941n8tclr4gvh68d00000gn/T/RackMultipart20210810-36452-x8bvgc.jpg>, @original_filename="profile.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"animal[profile_picture]\"; filename=\"profile.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Animal"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:51:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mAnimal Create (42.9ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Piggy smalls"], ["year_born", 2000], ["weight", 100], ["bio", "The notorious p.i.g"], ["species", "pink"], ["sponsor_price", 5599], ["category_id", 1], ["owner_id", 3], ["created_at", "2021-08-09 23:08:03.579174"], ["updated_at", "2021-08-09 23:08:03.579174"]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mActiveStorage::Blob Create (40.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "f5gq0t9v5e4ft7qmxcraiswbwqgk"], ["filename", "profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 32456], ["checksum", "GszSpFm2V+JMbdlYIA9Y4g=="], ["created_at", "2021-08-09 23:08:03.637740"]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 4], ["blob_id", 4], ["created_at", "2021-08-09 23:08:03.680742"]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mAnimal Update (0.7ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 23:08:03.684229"], ["id", 4]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
[36m  Disk Storage (1.9ms) [0m[32mUploaded file to key: f5gq0t9v5e4ft7qmxcraiswbwqgk (checksum: GszSpFm2V+JMbdlYIA9Y4g==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 415b0cbe-eb0b-4996-8899-61c49f02ed74) to Async(default) with arguments: #<GlobalID:0x00007fce4408a290 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/4>>
Redirected to http://localhost:3000/animals/4
Completed 302 Found in 132ms (ActiveRecord: 88.8ms | Allocations: 16434)


  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [415b0cbe-eb0b-4996-8899-61c49f02ed74] Performing ActiveStorage::AnalyzeJob (Job ID: 415b0cbe-eb0b-4996-8899-61c49f02ed74) from Async(default) enqueued at 2021-08-09T23:08:03Z with arguments: #<GlobalID:0x00007fce41b544f8 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/4>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [415b0cbe-eb0b-4996-8899-61c49f02ed74] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: f5gq0t9v5e4ft7qmxcraiswbwqgk[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [415b0cbe-eb0b-4996-8899-61c49f02ed74] Skipping image analysis because the mini_magick gem isn't installed
Started GET "/animals/4" for ::1 at 2021-08-10 07:08:03 +0800
[ActiveJob] [ActiveStorage::AnalyzeJob] [415b0cbe-eb0b-4996-8899-61c49f02ed74]   [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
Processing by AnimalsController#show as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [415b0cbe-eb0b-4996-8899-61c49f02ed74]   [1m[36mActiveStorage::Blob Update (1.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 4]]
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.7ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
[ActiveJob] [ActiveStorage::AnalyzeJob] [415b0cbe-eb0b-4996-8899-61c49f02ed74]   [1m[36mTRANSACTION (46.8ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [415b0cbe-eb0b-4996-8899-61c49f02ed74] Performed ActiveStorage::AnalyzeJob (Job ID: 415b0cbe-eb0b-4996-8899-61c49f02ed74) from Async(default) in 62.2ms
  [1m[36mSponsorship Load (0.4ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:81
  Rendered animals/show.html.erb within layouts/application (Duration: 38.7ms | Allocations: 12760)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.7ms | Allocations: 820)
  Rendered layout layouts/application.html.erb (Duration: 69.4ms | Allocations: 21760)
Completed 200 OK in 82ms (Views: 65.4ms | ActiveRecord: 5.5ms | Allocations: 25403)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--f29baae4a4fcf412c037bc80af8a2603fdd7304d/profile.jpg" for ::1 at 2021-08-10 07:08:03 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--f29baae4a4fcf412c037bc80af8a2603fdd7304d", "filename"=>"profile"}
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[36m  Disk Storage (0.9ms) [0m[34mGenerated URL for file at key: f5gq0t9v5e4ft7qmxcraiswbwqgk (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaalZuY1RCME9YWTFaVFJtZERkeGJYaGpjbUZwYzNkaWQzRm5hd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzoxMzowMy44NjFaIiwicHVyIjoiYmxvYl9rZXkifX0=--40d4d2ce0c745a0b6f10e31d30c943091417aa7b/profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaalZuY1RCME9YWTFaVFJtZERkeGJYaGpjbUZwYzNkaWQzRm5hd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzoxMzowMy44NjFaIiwicHVyIjoiYmxvYl9rZXkifX0=--40d4d2ce0c745a0b6f10e31d30c943091417aa7b/profile.jpg
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 1577)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaalZuY1RCME9YWTFaVFJtZERkeGJYaGpjbUZwYzNkaWQzRm5hd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzoxMzowMy44NjFaIiwicHVyIjoiYmxvYl9rZXkifX0=--40d4d2ce0c745a0b6f10e31d30c943091417aa7b/profile.jpg" for ::1 at 2021-08-10 07:08:03 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 387)


Started DELETE "/users/sign_out" for ::1 at 2021-08-10 07:08:22 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.1ms | Allocations: 1951)


Started GET "/" for ::1 at 2021-08-10 07:08:22 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 127)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.5ms | Allocations: 790)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 8728)
Completed 200 OK in 14ms (Views: 13.2ms | ActiveRecord: 0.0ms | Allocations: 9356)


Started GET "/users/sign_in" for ::1 at 2021-08-10 07:08:24 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 68)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 934)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.4ms | Allocations: 806)
  Rendered layout layouts/application.html.erb (Duration: 16.6ms | Allocations: 9726)
Completed 200 OK in 19ms (Views: 17.3ms | ActiveRecord: 0.0ms | Allocations: 10469)


Started POST "/users/sign_in" for ::1 at 2021-08-10 07:08:31 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"sponsor@sponsor.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "sponsor@sponsor.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 231ms (ActiveRecord: 1.3ms | Allocations: 2360)


Started GET "/" for ::1 at 2021-08-10 07:08:31 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1031)


Started GET "/home" for ::1 at 2021-08-10 07:08:31 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.3ms | Allocations: 1799)
  Rendered pages/home.html.erb within layouts/application (Duration: 3.8ms | Allocations: 2028)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 790)
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | Allocations: 10933)
Completed 200 OK in 24ms (Views: 17.5ms | ActiveRecord: 1.3ms | Allocations: 13942)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19/cow.jpg" for ::1 at 2021-08-10 07:08:31 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19", "filename"=>"cow"}
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (0.8ms) [0m[34mGenerated URL for file at key: 7nno4tvzw2halnelgo0v4487ss48 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOMjV1YnpSMGRucDNNbWhoYkc1bGJHZHZNSFkwTkRnM2MzTTBPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MTM6MzIuMDAxWiIsInB1ciI6ImJsb2Jfa2V5In19--827298775cbde91befc66b8a426502cd2f10e501/cow.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOMjV1YnpSMGRucDNNbWhoYkc1bGJHZHZNSFkwTkRnM2MzTTBPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MTM6MzIuMDAxWiIsInB1ciI6ImJsb2Jfa2V5In19--827298775cbde91befc66b8a426502cd2f10e501/cow.jpg
Completed 302 Found in 10ms (ActiveRecord: 0.2ms | Allocations: 1444)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOMjV1YnpSMGRucDNNbWhoYkc1bGJHZHZNSFkwTkRnM2MzTTBPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MTM6MzIuMDAxWiIsInB1ciI6ImJsb2Jfa2V5In19--827298775cbde91befc66b8a426502cd2f10e501/cow.jpg" for ::1 at 2021-08-10 07:08:32 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 364)


Started GET "/animals" for ::1 at 2021-08-10 07:08:39 +0800
Processing by AnimalsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.8ms | Allocations: 1943)
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.6ms | Allocations: 1799)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.0ms | Allocations: 1788)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.0ms | Allocations: 1788)
  Rendered animals/index.html.erb within layouts/application (Duration: 39.7ms | Allocations: 21082)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 2.7ms | Allocations: 1561)
  Rendered layout layouts/application.html.erb (Duration: 53.3ms | Allocations: 30812)
Completed 200 OK in 56ms (Views: 51.7ms | ActiveRecord: 2.1ms | Allocations: 31564)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee/pig.jpg" for ::1 at 2021-08-10 07:08:39 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a/sheep.jpg" for ::1 at 2021-08-10 07:08:39 +0800
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee", "filename"=>"pig"}
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a", "filename"=>"sheep"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaalZuY1RCME9YWTFaVFJtZERkeGJYaGpjbUZwYzNkaWQzRm5hd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzoxMzowMy44NjFaIiwicHVyIjoiYmxvYl9rZXkifX0=--40d4d2ce0c745a0b6f10e31d30c943091417aa7b/profile.jpg" for ::1 at 2021-08-10 07:08:39 +0800
  [1m[36mActiveStorage::Blob Load (1.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (0.4ms) [0m[34mGenerated URL for file at key: 6ldn9fczfpo6y5e3oxcjaw5ki8fq (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhObXhrYmpsbVkzcG1jRzgyZVRWbE0yOTRZMnBoZHpWcmFUaG1jUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MTM6MzkuNjUzWiIsInB1ciI6ImJsb2Jfa2V5In19--888a374e163f1f41ec1e3abc5dfe01bf8d21b5a2/pig.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhObXhrYmpsbVkzcG1jRzgyZVRWbE0yOTRZMnBoZHpWcmFUaG1jUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MTM6MzkuNjUzWiIsInB1ciI6ImJsb2Jfa2V5In19--888a374e163f1f41ec1e3abc5dfe01bf8d21b5a2/pig.jpg
Completed 302 Found in 7ms (ActiveRecord: 1.0ms | Allocations: 3070)


  [1m[36mActiveStorage::Blob Load (2.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (0.6ms) [0m[34mGenerated URL for file at key: 6ahrr8s5lsjpc6me3zdbhnvvnxt0 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhObUZvY25JNGN6VnNjMnB3WXpadFpUTjZaR0pvYm5aMmJuaDBNQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTA5VDIzOjEzOjM5LjY1N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--091d615632b95f9abd91e8345ac45f9116245c7f/sheep.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhObUZvY25JNGN6VnNjMnB3WXpadFpUTjZaR0pvYm5aMmJuaDBNQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTA5VDIzOjEzOjM5LjY1N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--091d615632b95f9abd91e8345ac45f9116245c7f/sheep.jpg
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhObXhrYmpsbVkzcG1jRzgyZVRWbE0yOTRZMnBoZHpWcmFUaG1jUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MTM6MzkuNjUzWiIsInB1ciI6ImJsb2Jfa2V5In19--888a374e163f1f41ec1e3abc5dfe01bf8d21b5a2/pig.jpg" for ::1 at 2021-08-10 07:08:39 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 302 Found in 9ms (ActiveRecord: 2.0ms | Allocations: 4144)


Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 378)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 381)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhObUZvY25JNGN6VnNjMnB3WXpadFpUTjZaR0pvYm5aMmJuaDBNQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTA5VDIzOjEzOjM5LjY1N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--091d615632b95f9abd91e8345ac45f9116245c7f/sheep.jpg" for ::1 at 2021-08-10 07:08:39 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 376)


Started GET "/animals?category=1&sponsored=0&name=&commit=Search" for ::1 at 2021-08-10 07:09:06 +0800
Processing by AnimalsController#index as HTML
  Parameters: {"category"=>"1", "sponsored"=>"0", "name"=>"", "commit"=>"Search"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/animals_controller.rb:13:in `map'
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."category_id" = $1 AND "animals"."sponsored" = $2[0m  [["category_id", 1], ["sponsored", false]]
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.7ms | Allocations: 1794)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 7.0ms | Allocations: 1798)
  Rendered animals/index.html.erb within layouts/application (Duration: 22.9ms | Allocations: 14213)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 3.7ms | Allocations: 1527)
  Rendered layout layouts/application.html.erb (Duration: 44.4ms | Allocations: 23749)
Completed 200 OK in 50ms (Views: 43.7ms | ActiveRecord: 2.0ms | Allocations: 24944)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhObXhrYmpsbVkzcG1jRzgyZVRWbE0yOTRZMnBoZHpWcmFUaG1jUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MTM6MzkuNjUzWiIsInB1ciI6ImJsb2Jfa2V5In19--888a374e163f1f41ec1e3abc5dfe01bf8d21b5a2/pig.jpg" for ::1 at 2021-08-10 07:09:06 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 353)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaalZuY1RCME9YWTFaVFJtZERkeGJYaGpjbUZwYzNkaWQzRm5hd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzoxMzowMy44NjFaIiwicHVyIjoiYmxvYl9rZXkifX0=--40d4d2ce0c745a0b6f10e31d30c943091417aa7b/profile.jpg" for ::1 at 2021-08-10 07:09:06 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 354)


Started GET "/animals/4" for ::1 at 2021-08-10 07:09:14 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.5ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:13:in `user_is_animal_sponsor'
  Rendered animals/show.html.erb within layouts/application (Duration: 11.2ms | Allocations: 5186)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 795)
  Rendered layout layouts/application.html.erb (Duration: 27.0ms | Allocations: 14076)
Completed 200 OK in 35ms (Views: 25.8ms | ActiveRecord: 2.6ms | Allocations: 16669)


Started POST "/payments" for ::1 at 2021-08-10 07:09:18 +0800
Processing by PaymentsController#create_payment_intent as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"4"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:9:in `create_payment_intent'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:13:in `create_payment_intent'
  Rendering payments/create_payment_intent.js.erb
  Rendered payments/create_payment_intent.js.erb (Duration: 1.0ms | Allocations: 146)
Completed 200 OK in 1113ms (Views: 6.6ms | ActiveRecord: 0.4ms | Allocations: 6880)


Started POST "/payments/webhook" for ::1 at 2021-08-10 07:09:34 +0800
Processing by PaymentsController#webhook as XML
  Parameters: {"id"=>"evt_1JMhb8IeFWwPeKyVnyr6TJko", "object"=>"event", "api_version"=>"2020-08-27", "created"=>1628550574, "data"=>{"object"=>{"id"=>"cs_test_a1nEdYD5vSehyP92Q9Chs8AZztMGRe7lXT2peIrM3v8C962V6Y5hXvObJQ", "object"=>"checkout.session", "allow_promotion_codes"=>nil, "amount_subtotal"=>5599, "amount_total"=>5599, "automatic_tax"=>{"enabled"=>false, "status"=>nil}, "billing_address_collection"=>nil, "cancel_url"=>"http://localhost:3000//animals", "client_reference_id"=>nil, "currency"=>"aud", "customer"=>"cus_K0j3bdxRimXCpM", "customer_details"=>{"email"=>"sponsor@sponsor.com", "tax_exempt"=>"none", "tax_ids"=>[]}, "customer_email"=>"sponsor@sponsor.com", "livemode"=>false, "locale"=>nil, "metadata"=>{}, "mode"=>"payment", "payment_intent"=>"pi_3JMhatIeFWwPeKyV0pE1Dmar", "payment_method_options"=>{}, "payment_method_types"=>["card"], "payment_status"=>"paid", "setup_intent"=>nil, "shipping"=>nil, "shipping_address_collection"=>nil, "submit_type"=>nil, "subscription"=>nil, "success_url"=>"http://localhost:3000//payments/success?name=Piggy smalls", "total_details"=>{"amount_discount"=>0, "amount_shipping"=>0, "amount_tax"=>0}, "url"=>nil}}, "livemode"=>false, "pending_webhooks"=>1, "request"=>{"id"=>nil, "idempotency_key"=>"[FILTERED]"}, "type"=>"checkout.session.completed", "payment"=>{"id"=>"evt_1JMhb8IeFWwPeKyVnyr6TJko", "object"=>"event", "api_version"=>"2020-08-27", "created"=>1628550574, "data"=>{"object"=>{"id"=>"cs_test_a1nEdYD5vSehyP92Q9Chs8AZztMGRe7lXT2peIrM3v8C962V6Y5hXvObJQ", "object"=>"checkout.session", "allow_promotion_codes"=>nil, "amount_subtotal"=>5599, "amount_total"=>5599, "automatic_tax"=>{"enabled"=>false, "status"=>nil}, "billing_address_collection"=>nil, "cancel_url"=>"http://localhost:3000//animals", "client_reference_id"=>nil, "currency"=>"aud", "customer"=>"cus_K0j3bdxRimXCpM", "customer_details"=>{"email"=>"sponsor@sponsor.com", "tax_exempt"=>"none", "tax_ids"=>[]}, "customer_email"=>"sponsor@sponsor.com", "livemode"=>false, "locale"=>nil, "metadata"=>{}, "mode"=>"payment", "payment_intent"=>"pi_3JMhatIeFWwPeKyV0pE1Dmar", "payment_method_options"=>{}, "payment_method_types"=>["card"], "payment_status"=>"paid", "setup_intent"=>nil, "shipping"=>nil, "shipping_address_collection"=>nil, "submit_type"=>nil, "subscription"=>nil, "success_url"=>"http://localhost:3000//payments/success?name=Piggy smalls", "total_details"=>{"amount_discount"=>0, "amount_shipping"=>0, "amount_tax"=>0}, "url"=>nil}}, "livemode"=>false, "pending_webhooks"=>1, "request"=>{"id"=>nil, "idempotency_key"=>"[FILTERED]"}, "type"=>"checkout.session.completed"}}
  [1m[36mAnimal Load (0.6ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:39:in `webhook'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:40:in `webhook'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:40:in `webhook'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:40:in `webhook'
  [1m[36mAnimal Update (1.0ms)[0m  [1m[33mUPDATE "animals" SET "sponsored" = $1, "updated_at" = $2 WHERE "animals"."id" = $3[0m  [["sponsored", true], ["updated_at", "2021-08-09 23:09:35.429555"], ["id", 4]]
  ↳ app/controllers/payments_controller.rb:40:in `webhook'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:40:in `webhook'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mSponsorship Create (1.7ms)[0m  [1m[32mINSERT INTO "sponsorships" ("receipt", "animal_id", "owner_id", "sponsor_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["receipt", "https://pay.stripe.com/receipts/acct_1JKEzmIeFWwPeKyV/ch_3JMhatIeFWwPeKyV0Jc8f5XL/rcpt_K0j33vzRY6kK0mY9CBRC3b2yq4F1BGg"], ["animal_id", 4], ["owner_id", 3], ["sponsor_id", 2], ["created_at", "2021-08-09 23:09:35.451647"], ["updated_at", "2021-08-09 23:09:35.451647"]]
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:42:in `webhook'
  [1m[36mSponsorship Load (0.2ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:42:in `webhook'
  [1m[36mChat Create (44.6ms)[0m  [1m[32mINSERT INTO "chats" ("sponsorship_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["sponsorship_id", 1], ["created_at", "2021-08-09 23:09:35.470648"], ["updated_at", "2021-08-09 23:09:35.470648"]]
  ↳ app/controllers/payments_controller.rb:42:in `webhook'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:42:in `webhook'
No template found for PaymentsController#webhook, rendering head :no_content
Completed 204 No Content in 713ms (ActiveRecord: 55.8ms | Allocations: 27295)


Started GET "//payments/success?name=Piggy%20smalls" for ::1 at 2021-08-10 07:09:36 +0800
Processing by PaymentsController#success as HTML
  Parameters: {"name"=>"Piggy smalls"}
  Rendering layout layouts/application.html.erb
  Rendering payments/success.html.erb within layouts/application
  Rendered payments/success.html.erb within layouts/application (Duration: 0.9ms | Allocations: 201)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 5.6ms | Allocations: 1598)
  Rendered layout layouts/application.html.erb (Duration: 38.7ms | Allocations: 10061)
Completed 200 OK in 42ms (Views: 40.4ms | ActiveRecord: 0.3ms | Allocations: 11149)


Started GET "/account" for ::1 at 2021-08-10 07:09:42 +0800
Processing by PagesController#account as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSponsorship Load (0.2ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."sponsor_id" = $1[0m  [["sponsor_id", 2]]
  ↳ app/controllers/pages_controller.rb:24:in `map'
  [1m[36mAnimal Load (0.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:24:in `block in account'
  Rendering layout layouts/application.html.erb
  Rendering pages/account.html.erb within layouts/application
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.7ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.8ms | Allocations: 1828)
  Rendered pages/account.html.erb within layouts/application (Duration: 10.8ms | Allocations: 3876)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 13.1ms | Allocations: 796)
  Rendered layout layouts/application.html.erb (Duration: 75.6ms | Allocations: 12682)
Completed 200 OK in 81ms (Views: 74.3ms | ActiveRecord: 2.2ms | Allocations: 15402)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaalZuY1RCME9YWTFaVFJtZERkeGJYaGpjbUZwYzNkaWQzRm5hd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzoxMzowMy44NjFaIiwicHVyIjoiYmxvYl9rZXkifX0=--40d4d2ce0c745a0b6f10e31d30c943091417aa7b/profile.jpg" for ::1 at 2021-08-10 07:09:42 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 380)


Started GET "/account" for ::1 at 2021-08-10 07:09:45 +0800
Processing by PagesController#account as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSponsorship Load (0.3ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."sponsor_id" = $1[0m  [["sponsor_id", 2]]
  ↳ app/controllers/pages_controller.rb:24:in `map'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:24:in `block in account'
  Rendering layout layouts/application.html.erb
  Rendering pages/account.html.erb within layouts/application
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.4ms | Allocations: 1793)
  Rendered pages/account.html.erb within layouts/application (Duration: 10.7ms | Allocations: 3830)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.4ms | Allocations: 799)
  Rendered layout layouts/application.html.erb (Duration: 25.2ms | Allocations: 12649)
Completed 200 OK in 32ms (Views: 24.6ms | ActiveRecord: 1.8ms | Allocations: 15313)


Started GET "/animals/4" for ::1 at 2021-08-10 07:09:55 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.6ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.2ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.6ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  Rendered animals/show.html.erb within layouts/application (Duration: 33.8ms | Allocations: 13630)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 808)
  Rendered layout layouts/application.html.erb (Duration: 45.9ms | Allocations: 22493)
Completed 200 OK in 52ms (Views: 42.3ms | ActiveRecord: 4.5ms | Allocations: 25112)


Started POST "/animals/new_message/4" for ::1 at 2021-08-10 07:10:35 +0800
Processing by AnimalsController#new_message as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>"hi plz send pic", "commit"=>"Send Message", "id"=>"4"}
  [1m[36mAnimal Load (2.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mSponsorship Load (0.4ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mMessage Create (1.3ms)[0m  [1m[32mINSERT INTO "messages" ("chat_id", "sender_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["chat_id", 1], ["sender_id", 2], ["body", "hi plz send pic"], ["created_at", "2021-08-09 23:10:35.731187"], ["updated_at", "2021-08-09 23:10:35.731187"]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
Redirected to http://localhost:3000/animals/4
Completed 302 Found in 40ms (ActiveRecord: 9.5ms | Allocations: 11673)


Started GET "/animals/4" for ::1 at 2021-08-10 07:10:35 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.2ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (1.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 30.6ms | Allocations: 9792)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.6ms | Allocations: 792)
  Rendered layout layouts/application.html.erb (Duration: 52.4ms | Allocations: 18484)
Completed 200 OK in 59ms (Views: 48.7ms | ActiveRecord: 5.1ms | Allocations: 21092)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaalZuY1RCME9YWTFaVFJtZERkeGJYaGpjbUZwYzNkaWQzRm5hd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzoxMzowMy44NjFaIiwicHVyIjoiYmxvYl9rZXkifX0=--40d4d2ce0c745a0b6f10e31d30c943091417aa7b/profile.jpg" for ::1 at 2021-08-10 07:10:35 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 367)


Started DELETE "/users/sign_out" for ::1 at 2021-08-10 07:10:53 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.2ms | Allocations: 1891)


Started GET "/" for ::1 at 2021-08-10 07:10:53 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 125)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.4ms | Allocations: 790)
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 8736)
Completed 200 OK in 16ms (Views: 15.2ms | ActiveRecord: 0.0ms | Allocations: 9336)


Started GET "/users/sign_in" for ::1 at 2021-08-10 07:10:55 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 68)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 919)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.5ms | Allocations: 809)
  Rendered layout layouts/application.html.erb (Duration: 17.2ms | Allocations: 9719)
Completed 200 OK in 20ms (Views: 17.8ms | ActiveRecord: 0.0ms | Allocations: 10474)


Started POST "/users/sign_in" for ::1 at 2021-08-10 07:11:02 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"sanctuary@sanctuary.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "sanctuary@sanctuary.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 231ms (ActiveRecord: 0.4ms | Allocations: 2355)


Started GET "/" for ::1 at 2021-08-10 07:11:02 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 1047)


Started GET "/home" for ::1 at 2021-08-10 07:11:02 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.2ms | Allocations: 1788)
  Rendered pages/home.html.erb within layouts/application (Duration: 5.0ms | Allocations: 2017)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.8ms | Allocations: 790)
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | Allocations: 10823)
Completed 200 OK in 26ms (Views: 19.7ms | ActiveRecord: 1.1ms | Allocations: 13833)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOMjV1YnpSMGRucDNNbWhoYkc1bGJHZHZNSFkwTkRnM2MzTTBPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MTM6MzIuMDAxWiIsInB1ciI6ImJsb2Jfa2V5In19--827298775cbde91befc66b8a426502cd2f10e501/cow.jpg" for ::1 at 2021-08-10 07:11:02 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 351)


Started GET "/account" for ::1 at 2021-08-10 07:11:05 +0800
Processing by PagesController#account as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pages/account.html.erb within layouts/application
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.7ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."owner_id" = $1[0m  [["owner_id", 3]]
  ↳ app/views/pages/account.html.erb:21
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.7ms | Allocations: 1793)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.7ms | Allocations: 1798)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (2.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 6.5ms | Allocations: 1788)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.1ms | Allocations: 1788)
  Rendered pages/account.html.erb within layouts/application (Duration: 27.7ms | Allocations: 10059)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.7ms | Allocations: 789)
  Rendered layout layouts/application.html.erb (Duration: 42.4ms | Allocations: 18956)
Completed 200 OK in 47ms (Views: 38.0ms | ActiveRecord: 5.4ms | Allocations: 20550)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaalZuY1RCME9YWTFaVFJtZERkeGJYaGpjbUZwYzNkaWQzRm5hd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzoxMzowMy44NjFaIiwicHVyIjoiYmxvYl9rZXkifX0=--40d4d2ce0c745a0b6f10e31d30c943091417aa7b/profile.jpg" for ::1 at 2021-08-10 07:11:05 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhObXhrYmpsbVkzcG1jRzgyZVRWbE0yOTRZMnBoZHpWcmFUaG1jUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MTM6MzkuNjUzWiIsInB1ciI6ImJsb2Jfa2V5In19--888a374e163f1f41ec1e3abc5dfe01bf8d21b5a2/pig.jpg" for ::1 at 2021-08-10 07:11:05 +0800
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 504)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhObUZvY25JNGN6VnNjMnB3WXpadFpUTjZaR0pvYm5aMmJuaDBNQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTA5VDIzOjEzOjM5LjY1N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--091d615632b95f9abd91e8345ac45f9116245c7f/sheep.jpg" for ::1 at 2021-08-10 07:11:05 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 304 Not Modified in 3ms (ActiveRecord: 0.0ms | Allocations: 372)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 363)


Started GET "/animals/4" for ::1 at 2021-08-10 07:11:07 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.3ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 22.1ms | Allocations: 10794)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.8ms | Allocations: 791)
  Rendered layout layouts/application.html.erb (Duration: 37.5ms | Allocations: 19592)
Completed 200 OK in 44ms (Views: 35.7ms | ActiveRecord: 2.8ms | Allocations: 22191)


Started POST "/animals/new_message/4" for ::1 at 2021-08-10 07:11:18 +0800
Processing by AnimalsController#new_message as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>"kk", "commit"=>"Send Message", "id"=>"4"}
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mSponsorship Load (2.9ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mMessage Create (0.3ms)[0m  [1m[32mINSERT INTO "messages" ("chat_id", "sender_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["chat_id", 1], ["sender_id", 3], ["body", "kk"], ["created_at", "2021-08-09 23:11:18.229602"], ["updated_at", "2021-08-09 23:11:18.229602"]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mTRANSACTION (6.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
Redirected to http://localhost:3000/animals/4
Completed 302 Found in 32ms (ActiveRecord: 11.4ms | Allocations: 7594)


Started GET "/animals/4" for ::1 at 2021-08-10 07:11:18 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (1.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.2ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 29.0ms | Allocations: 11448)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.9ms | Allocations: 791)
  Rendered layout layouts/application.html.erb (Duration: 45.9ms | Allocations: 20143)
Completed 200 OK in 55ms (Views: 43.9ms | ActiveRecord: 4.9ms | Allocations: 22708)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaalZuY1RCME9YWTFaVFJtZERkeGJYaGpjbUZwYzNkaWQzRm5hd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzoxMzowMy44NjFaIiwicHVyIjoiYmxvYl9rZXkifX0=--40d4d2ce0c745a0b6f10e31d30c943091417aa7b/profile.jpg" for ::1 at 2021-08-10 07:11:18 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 365)


Started POST "/animals/media/4" for ::1 at 2021-08-10 07:11:40 +0800
Processing by AnimalsController#media_add as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "media"=>[#<ActionDispatch::Http::UploadedFile:0x00007fce41a97538 @tempfile=#<Tempfile:/var/folders/g1/w_b947c941n8tclr4gvh68d00000gn/T/RackMultipart20210810-36452-tc1bc1.jpg>, @original_filename="med1.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"media[]\"; filename=\"med1.jpg\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fce41a97498 @tempfile=#<Tempfile:/var/folders/g1/w_b947c941n8tclr4gvh68d00000gn/T/RackMultipart20210810-36452-re68et.jpg>, @original_filename="med2.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"media[]\"; filename=\"med2.jpg\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fce41a97420 @tempfile=#<Tempfile:/var/folders/g1/w_b947c941n8tclr4gvh68d00000gn/T/RackMultipart20210810-36452-aa5b4x.jpg>, @original_filename="med3.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"media[]\"; filename=\"med3.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"Add Photos", "id"=>"4"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "lfiqoe4w5us4vnq05qe4sgll6cks"], ["filename", "med1.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 143104], ["checksum", "ayEpTqhmjphH8eNK9Mvs6w=="], ["created_at", "2021-08-09 23:11:40.223777"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "media"], ["record_type", "Animal"], ["record_id", 4], ["blob_id", 5], ["created_at", "2021-08-09 23:11:40.227394"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mAnimal Update (0.3ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 23:11:40.229970"], ["id", 4]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mTRANSACTION (40.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[36m  Disk Storage (3.8ms) [0m[32mUploaded file to key: lfiqoe4w5us4vnq05qe4sgll6cks (checksum: ayEpTqhmjphH8eNK9Mvs6w==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 04801b96-6590-4475-82fd-907b636ad842) to Async(default) with arguments: #<GlobalID:0x00007fce41bcebb8 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/5>>
  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [04801b96-6590-4475-82fd-907b636ad842] Performing ActiveStorage::AnalyzeJob (Job ID: 04801b96-6590-4475-82fd-907b636ad842) from Async(default) enqueued at 2021-08-09T23:11:40Z with arguments: #<GlobalID:0x00007fce41bfdb98 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/5>>
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [04801b96-6590-4475-82fd-907b636ad842] [36m  Disk Storage (2.5ms) [0m[34mDownloaded file from key: lfiqoe4w5us4vnq05qe4sgll6cks[0m
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "no3f2nirwpb0gww8ghqtvrheo6j2"], ["filename", "med2.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 41610], ["checksum", "N8HIRAdfwY9mBxXx6aqR4A=="], ["created_at", "2021-08-09 23:11:40.288256"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "media"], ["record_type", "Animal"], ["record_id", 4], ["blob_id", 6], ["created_at", "2021-08-09 23:11:40.293613"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mAnimal Update (2.3ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 23:11:40.295786"], ["id", 4]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [04801b96-6590-4475-82fd-907b636ad842] Skipping image analysis because the mini_magick gem isn't installed
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [04801b96-6590-4475-82fd-907b636ad842]   [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [04801b96-6590-4475-82fd-907b636ad842]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 5]]
  [1m[36mTRANSACTION (40.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [04801b96-6590-4475-82fd-907b636ad842]   [1m[36mTRANSACTION (40.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [04801b96-6590-4475-82fd-907b636ad842] Performed ActiveStorage::AnalyzeJob (Job ID: 04801b96-6590-4475-82fd-907b636ad842) from Async(default) in 57.47ms
[36m  Disk Storage (2.4ms) [0m[32mUploaded file to key: no3f2nirwpb0gww8ghqtvrheo6j2 (checksum: N8HIRAdfwY9mBxXx6aqR4A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6ab4c5b1-4b59-407a-ad65-ff6aa16c1e85) to Async(default) with arguments: #<GlobalID:0x00007fce44118680 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/6>>
  [1m[36mActiveStorage::Blob Load (1.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6ab4c5b1-4b59-407a-ad65-ff6aa16c1e85] Performing ActiveStorage::AnalyzeJob (Job ID: 6ab4c5b1-4b59-407a-ad65-ff6aa16c1e85) from Async(default) enqueued at 2021-08-09T23:11:40Z with arguments: #<GlobalID:0x00007fce3b9ce7d8 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/6>>
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [6ab4c5b1-4b59-407a-ad65-ff6aa16c1e85] [36m  Disk Storage (1.3ms) [0m[34mDownloaded file from key: no3f2nirwpb0gww8ghqtvrheo6j2[0m
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "yfx7fd0u60t5itxmslvb2jvq51wr"], ["filename", "med3.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 54333], ["checksum", "K2oKH6jg+b7kR3qC5cPlSg=="], ["created_at", "2021-08-09 23:11:40.361049"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [6ab4c5b1-4b59-407a-ad65-ff6aa16c1e85] Skipping image analysis because the mini_magick gem isn't installed
  [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "media"], ["record_type", "Animal"], ["record_id", 4], ["blob_id", 7], ["created_at", "2021-08-09 23:11:40.367437"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6ab4c5b1-4b59-407a-ad65-ff6aa16c1e85]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mAnimal Update (0.6ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 23:11:40.371079"], ["id", 4]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [6ab4c5b1-4b59-407a-ad65-ff6aa16c1e85]   [1m[36mActiveStorage::Blob Update (1.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 6]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6ab4c5b1-4b59-407a-ad65-ff6aa16c1e85]   [1m[36mTRANSACTION (40.8ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6ab4c5b1-4b59-407a-ad65-ff6aa16c1e85] Performed ActiveStorage::AnalyzeJob (Job ID: 6ab4c5b1-4b59-407a-ad65-ff6aa16c1e85) from Async(default) in 57.47ms
  [1m[36mTRANSACTION (43.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[36m  Disk Storage (1.9ms) [0m[32mUploaded file to key: yfx7fd0u60t5itxmslvb2jvq51wr (checksum: K2oKH6jg+b7kR3qC5cPlSg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 557316ee-01d8-4c1b-b11e-3378204e8bef) to Async(default) with arguments: #<GlobalID:0x00007fce3f99dff8 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/7>>
Redirected to http://localhost:3000/animals/4
Completed 302 Found in 232ms (ActiveRecord: 135.4ms | Allocations: 36137)


  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [557316ee-01d8-4c1b-b11e-3378204e8bef] Performing ActiveStorage::AnalyzeJob (Job ID: 557316ee-01d8-4c1b-b11e-3378204e8bef) from Async(default) enqueued at 2021-08-09T23:11:40Z with arguments: #<GlobalID:0x00007fce3bfd6f90 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/7>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [557316ee-01d8-4c1b-b11e-3378204e8bef] [36m  Disk Storage (0.8ms) [0m[34mDownloaded file from key: yfx7fd0u60t5itxmslvb2jvq51wr[0m
Started GET "/animals/4" for ::1 at 2021-08-10 07:11:40 +0800
[ActiveJob] [ActiveStorage::AnalyzeJob] [557316ee-01d8-4c1b-b11e-3378204e8bef] Skipping image analysis because the mini_magick gem isn't installed
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [557316ee-01d8-4c1b-b11e-3378204e8bef]   [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Load (1.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
[ActiveJob] [ActiveStorage::AnalyzeJob] [557316ee-01d8-4c1b-b11e-3378204e8bef]   [1m[36mActiveStorage::Blob Update (1.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 7]]
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.1ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.2ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 27.9ms | Allocations: 14378)
[ActiveJob] [ActiveStorage::AnalyzeJob] [557316ee-01d8-4c1b-b11e-3378204e8bef]   [1m[36mTRANSACTION (39.9ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [557316ee-01d8-4c1b-b11e-3378204e8bef] Performed ActiveStorage::AnalyzeJob (Job ID: 557316ee-01d8-4c1b-b11e-3378204e8bef) from Async(default) in 54.75ms
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 801)
  Rendered layout layouts/application.html.erb (Duration: 42.3ms | Allocations: 23963)
Completed 200 OK in 52ms (Views: 39.9ms | ActiveRecord: 5.6ms | Allocations: 28150)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaalZuY1RCME9YWTFaVFJtZERkeGJYaGpjbUZwYzNkaWQzRm5hd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzoxMzowMy44NjFaIiwicHVyIjoiYmxvYl9rZXkifX0=--40d4d2ce0c745a0b6f10e31d30c943091417aa7b/profile.jpg" for ::1 at 2021-08-10 07:11:40 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 676)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--a17d47673b515a0c9d9d42d4f0b1d87395f9f0bb/med1.jpg" for ::1 at 2021-08-10 07:11:40 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--a17d47673b515a0c9d9d42d4f0b1d87395f9f0bb", "filename"=>"med1"}
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[36m  Disk Storage (1.4ms) [0m[34mGenerated URL for file at key: lfiqoe4w5us4vnq05qe4sgll6cks (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhiR1pwY1c5bE5IYzFkWE0wZG01eE1EVnhaVFJ6WjJ4c05tTnJjd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpERXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXhMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MTY6NDAuNTYxWiIsInB1ciI6ImJsb2Jfa2V5In19--f916773dabe9910cdd10c2ea70da5e7d94e4af89/med1.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhiR1pwY1c5bE5IYzFkWE0wZG01eE1EVnhaVFJ6WjJ4c05tTnJjd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpERXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXhMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MTY6NDAuNTYxWiIsInB1ciI6ImJsb2Jfa2V5In19--f916773dabe9910cdd10c2ea70da5e7d94e4af89/med1.jpg
Completed 302 Found in 71ms (ActiveRecord: 0.4ms | Allocations: 2717)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--194d65c44bdc2ffe6fe6670d79304c31265d073c/med2.jpg" for ::1 at 2021-08-10 07:11:40 +0800
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1181dfeb5ff2fa4a4646b7639c93d65cc66afc8c/med3.jpg" for ::1 at 2021-08-10 07:11:40 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--194d65c44bdc2ffe6fe6670d79304c31265d073c", "filename"=>"med2"}
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1181dfeb5ff2fa4a4646b7639c93d65cc66afc8c", "filename"=>"med3"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhiR1pwY1c5bE5IYzFkWE0wZG01eE1EVnhaVFJ6WjJ4c05tTnJjd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpERXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXhMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MTY6NDAuNTYxWiIsInB1ciI6ImJsb2Jfa2V5In19--f916773dabe9910cdd10c2ea70da5e7d94e4af89/med1.jpg" for ::1 at 2021-08-10 07:11:40 +0800
  [1m[36mActiveStorage::Blob Load (11.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
[36m  Disk Storage (0.5ms) [0m[34mGenerated URL for file at key: no3f2nirwpb0gww8ghqtvrheo6j2 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhibTh6WmpKdWFYSjNjR0l3WjNkM09HZG9jWFIyY21obGJ6WnFNZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MTY6NDAuNzAzWiIsInB1ciI6ImJsb2Jfa2V5In19--c74b974d7d6114a264c0ef55f690bb0183bfc839/med2.jpg)[0m
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[36m  Disk Storage (0.9ms) [0m[34mGenerated URL for file at key: yfx7fd0u60t5itxmslvb2jvq51wr (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlV1o0TjJaa01IVTJNSFExYVhSNGJYTnNkbUl5YW5aeE5URjNjZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MTY6NDAuNzA2WiIsInB1ciI6ImJsb2Jfa2V5In19--3e3459a9686bc0b544374023ef7cb518c00c83b6/med3.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhibTh6WmpKdWFYSjNjR0l3WjNkM09HZG9jWFIyY21obGJ6WnFNZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MTY6NDAuNzAzWiIsInB1ciI6ImJsb2Jfa2V5In19--c74b974d7d6114a264c0ef55f690bb0183bfc839/med2.jpg
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlV1o0TjJaa01IVTJNSFExYVhSNGJYTnNkbUl5YW5aeE5URjNjZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MTY6NDAuNzA2WiIsInB1ciI6ImJsb2Jfa2V5In19--3e3459a9686bc0b544374023ef7cb518c00c83b6/med3.jpg
Completed 302 Found in 73ms (ActiveRecord: 11.9ms | Allocations: 3995)


Processing by ActiveStorage::DiskController#show as JPEG
Completed 302 Found in 70ms (ActiveRecord: 0.7ms | Allocations: 3388)


  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med1"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 373)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhibTh6WmpKdWFYSjNjR0l3WjNkM09HZG9jWFIyY21obGJ6WnFNZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MTY6NDAuNzAzWiIsInB1ciI6ImJsb2Jfa2V5In19--c74b974d7d6114a264c0ef55f690bb0183bfc839/med2.jpg" for ::1 at 2021-08-10 07:11:40 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlV1o0TjJaa01IVTJNSFExYVhSNGJYTnNkbUl5YW5aeE5URjNjZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MTY6NDAuNzA2WiIsInB1ciI6ImJsb2Jfa2V5In19--3e3459a9686bc0b544374023ef7cb518c00c83b6/med3.jpg" for ::1 at 2021-08-10 07:11:40 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med2"}
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med3"}
Completed 200 OK in 3ms (ActiveRecord: 0.0ms | Allocations: 709)


Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 671)


Started DELETE "/animals/media/4?media_id=6" for ::1 at 2021-08-10 07:12:04 +0800
Processing by AnimalsController#media_delete as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "media_id"=>"6", "id"=>"4"}
  [1m[36mAnimal Load (0.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 AND "active_storage_attachments"."id" = $4 LIMIT $5[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Attachment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = $1[0m  [["id", 6]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mAnimal Update (0.4ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 23:12:04.678760"], ["id", 4]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Attachment Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = $1 LIMIT $2[0m  [["blob_id", 6], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1[0m  [["blob_id", 6]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 6], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Blob Destroy (0.5ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1[0m  [["id", 6]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (40.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
[36m  Disk Storage (0.3ms) [0m[31mDeleted file from key: no3f2nirwpb0gww8ghqtvrheo6j2[0m
[36m  Disk Storage (2.4ms) [0m[31mDeleted files by key prefix: variants/no3f2nirwpb0gww8ghqtvrheo6j2/[0m
Redirected to http://localhost:3000/animals/4
Completed 302 Found in 81ms (ActiveRecord: 48.1ms | Allocations: 14400)


Started GET "/animals/4" for ::1 at 2021-08-10 07:12:04 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.2ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 40.1ms | Allocations: 13477)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.7ms | Allocations: 801)
  Rendered layout layouts/application.html.erb (Duration: 66.1ms | Allocations: 22413)
Completed 200 OK in 78ms (Views: 62.5ms | ActiveRecord: 4.9ms | Allocations: 25111)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaalZuY1RCME9YWTFaVFJtZERkeGJYaGpjbUZwYzNkaWQzRm5hd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzoxMzowMy44NjFaIiwicHVyIjoiYmxvYl9rZXkifX0=--40d4d2ce0c745a0b6f10e31d30c943091417aa7b/profile.jpg" for ::1 at 2021-08-10 07:12:04 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 4ms (ActiveRecord: 0.0ms | Allocations: 373)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhiR1pwY1c5bE5IYzFkWE0wZG01eE1EVnhaVFJ6WjJ4c05tTnJjd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpERXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXhMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MTY6NDAuNTYxWiIsInB1ciI6ImJsb2Jfa2V5In19--f916773dabe9910cdd10c2ea70da5e7d94e4af89/med1.jpg" for ::1 at 2021-08-10 07:12:04 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med1"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 355)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlV1o0TjJaa01IVTJNSFExYVhSNGJYTnNkbUl5YW5aeE5URjNjZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MTY6NDAuNzA2WiIsInB1ciI6ImJsb2Jfa2V5In19--3e3459a9686bc0b544374023ef7cb518c00c83b6/med3.jpg" for ::1 at 2021-08-10 07:12:04 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med3"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 337)


Started DELETE "/users/sign_out" for ::1 at 2021-08-10 07:12:19 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms | Allocations: 1910)


Started GET "/" for ::1 at 2021-08-10 07:12:19 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 121)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 790)
  Rendered layout layouts/application.html.erb (Duration: 14.0ms | Allocations: 8731)
Completed 200 OK in 16ms (Views: 14.6ms | ActiveRecord: 0.0ms | Allocations: 9330)


Started GET "/users/sign_up?role=sponsor" for ::1 at 2021-08-10 07:12:21 +0800
Processing by Users::RegistrationsController#new as HTML
  Parameters: {"role"=>"sponsor"}
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 1.4ms | Allocations: 186)
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 133)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 16.3ms | Allocations: 9953)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.4ms | Allocations: 873)
  Rendered layout layouts/application.html.erb (Duration: 34.9ms | Allocations: 18983)
Completed 200 OK in 40ms (Views: 38.4ms | ActiveRecord: 0.0ms | Allocations: 21342)


Started POST "/users" for ::1 at 2021-08-10 07:12:45 +0800
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"first_name"=>"fhsdfo", "last_name"=>"ksjdbsdkjfb", "email"=>"dsfjn@ng.com", "date_of_birth"=>"3123-02-11", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "role"=>"sponsor", "address_attributes"=>{"street_number"=>"123", "street_name"=>"sef", "suburb"=>"sfs", "postcode"=>"23", "state_attributes"=>{"name"=>"sef", "country_attributes"=>{"name"=>"Andorra"}}}}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "dsfjn@ng.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "sef"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Andorra"], ["LIMIT", 1]]
  ↳ app/models/state.rb:13:in `check_if_country_exists'
  [1m[36mCountry Create (6.0ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Andorra"], ["created_at", "2021-08-09 23:12:45.673994"], ["updated_at", "2021-08-09 23:12:45.673994"]]
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mState Create (0.6ms)[0m  [1m[32mINSERT INTO "states" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Sef"], ["country_id", 2], ["created_at", "2021-08-09 23:12:45.683636"], ["updated_at", "2021-08-09 23:12:45.683636"]]
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "sef"], ["postcode", "23"], ["suburb", "sfs"], ["state_id", 2], ["created_at", "2021-08-09 23:12:45.686910"], ["updated_at", "2021-08-09 23:12:45.686910"]]
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "dsfjn@ng.com"], ["encrypted_password", "$2a$12$hLr7YXJ66ChpOmLCiHgcGO3kKZFHtFRq7IUmQrZA076HtR2rtjVxm"], ["created_at", "2021-08-09 23:12:45.689021"], ["updated_at", "2021-08-09 23:12:45.689021"], ["first_name", "Fhsdfo"], ["last_name", "Ksjdbsdkjfb"], ["approved", true], ["role", 0], ["date_of_birth", "3123-02-11"], ["address_id", 4]]
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 305ms (ActiveRecord: 8.9ms | Allocations: 11320)


Started GET "/" for ::1 at 2021-08-10 07:12:45 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1055)


Started GET "/home" for ::1 at 2021-08-10 07:12:45 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.4ms | Allocations: 1821)
  Rendered pages/home.html.erb within layouts/application (Duration: 4.9ms | Allocations: 2056)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.9ms | Allocations: 793)
  Rendered layout layouts/application.html.erb (Duration: 21.9ms | Allocations: 11063)
Completed 200 OK in 28ms (Views: 22.2ms | ActiveRecord: 1.1ms | Allocations: 14067)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOMjV1YnpSMGRucDNNbWhoYkc1bGJHZHZNSFkwTkRnM2MzTTBPQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MTM6MzIuMDAxWiIsInB1ciI6ImJsb2Jfa2V5In19--827298775cbde91befc66b8a426502cd2f10e501/cow.jpg" for ::1 at 2021-08-10 07:12:45 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 375)


Started GET "/animals" for ::1 at 2021-08-10 07:12:48 +0800
Processing by AnimalsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 7.2ms | Allocations: 1793)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 6.5ms | Allocations: 1798)
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (1.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 7.6ms | Allocations: 1788)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.7ms | Allocations: 1788)
  Rendered animals/index.html.erb within layouts/application (Duration: 39.1ms | Allocations: 18034)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 2.7ms | Allocations: 1527)
  Rendered layout layouts/application.html.erb (Duration: 54.0ms | Allocations: 27668)
Completed 200 OK in 55ms (Views: 50.1ms | ActiveRecord: 4.4ms | Allocations: 28242)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhObXhrYmpsbVkzcG1jRzgyZVRWbE0yOTRZMnBoZHpWcmFUaG1jUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MTM6MzkuNjUzWiIsInB1ciI6ImJsb2Jfa2V5In19--888a374e163f1f41ec1e3abc5dfe01bf8d21b5a2/pig.jpg" for ::1 at 2021-08-10 07:12:49 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhObUZvY25JNGN6VnNjMnB3WXpadFpUTjZaR0pvYm5aMmJuaDBNQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTA5VDIzOjEzOjM5LjY1N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--091d615632b95f9abd91e8345ac45f9116245c7f/sheep.jpg" for ::1 at 2021-08-10 07:12:49 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaalZuY1RCME9YWTFaVFJtZERkeGJYaGpjbUZwYzNkaWQzRm5hd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzoxMzowMy44NjFaIiwicHVyIjoiYmxvYl9rZXkifX0=--40d4d2ce0c745a0b6f10e31d30c943091417aa7b/profile.jpg" for ::1 at 2021-08-10 07:12:49 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Processing by ActiveStorage::DiskController#show as JPEG
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 707)


Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 707)


  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 363)


Started GET "/animals?category=1&sponsored=1&name=&commit=Search" for ::1 at 2021-08-10 07:12:56 +0800
Processing by AnimalsController#index as HTML
  Parameters: {"category"=>"1", "sponsored"=>"1", "name"=>"", "commit"=>"Search"}
  [1m[36mCategory Load (1.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/animals_controller.rb:13:in `map'
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."category_id" = $1 AND "animals"."sponsored" = $2[0m  [["category_id", 1], ["sponsored", true]]
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.5ms | Allocations: 1793)
  Rendered animals/index.html.erb within layouts/application (Duration: 19.8ms | Allocations: 12289)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 3.2ms | Allocations: 1537)
  Rendered layout layouts/application.html.erb (Duration: 39.7ms | Allocations: 21835)
Completed 200 OK in 46ms (Views: 38.7ms | ActiveRecord: 2.7ms | Allocations: 22992)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaalZuY1RCME9YWTFaVFJtZERkeGJYaGpjbUZwYzNkaWQzRm5hd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzoxMzowMy44NjFaIiwicHVyIjoiYmxvYl9rZXkifX0=--40d4d2ce0c745a0b6f10e31d30c943091417aa7b/profile.jpg" for ::1 at 2021-08-10 07:12:56 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 351)


Started GET "/animals/4" for ::1 at 2021-08-10 07:12:57 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.2ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  Rendered animals/show.html.erb within layouts/application (Duration: 14.3ms | Allocations: 5709)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 795)
  Rendered layout layouts/application.html.erb (Duration: 26.0ms | Allocations: 14715)
Completed 200 OK in 31ms (Views: 24.6ms | ActiveRecord: 2.3ms | Allocations: 17315)


Started DELETE "/users/sign_out" for ::1 at 2021-08-10 07:13:10 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.1ms | Allocations: 1841)


Started GET "/" for ::1 at 2021-08-10 07:13:10 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.2ms | Allocations: 125)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.3ms | Allocations: 787)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | Allocations: 8619)
Completed 200 OK in 17ms (Views: 16.3ms | ActiveRecord: 0.0ms | Allocations: 9200)


  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (133.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "save_their_bacon_development"[0m
  [1m[35m (56.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "save_their_bacon_test"[0m
  [1m[35m (164.7ms)[0m  [1m[35mCREATE DATABASE "save_their_bacon_development" ENCODING = 'unicode'[0m
  [1m[35m (71.7ms)[0m  [1m[35mCREATE DATABASE "save_their_bacon_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (41.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "street_number" character varying, "street_name" character varying, "postcode" character varying, "suburb" character varying, "state_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_state_id" ON "addresses" ("state_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "animals" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "name" character varying, "year_born" integer, "weight" integer, "bio" text, "species" character varying, "sponsored" boolean DEFAULT FALSE NOT NULL, "sponsor_price" integer, "category_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_animals_on_category_id" ON "animals" ("category_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_animals_on_owner_id" ON "animals" ("owner_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "articles" ("id" bigserial primary key, "title" character varying, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "sponsorship_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_chats_on_sponsorship_id" ON "chats" ("sponsorship_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "chat_id" bigint NOT NULL, "sender_id" bigint NOT NULL, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_messages_on_chat_id" ON "messages" ("chat_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_messages_on_sender_id" ON "messages" ("sender_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "sponsorships" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "sponsorships" ("id" bigserial primary key, "receipt" character varying, "animal_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "sponsor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_animal_id" ON "sponsorships" ("animal_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_owner_id" ON "sponsorships" ("owner_id")[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_sponsor_id" ON "sponsorships" ("sponsor_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "states" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "states" ("id" bigserial primary key, "name" character varying, "country_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_states_on_country_id" ON "states" ("country_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "first_name" character varying, "last_name" character varying, "approved" boolean, "role" integer, "date_of_birth" date, "address_id" bigint NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_users_on_address_id" ON "users" ("address_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_2d87b6c11e"
FOREIGN KEY ("state_id")
  REFERENCES "states" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_fe0d97b5eb"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_8d97761a89"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "chats" ADD CONSTRAINT "fk_rails_4d1bd8a917"
FOREIGN KEY ("sponsorship_id")
  REFERENCES "sponsorships" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_ac0a2a4ca2"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_fb21d21baf"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_bf78e760cb"
FOREIGN KEY ("sponsor_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "states" ADD CONSTRAINT "fk_rails_40bd891262"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_eb2fc738e4"
FOREIGN KEY ("address_id")
  REFERENCES "addresses" ("id")
[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210809103829)[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20210726021338),
(20210726031458),
(20210727000917),
(20210727001212),
(20210727001446),
(20210727002353),
(20210727014626),
(20210727014902),
(20210727021825),
(20210728001211),
(20210803015959),
(20210803020258);

[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-08-09 23:13:23.688314"], ["updated_at", "2021-08-09 23:13:23.688314"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "4a28e1dc81aafcce80d6bf5ac6f779ffc2460a65"], ["created_at", "2021-08-09 23:13:23.696955"], ["updated_at", "2021-08-09 23:13:23.696955"]]
  [1m[36mTRANSACTION (40.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "street_number" character varying, "street_name" character varying, "postcode" character varying, "suburb" character varying, "state_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_state_id" ON "addresses" ("state_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "animals" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "name" character varying, "year_born" integer, "weight" integer, "bio" text, "species" character varying, "sponsored" boolean DEFAULT FALSE NOT NULL, "sponsor_price" integer, "category_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_animals_on_category_id" ON "animals" ("category_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_animals_on_owner_id" ON "animals" ("owner_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "articles" ("id" bigserial primary key, "title" character varying, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "sponsorship_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_chats_on_sponsorship_id" ON "chats" ("sponsorship_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "chat_id" bigint NOT NULL, "sender_id" bigint NOT NULL, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_messages_on_chat_id" ON "messages" ("chat_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_messages_on_sender_id" ON "messages" ("sender_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "sponsorships" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "sponsorships" ("id" bigserial primary key, "receipt" character varying, "animal_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "sponsor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_animal_id" ON "sponsorships" ("animal_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_owner_id" ON "sponsorships" ("owner_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_sponsor_id" ON "sponsorships" ("sponsor_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "states" CASCADE[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "states" ("id" bigserial primary key, "name" character varying, "country_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE INDEX "index_states_on_country_id" ON "states" ("country_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "first_name" character varying, "last_name" character varying, "approved" boolean, "role" integer, "date_of_birth" date, "address_id" bigint NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_users_on_address_id" ON "users" ("address_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_2d87b6c11e"
FOREIGN KEY ("state_id")
  REFERENCES "states" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_fe0d97b5eb"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_8d97761a89"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "chats" ADD CONSTRAINT "fk_rails_4d1bd8a917"
FOREIGN KEY ("sponsorship_id")
  REFERENCES "sponsorships" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_ac0a2a4ca2"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_fb21d21baf"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_bf78e760cb"
FOREIGN KEY ("sponsor_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "states" ADD CONSTRAINT "fk_rails_40bd891262"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_eb2fc738e4"
FOREIGN KEY ("address_id")
  REFERENCES "addresses" ("id")
[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210809103829)[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20210726021338),
(20210726031458),
(20210727000917),
(20210727001212),
(20210727001446),
(20210727002353),
(20210727014626),
(20210727014902),
(20210727021825),
(20210728001211),
(20210803015959),
(20210803020258);

[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-08-09 23:13:23.955959"], ["updated_at", "2021-08-09 23:13:23.955959"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-08-09 23:13:23.961865"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "4a28e1dc81aafcce80d6bf5ac6f779ffc2460a65"], ["created_at", "2021-08-09 23:13:23.966379"], ["updated_at", "2021-08-09 23:13:23.966379"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Create (0.7ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Australia"], ["created_at", "2021-08-09 23:13:24.020419"], ["updated_at", "2021-08-09 23:13:24.020419"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "states"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Australia"], ["LIMIT", 1]]
  ↳ app/models/state.rb:13:in `check_if_country_exists'
  [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Australia"], ["LIMIT", 1]]
  ↳ app/models/state.rb:13:in `check_if_country_exists'
  [1m[36mState Create (0.6ms)[0m  [1m[32mINSERT INTO "states" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Western australia"], ["country_id", 1], ["created_at", "2021-08-09 23:13:24.049007"], ["updated_at", "2021-08-09 23:13:24.049007"]]
  [1m[36mTRANSACTION (35.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mAddress Create (0.7ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Admin St"], ["postcode", "1234"], ["suburb", "Admington"], ["state_id", 1], ["created_at", "2021-08-09 23:13:24.113509"], ["updated_at", "2021-08-09 23:13:24.113509"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mState Load (0.3ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mState Load (0.1ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Sponsor St"], ["postcode", "2345"], ["suburb", "Sponsor Lake"], ["state_id", 1], ["created_at", "2021-08-09 23:13:24.120639"], ["updated_at", "2021-08-09 23:13:24.120639"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Sanctuary St"], ["postcode", "3456"], ["suburb", "Sanctuary Hills"], ["state_id", 1], ["created_at", "2021-08-09 23:13:24.127616"], ["updated_at", "2021-08-09 23:13:24.127616"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "admin@admin.com"], ["encrypted_password", "$2a$12$GDM0Em9cBiyeKSbh0rFmv.6iXz7YDavvXzZveB5sjMTi8GiPUp2mu"], ["created_at", "2021-08-09 23:13:24.371772"], ["updated_at", "2021-08-09 23:13:24.371772"], ["first_name", "Admin"], ["last_name", "Admins"], ["approved", true], ["role", 2], ["date_of_birth", "1980-01-01"], ["address_id", 1]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sponsor@sponsor.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "sponsor@sponsor.com"], ["encrypted_password", "$2a$12$2qwuOneIwbC93Ji3HUliROlex032gGfUIf5S4xIEtnaeTFfaymZSS"], ["created_at", "2021-08-09 23:13:24.593350"], ["updated_at", "2021-08-09 23:13:24.593350"], ["first_name", "Spon"], ["last_name", "Sor"], ["approved", true], ["role", 0], ["date_of_birth", "1980-01-01"], ["address_id", 2]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sanctuary@sanctuary.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "sanctuary@sanctuary.com"], ["encrypted_password", "$2a$12$KStEQTx2qxBJ736MtBhKluCDIkDUyrc6vOCxLtkP7OeV1IQ7bU26i"], ["created_at", "2021-08-09 23:13:24.816493"], ["updated_at", "2021-08-09 23:13:24.816493"], ["first_name", "Sanc"], ["last_name", "Tuary"], ["approved", false], ["role", 1], ["date_of_birth", "1980-01-01"], ["address_id", 2]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pig"], ["created_at", "2021-08-09 23:13:24.837308"], ["updated_at", "2021-08-09 23:13:24.837308"]]
  [1m[36mTRANSACTION (40.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Cow"], ["created_at", "2021-08-09 23:13:24.882479"], ["updated_at", "2021-08-09 23:13:24.882479"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sheep"], ["created_at", "2021-08-09 23:13:24.890053"], ["updated_at", "2021-08-09 23:13:24.890053"]]
  [1m[36mTRANSACTION (39.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Chicken"], ["created_at", "2021-08-09 23:13:24.934674"], ["updated_at", "2021-08-09 23:13:24.934674"]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Horse"], ["created_at", "2021-08-09 23:13:24.941825"], ["updated_at", "2021-08-09 23:13:24.941825"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Goat"], ["created_at", "2021-08-09 23:13:24.946519"], ["updated_at", "2021-08-09 23:13:24.946519"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Create (0.9ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Ham solo"], ["year_born", 2010], ["weight", 100], ["bio", "Proving pigs can fly"], ["species", "Chonker"], ["sponsor_price", 5000], ["category_id", 1], ["owner_id", 3], ["created_at", "2021-08-09 23:13:25.003205"], ["updated_at", "2021-08-09 23:13:25.003205"]]
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "l90fyjk4dyeymbglz66h6qvpxous"], ["filename", "pig.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 63070], ["checksum", "90VAk/JgiPplQ/k0FbH5og=="], ["created_at", "2021-08-09 23:13:25.036025"]]
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 1], ["blob_id", 1], ["created_at", "2021-08-09 23:13:25.039325"]]
  [1m[36mAnimal Update (0.3ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 23:13:25.041762"], ["id", 1]]
  [1m[36mTRANSACTION (40.1ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.5ms) [0m[32mUploaded file to key: l90fyjk4dyeymbglz66h6qvpxous (checksum: 90VAk/JgiPplQ/k0FbH5og==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 9c4b6f13-367a-4708-926b-81acbd830dee) to Async(default) with arguments: #<GlobalID:0x00007fa1d59afa50 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/1>>
  [1m[36mCategory Load (2.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Create (0.7ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Vladimir mootin"], ["year_born", 2015], ["weight", 120], ["bio", "Theres a MosCOW joke there somewhere"], ["species", "President"], ["sponsor_price", 6000], ["category_id", 2], ["owner_id", 3], ["created_at", "2021-08-09 23:13:25.101645"], ["updated_at", "2021-08-09 23:13:25.101645"]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "tfzc0hcnt38td4ccf45hgwrbu9w9"], ["filename", "cow.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 85749], ["checksum", "Yugf1sJBNAnlVPyCdAy9SA=="], ["created_at", "2021-08-09 23:13:25.111037"]]
  [1m[36mActiveStorage::Attachment Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 2], ["blob_id", 2], ["created_at", "2021-08-09 23:13:25.114502"]]
  [1m[36mAnimal Update (0.6ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 23:13:25.117366"], ["id", 2]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c4b6f13-367a-4708-926b-81acbd830dee] Performing ActiveStorage::AnalyzeJob (Job ID: 9c4b6f13-367a-4708-926b-81acbd830dee) from Async(default) enqueued at 2021-08-09T23:13:25Z with arguments: #<GlobalID:0x00007fa1d5ac5cc8 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c4b6f13-367a-4708-926b-81acbd830dee] [36m  Disk Storage (0.8ms) [0m[34mDownloaded file from key: l90fyjk4dyeymbglz66h6qvpxous[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c4b6f13-367a-4708-926b-81acbd830dee] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c4b6f13-367a-4708-926b-81acbd830dee]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c4b6f13-367a-4708-926b-81acbd830dee]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (39.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c4b6f13-367a-4708-926b-81acbd830dee]   [1m[36mTRANSACTION (20.9ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9c4b6f13-367a-4708-926b-81acbd830dee] Performed ActiveStorage::AnalyzeJob (Job ID: 9c4b6f13-367a-4708-926b-81acbd830dee) from Async(default) in 39.66ms
[36m  Disk Storage (2.5ms) [0m[32mUploaded file to key: tfzc0hcnt38td4ccf45hgwrbu9w9 (checksum: Yugf1sJBNAnlVPyCdAy9SA==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 63763aae-082a-46e7-8334-be00d25df33a) to Async(default) with arguments: #<GlobalID:0x00007fa1d5ae4010 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/2>>
  [1m[36mCategory Load (1.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (1.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [63763aae-082a-46e7-8334-be00d25df33a] Performing ActiveStorage::AnalyzeJob (Job ID: 63763aae-082a-46e7-8334-be00d25df33a) from Async(default) enqueued at 2021-08-09T23:13:25Z with arguments: #<GlobalID:0x00007fa1d5b8bd60 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/2>>
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [63763aae-082a-46e7-8334-be00d25df33a] [36m  Disk Storage (1.2ms) [0m[34mDownloaded file from key: tfzc0hcnt38td4ccf45hgwrbu9w9[0m
  [1m[36mAnimal Create (0.7ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Meryl sheep"], ["year_born", 2008], ["weight", 80], ["bio", "A Farmous Actress"], ["species", "Floofer"], ["sponsor_price", 10000], ["category_id", 3], ["owner_id", 3], ["created_at", "2021-08-09 23:13:25.172033"], ["updated_at", "2021-08-09 23:13:25.172033"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [63763aae-082a-46e7-8334-be00d25df33a] Skipping image analysis because the mini_magick gem isn't installed
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [63763aae-082a-46e7-8334-be00d25df33a]   [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [63763aae-082a-46e7-8334-be00d25df33a]   [1m[36mActiveStorage::Blob Update (2.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
  [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "7u52sx4j23asyvuccmqguyzmg66y"], ["filename", "sheep.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 99269], ["checksum", "M/Dwzj+u/kr3gCzmCGfSeg=="], ["created_at", "2021-08-09 23:13:25.184252"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 3], ["blob_id", 3], ["created_at", "2021-08-09 23:13:25.186835"]]
  [1m[36mAnimal Update (0.4ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 23:13:25.189303"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [63763aae-082a-46e7-8334-be00d25df33a]   [1m[36mTRANSACTION (40.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [63763aae-082a-46e7-8334-be00d25df33a] Performed ActiveStorage::AnalyzeJob (Job ID: 63763aae-082a-46e7-8334-be00d25df33a) from Async(default) in 57.04ms
  [1m[36mTRANSACTION (35.7ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (1.4ms) [0m[32mUploaded file to key: 7u52sx4j23asyvuccmqguyzmg66y (checksum: M/Dwzj+u/kr3gCzmCGfSeg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c66f7634-479f-47c8-bc19-5c8e53e76dcc) to Async(default) with arguments: #<GlobalID:0x00007fa1d5c87f98 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/3>>
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles"[0m
  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c66f7634-479f-47c8-bc19-5c8e53e76dcc] Performing ActiveStorage::AnalyzeJob (Job ID: c66f7634-479f-47c8-bc19-5c8e53e76dcc) from Async(default) enqueued at 2021-08-09T23:13:25Z with arguments: #<GlobalID:0x00007fa1cdf7def8 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/3>>
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c66f7634-479f-47c8-bc19-5c8e53e76dcc] [36m  Disk Storage (1.5ms) [0m[34mDownloaded file from key: 7u52sx4j23asyvuccmqguyzmg66y[0m
  [1m[36mArticle Create (1.1ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Article 1"], ["body", "This is the article"], ["created_at", "2021-08-09 23:13:25.252800"], ["updated_at", "2021-08-09 23:13:25.252800"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c66f7634-479f-47c8-bc19-5c8e53e76dcc] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [c66f7634-479f-47c8-bc19-5c8e53e76dcc]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c66f7634-479f-47c8-bc19-5c8e53e76dcc]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
  [1m[36mTRANSACTION (40.5ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c66f7634-479f-47c8-bc19-5c8e53e76dcc]   [1m[36mTRANSACTION (37.5ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c66f7634-479f-47c8-bc19-5c8e53e76dcc] Performed ActiveStorage::AnalyzeJob (Job ID: c66f7634-479f-47c8-bc19-5c8e53e76dcc) from Async(default) in 48.84ms
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArticle Create (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Article 2"], ["body", "This is the article"], ["created_at", "2021-08-09 23:13:25.300595"], ["updated_at", "2021-08-09 23:13:25.300595"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArticle Create (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Website Updates"], ["body", "I did a thing to the website"], ["created_at", "2021-08-09 23:13:25.306767"], ["updated_at", "2021-08-09 23:13:25.306767"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Started GET "/animals" for ::1 at 2021-08-10 07:20:54 +0800
  [1m[35m (21.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AnimalsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCategory Load (1.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (2.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 54.3ms | Allocations: 20774)
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (1.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 8.9ms | Allocations: 2018)
  [1m[36mActiveStorage::Attachment Load (1.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 7.8ms | Allocations: 1788)
  Rendered animals/index.html.erb within layouts/application (Duration: 156.0ms | Allocations: 45337)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 6.5ms | Allocations: 1545)
  Rendered layout layouts/application.html.erb (Duration: 276.0ms | Allocations: 66759)
Completed 200 OK in 327ms (Views: 229.9ms | ActiveRecord: 52.0ms | Allocations: 75540)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee/pig.jpg" for ::1 at 2021-08-10 07:20:54 +0800
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a/sheep.jpg" for ::1 at 2021-08-10 07:20:54 +0800
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19/cow.jpg" for ::1 at 2021-08-10 07:20:54 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee", "filename"=>"pig"}
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a", "filename"=>"sheep"}
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19", "filename"=>"cow"}
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (20.1ms) [0m[34mGenerated URL for file at key: l90fyjk4dyeymbglz66h6qvpxous (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhiRGt3Wm5scWF6UmtlV1Y1YldKbmJIbzJObWcyY1had2VHOTFjd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MjU6NTQuNzgwWiIsInB1ciI6ImJsb2Jfa2V5In19--ffc4be788466a09f62cf7ac3f3406ec835702119/pig.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhiRGt3Wm5scWF6UmtlV1Y1YldKbmJIbzJObWcyY1had2VHOTFjd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MjU6NTQuNzgwWiIsInB1ciI6ImJsb2Jfa2V5In19--ffc4be788466a09f62cf7ac3f3406ec835702119/pig.jpg
Completed 302 Found in 27ms (ActiveRecord: 0.7ms | Allocations: 5191)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhiRGt3Wm5scWF6UmtlV1Y1YldKbmJIbzJObWcyY1had2VHOTFjd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MjU6NTQuNzgwWiIsInB1ciI6ImJsb2Jfa2V5In19--ffc4be788466a09f62cf7ac3f3406ec835702119/pig.jpg" for ::1 at 2021-08-10 07:20:54 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 558)


  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (0.6ms) [0m[34mGenerated URL for file at key: 7u52sx4j23asyvuccmqguyzmg66y (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOM1UxTW5ONE5Hb3lNMkZ6ZVhaMVkyTnRjV2QxZVhwdFp6WTJlUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTA5VDIzOjI1OjU0LjgxMVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--a6d869db2701e67a3f219280925390c73fb34869/sheep.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOM1UxTW5ONE5Hb3lNMkZ6ZVhaMVkyTnRjV2QxZVhwdFp6WTJlUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTA5VDIzOjI1OjU0LjgxMVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--a6d869db2701e67a3f219280925390c73fb34869/sheep.jpg
Completed 302 Found in 53ms (ActiveRecord: 23.8ms | Allocations: 12160)


  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOM1UxTW5ONE5Hb3lNMkZ6ZVhaMVkyTnRjV2QxZVhwdFp6WTJlUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTA5VDIzOjI1OjU0LjgxMVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--a6d869db2701e67a3f219280925390c73fb34869/sheep.jpg" for ::1 at 2021-08-10 07:20:54 +0800
[36m  Disk Storage (0.4ms) [0m[34mGenerated URL for file at key: tfzc0hcnt38td4ccf45hgwrbu9w9 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkR1o2WXpCb1kyNTBNemgwWkRSalkyWTBOV2huZDNKaWRUbDNPUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MjU6NTQuODIxWiIsInB1ciI6ImJsb2Jfa2V5In19--21bae429612719c1392914693fd37d86af5f7f55/cow.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkR1o2WXpCb1kyNTBNemgwWkRSalkyWTBOV2huZDNKaWRUbDNPUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MjU6NTQuODIxWiIsInB1ciI6ImJsb2Jfa2V5In19--21bae429612719c1392914693fd37d86af5f7f55/cow.jpg
Completed 302 Found in 61ms (ActiveRecord: 16.0ms | Allocations: 15065)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 354)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkR1o2WXpCb1kyNTBNemgwWkRSalkyWTBOV2huZDNKaWRUbDNPUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6MjU6NTQuODIxWiIsInB1ciI6ImJsb2Jfa2V5In19--21bae429612719c1392914693fd37d86af5f7f55/cow.jpg" for ::1 at 2021-08-10 07:20:54 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 368)


Started GET "/" for ::1 at 2021-08-10 07:20:59 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 369)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 3.1ms | Allocations: 859)
  Rendered layout layouts/application.html.erb (Duration: 56.5ms | Allocations: 9367)
Completed 200 OK in 72ms (Views: 65.4ms | ActiveRecord: 0.0ms | Allocations: 10959)


Started GET "/animals" for ::1 at 2021-08-10 07:21:01 +0800
Processing by AnimalsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCategory Load (1.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.7ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 12.0ms | Allocations: 1909)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.4ms | Allocations: 1799)
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.7ms | Allocations: 1788)
  Rendered animals/index.html.erb within layouts/application (Duration: 149.2ms | Allocations: 16432)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.2ms | Allocations: 861)
  Rendered layout layouts/application.html.erb (Duration: 173.6ms | Allocations: 25404)
Completed 200 OK in 175ms (Views: 169.9ms | ActiveRecord: 4.3ms | Allocations: 26044)


Started GET "/" for ::1 at 2021-08-10 07:21:04 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 121)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 48.1ms | Allocations: 787)
  Rendered layout layouts/application.html.erb (Duration: 152.5ms | Allocations: 8607)
Completed 200 OK in 154ms (Views: 153.3ms | ActiveRecord: 0.0ms | Allocations: 9191)


Started GET "/" for ::1 at 2021-08-10 07:37:20 +0800
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 687)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 3.5ms | Allocations: 1437)
  Rendered layout layouts/application.html.erb (Duration: 139.4ms | Allocations: 21871)
Completed 200 OK in 192ms (Views: 172.4ms | ActiveRecord: 0.0ms | Allocations: 26804)


Started GET "/users/sign_in" for ::1 at 2021-08-10 07:37:26 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.1ms | Allocations: 497)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 19.8ms | Allocations: 5092)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 877)
  Rendered layout layouts/application.html.erb (Duration: 31.9ms | Allocations: 14132)
Completed 200 OK in 52ms (Views: 34.8ms | ActiveRecord: 5.7ms | Allocations: 23416)


Started POST "/users/sign_in" for ::1 at 2021-08-10 07:37:39 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"sanctuary@sanctuary.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "sanctuary@sanctuary.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 247ms (ActiveRecord: 0.8ms | Allocations: 6086)


Started GET "/" for ::1 at 2021-08-10 07:37:39 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1270)


Started GET "/home" for ::1 at 2021-08-10 07:37:39 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 64.9ms | Allocations: 20088)
  Rendered pages/home.html.erb within layouts/application (Duration: 67.0ms | Allocations: 21012)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.6ms | Allocations: 828)
  Rendered layout layouts/application.html.erb (Duration: 79.6ms | Allocations: 30038)
Completed 200 OK in 136ms (Views: 73.2ms | ActiveRecord: 27.8ms | Allocations: 45225)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19/cow.jpg" for ::1 at 2021-08-10 07:37:39 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19", "filename"=>"cow"}
  [1m[36mActiveStorage::Blob Load (1.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (6.5ms) [0m[34mGenerated URL for file at key: tfzc0hcnt38td4ccf45hgwrbu9w9 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkR1o2WXpCb1kyNTBNemgwWkRSalkyWTBOV2huZDNKaWRUbDNPUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NDI6MzkuNjk2WiIsInB1ciI6ImJsb2Jfa2V5In19--3357c25e79fa1741c6c932b27a66d53649a0a805/cow.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkR1o2WXpCb1kyNTBNemgwWkRSalkyWTBOV2huZDNKaWRUbDNPUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NDI6MzkuNjk2WiIsInB1ciI6ImJsb2Jfa2V5In19--3357c25e79fa1741c6c932b27a66d53649a0a805/cow.jpg
Completed 302 Found in 19ms (ActiveRecord: 1.2ms | Allocations: 2370)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkR1o2WXpCb1kyNTBNemgwWkRSalkyWTBOV2huZDNKaWRUbDNPUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NDI6MzkuNjk2WiIsInB1ciI6ImJsb2Jfa2V5In19--3357c25e79fa1741c6c932b27a66d53649a0a805/cow.jpg" for ::1 at 2021-08-10 07:37:39 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 529)


Started GET "/articles/3" for ::1 at 2021-08-10 07:39:01 +0800
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/articles_controller.rb:58:in `set_article'
  Rendering layout layouts/application.html.erb
  Rendering articles/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/articles/show.html.erb:5
  Rendered articles/show.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1197)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 826)
  Rendered layout layouts/application.html.erb (Duration: 15.8ms | Allocations: 10174)
Completed 200 OK in 21ms (Views: 17.8ms | ActiveRecord: 0.5ms | Allocations: 12385)


Started GET "/home" for ::1 at 2021-08-10 07:39:03 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (3.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (3.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.5ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (2.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 9.6ms | Allocations: 1852)
  Rendered pages/home.html.erb within layouts/application (Duration: 10.7ms | Allocations: 2137)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 17.6ms | Allocations: 792)
  Rendered layout layouts/application.html.erb (Duration: 119.3ms | Allocations: 10938)
Completed 200 OK in 173ms (Views: 126.4ms | ActiveRecord: 11.0ms | Allocations: 14016)


Started GET "/articles/2" for ::1 at 2021-08-10 07:39:04 +0800
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/articles_controller.rb:58:in `set_article'
  Rendering layout layouts/application.html.erb
  Rendering articles/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/articles/show.html.erb:5
  Rendered articles/show.html.erb within layouts/application (Duration: 1.9ms | Allocations: 772)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.6ms | Allocations: 768)
  Rendered layout layouts/application.html.erb (Duration: 14.7ms | Allocations: 9493)
Completed 200 OK in 17ms (Views: 14.9ms | ActiveRecord: 0.4ms | Allocations: 10482)


Started GET "/home" for ::1 at 2021-08-10 07:39:06 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (25.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 31.1ms | Allocations: 1790)
  Rendered pages/home.html.erb within layouts/application (Duration: 35.6ms | Allocations: 2071)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.4ms | Allocations: 791)
  Rendered layout layouts/application.html.erb (Duration: 56.1ms | Allocations: 10871)
Completed 200 OK in 67ms (Views: 30.4ms | ActiveRecord: 27.8ms | Allocations: 13869)


Started DELETE "/users/sign_out" for ::1 at 2021-08-10 07:39:18 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 0.1ms | Allocations: 2847)


Started GET "/" for ::1 at 2021-08-10 07:39:18 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 145)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.5ms | Allocations: 807)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | Allocations: 8793)
Completed 200 OK in 18ms (Views: 16.8ms | ActiveRecord: 0.0ms | Allocations: 9478)


Started GET "/users/sign_in" for ::1 at 2021-08-10 07:39:20 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 68)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.1ms | Allocations: 806)
  Rendered layout layouts/application.html.erb (Duration: 18.4ms | Allocations: 9726)
Completed 200 OK in 20ms (Views: 19.3ms | ActiveRecord: 0.0ms | Allocations: 10483)


Started POST "/users/sign_in" for ::1 at 2021-08-10 07:39:30 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 231ms (ActiveRecord: 0.3ms | Allocations: 2493)


Started GET "/" for ::1 at 2021-08-10 07:39:30 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 1040)


Started GET "/home" for ::1 at 2021-08-10 07:39:30 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.3ms | Allocations: 1838)
  Rendered pages/home.html.erb within layouts/application (Duration: 6.1ms | Allocations: 2145)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.3ms | Allocations: 832)
  Rendered layout layouts/application.html.erb (Duration: 19.1ms | Allocations: 10993)
Completed 200 OK in 26ms (Views: 18.9ms | ActiveRecord: 1.5ms | Allocations: 14023)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkR1o2WXpCb1kyNTBNemgwWkRSalkyWTBOV2huZDNKaWRUbDNPUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NDI6MzkuNjk2WiIsInB1ciI6ImJsb2Jfa2V5In19--3357c25e79fa1741c6c932b27a66d53649a0a805/cow.jpg" for ::1 at 2021-08-10 07:39:31 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 379)


Started GET "/articles/3" for ::1 at 2021-08-10 07:39:38 +0800
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/articles_controller.rb:58:in `set_article'
  Rendering layout layouts/application.html.erb
  Rendering articles/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/articles/show.html.erb:5
  Rendered articles/show.html.erb within layouts/application (Duration: 2.3ms | Allocations: 918)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 808)
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | Allocations: 9776)
Completed 200 OK in 19ms (Views: 17.1ms | ActiveRecord: 0.3ms | Allocations: 10751)


Started DELETE "/articles/3" for ::1 at 2021-08-10 07:39:40 +0800
Processing by ArticlesController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/articles_controller.rb:58:in `set_article'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/articles_controller.rb:67:in `redirect_if_not_admin'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/articles_controller.rb:48:in `destroy'
  [1m[36mArticle Destroy (0.4ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/articles_controller.rb:48:in `destroy'
  [1m[36mTRANSACTION (45.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/articles_controller.rb:48:in `destroy'
Redirected to http://localhost:3000/home
Completed 302 Found in 56ms (ActiveRecord: 46.1ms | Allocations: 3055)


Started GET "/home" for ::1 at 2021-08-10 07:39:40 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.6ms | Allocations: 1789)
  Rendered pages/home.html.erb within layouts/application (Duration: 4.5ms | Allocations: 2062)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 830)
  Rendered layout layouts/application.html.erb (Duration: 21.0ms | Allocations: 10906)
Completed 200 OK in 28ms (Views: 21.3ms | ActiveRecord: 1.5ms | Allocations: 13903)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkR1o2WXpCb1kyNTBNemgwWkRSalkyWTBOV2huZDNKaWRUbDNPUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NDI6MzkuNjk2WiIsInB1ciI6ImJsb2Jfa2V5In19--3357c25e79fa1741c6c932b27a66d53649a0a805/cow.jpg" for ::1 at 2021-08-10 07:39:40 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 359)


Started GET "/articles/2" for ::1 at 2021-08-10 07:39:43 +0800
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/articles_controller.rb:58:in `set_article'
  Rendering layout layouts/application.html.erb
  Rendering articles/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/articles/show.html.erb:5
  Rendered articles/show.html.erb within layouts/application (Duration: 1.8ms | Allocations: 827)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 805)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 9678)
Completed 200 OK in 18ms (Views: 14.8ms | ActiveRecord: 0.5ms | Allocations: 10649)


Started DELETE "/articles/2" for ::1 at 2021-08-10 07:39:44 +0800
Processing by ArticlesController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mArticle Load (0.5ms)[0m  [1m[34mSELECT "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/articles_controller.rb:58:in `set_article'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/articles_controller.rb:67:in `redirect_if_not_admin'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/articles_controller.rb:48:in `destroy'
  [1m[36mArticle Destroy (0.2ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = $1[0m  [["id", 2]]
  ↳ app/controllers/articles_controller.rb:48:in `destroy'
  [1m[36mTRANSACTION (39.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/articles_controller.rb:48:in `destroy'
Redirected to http://localhost:3000/home
Completed 302 Found in 47ms (ActiveRecord: 40.6ms | Allocations: 2881)


Started GET "/home" for ::1 at 2021-08-10 07:39:44 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.7ms | Allocations: 1787)
  Rendered pages/home.html.erb within layouts/application (Duration: 4.3ms | Allocations: 2034)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 830)
  Rendered layout layouts/application.html.erb (Duration: 17.2ms | Allocations: 10875)
Completed 200 OK in 25ms (Views: 17.1ms | ActiveRecord: 1.5ms | Allocations: 13850)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkR1o2WXpCb1kyNTBNemgwWkRSalkyWTBOV2huZDNKaWRUbDNPUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NDI6MzkuNjk2WiIsInB1ciI6ImJsb2Jfa2V5In19--3357c25e79fa1741c6c932b27a66d53649a0a805/cow.jpg" for ::1 at 2021-08-10 07:39:44 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 355)


Started GET "/articles/new" for ::1 at 2021-08-10 07:39:49 +0800
Processing by ArticlesController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/articles_controller.rb:67:in `redirect_if_not_admin'
  Rendering layout layouts/application.html.erb
  Rendering articles/new.html.erb within layouts/application
  Rendered articles/_form.html.erb (Duration: 11.6ms | Allocations: 3538)
  Rendered articles/new.html.erb within layouts/application (Duration: 13.0ms | Allocations: 3923)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.6ms | Allocations: 823)
  Rendered layout layouts/application.html.erb (Duration: 31.4ms | Allocations: 12745)
Completed 200 OK in 37ms (Views: 32.0ms | ActiveRecord: 0.2ms | Allocations: 14159)


Started GET "/admin-dashboard" for ::1 at 2021-08-10 07:39:58 +0800
Processing by PagesController#admin as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pages/admin.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", false]]
  ↳ app/views/pages/admin.html.erb:9
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", true]]
  ↳ app/views/pages/admin.html.erb:23
  Rendered pages/admin.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1764)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.3ms | Allocations: 812)
  Rendered layout layouts/application.html.erb (Duration: 18.0ms | Allocations: 10626)
Completed 200 OK in 24ms (Views: 18.4ms | ActiveRecord: 0.6ms | Allocations: 12640)


Started POST "/admin-approve/3" for ::1 at 2021-08-10 07:40:11 +0800
Processing by PagesController#admin_approve_user as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:60:in `get_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/pages_controller.rb:40:in `admin_approve_user'
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:40:in `admin_approve_user'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "approved" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2021-08-09 23:40:11.577225"], ["approved", true], ["id", 3]]
  ↳ app/controllers/pages_controller.rb:40:in `admin_approve_user'
  [1m[36mTRANSACTION (39.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/pages_controller.rb:40:in `admin_approve_user'
Redirected to http://localhost:3000/admin-dashboard
Completed 302 Found in 72ms (ActiveRecord: 44.5ms | Allocations: 11407)


Started GET "/admin-dashboard" for ::1 at 2021-08-10 07:40:11 +0800
Processing by PagesController#admin as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pages/admin.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", false]]
  ↳ app/views/pages/admin.html.erb:9
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", true]]
  ↳ app/views/pages/admin.html.erb:23
  Rendered pages/admin.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1325)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 822)
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 10230)
Completed 200 OK in 19ms (Views: 14.6ms | ActiveRecord: 0.6ms | Allocations: 11989)


Started DELETE "/users/sign_out" for ::1 at 2021-08-10 07:40:20 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms | Allocations: 1884)


Started GET "/" for ::1 at 2021-08-10 07:40:20 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 129)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 787)
  Rendered layout layouts/application.html.erb (Duration: 17.8ms | Allocations: 8623)
Completed 200 OK in 19ms (Views: 18.2ms | ActiveRecord: 0.0ms | Allocations: 9219)


Started GET "/users/sign_in" for ::1 at 2021-08-10 07:40:21 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 68)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 939)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 806)
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | Allocations: 9727)
Completed 200 OK in 19ms (Views: 18.0ms | ActiveRecord: 0.0ms | Allocations: 10469)


Started POST "/users/sign_in" for ::1 at 2021-08-10 07:40:38 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"sanctuary@sanctuary.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "sanctuary@sanctuary.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 231ms (ActiveRecord: 0.3ms | Allocations: 2357)


Started GET "/" for ::1 at 2021-08-10 07:40:38 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1038)


Started GET "/home" for ::1 at 2021-08-10 07:40:38 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.7ms | Allocations: 1815)
  Rendered pages/home.html.erb within layouts/application (Duration: 4.2ms | Allocations: 2044)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.7ms | Allocations: 793)
  Rendered layout layouts/application.html.erb (Duration: 17.8ms | Allocations: 10955)
Completed 200 OK in 26ms (Views: 18.1ms | ActiveRecord: 1.2ms | Allocations: 13962)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkR1o2WXpCb1kyNTBNemgwWkRSalkyWTBOV2huZDNKaWRUbDNPUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NDI6MzkuNjk2WiIsInB1ciI6ImJsb2Jfa2V5In19--3357c25e79fa1741c6c932b27a66d53649a0a805/cow.jpg" for ::1 at 2021-08-10 07:40:38 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 4ms (ActiveRecord: 0.0ms | Allocations: 373)


Started GET "/animals/new" for ::1 at 2021-08-10 07:40:41 +0800
Processing by AnimalsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering animals/new.html.erb within layouts/application
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/_form.html.erb:46:in `map'
  Rendered animals/_form.html.erb (Duration: 17.2ms | Allocations: 5805)
  Rendered animals/new.html.erb within layouts/application (Duration: 20.0ms | Allocations: 6234)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 817)
  Rendered layout layouts/application.html.erb (Duration: 32.0ms | Allocations: 15276)
Completed 200 OK in 54ms (Views: 43.2ms | ActiveRecord: 3.8ms | Allocations: 18912)


Started POST "/animals" for ::1 at 2021-08-10 07:41:29 +0800
Processing by AnimalsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "animal"=>{"name"=>"Piggy smalls", "year_born"=>"2010", "weight"=>"100", "bio"=>"thew notorious p.i.g", "species"=>"pink", "sponsor_price"=>"59.99", "category_id"=>"1", "profile_picture"=>#<ActionDispatch::Http::UploadedFile:0x00007f88f8f6c4e8 @tempfile=#<Tempfile:/var/folders/g1/w_b947c941n8tclr4gvh68d00000gn/T/RackMultipart20210810-37762-ktc7lh.jpg>, @original_filename="profile.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"animal[profile_picture]\"; filename=\"profile.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Animal"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:51:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mAnimal Create (41.6ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Piggy smalls"], ["year_born", 2010], ["weight", 100], ["bio", "thew notorious p.i.g"], ["species", "pink"], ["sponsor_price", 5999], ["category_id", 1], ["owner_id", 3], ["created_at", "2021-08-09 23:41:29.982560"], ["updated_at", "2021-08-09 23:41:29.982560"]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mActiveStorage::Blob Create (40.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "ze7exqs710naix5jvlwzkg7bq81l"], ["filename", "profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 32456], ["checksum", "GszSpFm2V+JMbdlYIA9Y4g=="], ["created_at", "2021-08-09 23:41:30.043646"]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 4], ["blob_id", 4], ["created_at", "2021-08-09 23:41:30.087748"]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mAnimal Update (0.6ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 23:41:30.091631"], ["id", 4]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
[36m  Disk Storage (1.8ms) [0m[32mUploaded file to key: ze7exqs710naix5jvlwzkg7bq81l (checksum: GszSpFm2V+JMbdlYIA9Y4g==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 4a48f0a8-92a1-4b0a-9917-0be160e9ccb7) to Async(default) with arguments: #<GlobalID:0x00007f88fa992e30 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/4>>
Redirected to http://localhost:3000/animals/4
Completed 302 Found in 131ms (ActiveRecord: 87.0ms | Allocations: 16762)


Started GET "/animals/4" for ::1 at 2021-08-10 07:41:30 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.4ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.4ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mSponsorship Load (0.8ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:81
  Rendered animals/show.html.erb within layouts/application (Duration: 62.9ms | Allocations: 20257)
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4a48f0a8-92a1-4b0a-9917-0be160e9ccb7] Performing ActiveStorage::AnalyzeJob (Job ID: 4a48f0a8-92a1-4b0a-9917-0be160e9ccb7) from Async(default) enqueued at 2021-08-09T23:41:30Z with arguments: #<GlobalID:0x00007f88f8c56c40 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/4>>
[Webpacker] Everything's up-to-date. Nothing to do
[ActiveJob] [ActiveStorage::AnalyzeJob] [4a48f0a8-92a1-4b0a-9917-0be160e9ccb7] [36m  Disk Storage (0.6ms) [0m[34mDownloaded file from key: ze7exqs710naix5jvlwzkg7bq81l[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4a48f0a8-92a1-4b0a-9917-0be160e9ccb7] Skipping image analysis because the mini_magick gem isn't installed
  Rendered shared/_navbar.html.erb (Duration: 4.7ms | Allocations: 1811)
[ActiveJob] [ActiveStorage::AnalyzeJob] [4a48f0a8-92a1-4b0a-9917-0be160e9ccb7]   [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  Rendered layout layouts/application.html.erb (Duration: 87.6ms | Allocations: 34068)
[ActiveJob] [ActiveStorage::AnalyzeJob] [4a48f0a8-92a1-4b0a-9917-0be160e9ccb7]   [1m[36mActiveStorage::Blob Update (0.9ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 4]]
Completed 200 OK in 100ms (Views: 79.0ms | ActiveRecord: 10.0ms | Allocations: 37859)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--f29baae4a4fcf412c037bc80af8a2603fdd7304d/profile.jpg" for ::1 at 2021-08-10 07:41:30 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--f29baae4a4fcf412c037bc80af8a2603fdd7304d", "filename"=>"profile"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [4a48f0a8-92a1-4b0a-9917-0be160e9ccb7]   [1m[36mTRANSACTION (56.6ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4a48f0a8-92a1-4b0a-9917-0be160e9ccb7] Performed ActiveStorage::AnalyzeJob (Job ID: 4a48f0a8-92a1-4b0a-9917-0be160e9ccb7) from Async(default) in 68.29ms
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[36m  Disk Storage (0.6ms) [0m[34mGenerated URL for file at key: ze7exqs710naix5jvlwzkg7bq81l (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlbVUzWlhoeGN6Y3hNRzVoYVhnMWFuWnNkM3ByWnpkaWNUZ3hiQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzo0NjozMC4yODBaIiwicHVyIjoiYmxvYl9rZXkifX0=--a2a51729d4f4c193d014fb046407369ba54b8f3c/profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlbVUzWlhoeGN6Y3hNRzVoYVhnMWFuWnNkM3ByWnpkaWNUZ3hiQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzo0NjozMC4yODBaIiwicHVyIjoiYmxvYl9rZXkifX0=--a2a51729d4f4c193d014fb046407369ba54b8f3c/profile.jpg
Completed 302 Found in 12ms (ActiveRecord: 0.2ms | Allocations: 2223)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlbVUzWlhoeGN6Y3hNRzVoYVhnMWFuWnNkM3ByWnpkaWNUZ3hiQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzo0NjozMC4yODBaIiwicHVyIjoiYmxvYl9rZXkifX0=--a2a51729d4f4c193d014fb046407369ba54b8f3c/profile.jpg" for ::1 at 2021-08-10 07:41:30 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 200 OK in 4ms (ActiveRecord: 0.0ms | Allocations: 386)


Started DELETE "/users/sign_out" for ::1 at 2021-08-10 07:42:17 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.1ms | Allocations: 1923)


Started GET "/" for ::1 at 2021-08-10 07:42:17 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 127)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.7ms | Allocations: 791)
  Rendered layout layouts/application.html.erb (Duration: 37.8ms | Allocations: 8725)
Completed 200 OK in 39ms (Views: 38.4ms | ActiveRecord: 0.0ms | Allocations: 9352)


Started GET "/users/sign_in" for ::1 at 2021-08-10 07:42:19 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | Allocations: 68)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 932)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.8ms | Allocations: 806)
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | Allocations: 9720)
Completed 200 OK in 18ms (Views: 17.1ms | ActiveRecord: 0.0ms | Allocations: 10465)


Started POST "/users/sign_in" for ::1 at 2021-08-10 07:42:23 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"sponsor@sponsor.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "sponsor@sponsor.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 262ms (ActiveRecord: 0.3ms | Allocations: 2358)


Started GET "/" for ::1 at 2021-08-10 07:42:24 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1031)


Started GET "/home" for ::1 at 2021-08-10 07:42:24 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.5ms | Allocations: 1800)
  Rendered pages/home.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2029)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 792)
  Rendered layout layouts/application.html.erb (Duration: 18.9ms | Allocations: 10940)
Completed 200 OK in 26ms (Views: 19.0ms | ActiveRecord: 1.4ms | Allocations: 13934)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkR1o2WXpCb1kyNTBNemgwWkRSalkyWTBOV2huZDNKaWRUbDNPUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NDI6MzkuNjk2WiIsInB1ciI6ImJsb2Jfa2V5In19--3357c25e79fa1741c6c932b27a66d53649a0a805/cow.jpg" for ::1 at 2021-08-10 07:42:24 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 367)


Started GET "/animals" for ::1 at 2021-08-10 07:42:28 +0800
Processing by AnimalsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.5ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.7ms | Allocations: 1941)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.0ms | Allocations: 1798)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.8ms | Allocations: 1788)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.3ms | Allocations: 1788)
  Rendered animals/index.html.erb within layouts/application (Duration: 41.6ms | Allocations: 21075)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 3.6ms | Allocations: 1561)
  Rendered layout layouts/application.html.erb (Duration: 58.7ms | Allocations: 30802)
Completed 200 OK in 61ms (Views: 56.6ms | ActiveRecord: 2.6ms | Allocations: 31564)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee/pig.jpg" for ::1 at 2021-08-10 07:42:28 +0800
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a/sheep.jpg" for ::1 at 2021-08-10 07:42:28 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee", "filename"=>"pig"}
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a", "filename"=>"sheep"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlbVUzWlhoeGN6Y3hNRzVoYVhnMWFuWnNkM3ByWnpkaWNUZ3hiQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzo0NjozMC4yODBaIiwicHVyIjoiYmxvYl9rZXkifX0=--a2a51729d4f4c193d014fb046407369ba54b8f3c/profile.jpg" for ::1 at 2021-08-10 07:42:28 +0800
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (0.4ms) [0m[34mGenerated URL for file at key: l90fyjk4dyeymbglz66h6qvpxous (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhiRGt3Wm5scWF6UmtlV1Y1YldKbmJIbzJObWcyY1had2VHOTFjd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NDc6MjguMTYxWiIsInB1ciI6ImJsb2Jfa2V5In19--68229be826b437df5d58ccabad659f76cfc3417d/pig.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhiRGt3Wm5scWF6UmtlV1Y1YldKbmJIbzJObWcyY1had2VHOTFjd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NDc6MjguMTYxWiIsInB1ciI6ImJsb2Jfa2V5In19--68229be826b437df5d58ccabad659f76cfc3417d/pig.jpg
Completed 302 Found in 6ms (ActiveRecord: 0.7ms | Allocations: 3010)


Processing by ActiveStorage::DiskController#show as JPEG
  [1m[36mActiveStorage::Blob Load (2.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
[36m  Disk Storage (0.9ms) [0m[34mGenerated URL for file at key: 7u52sx4j23asyvuccmqguyzmg66y (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOM1UxTW5ONE5Hb3lNMkZ6ZVhaMVkyTnRjV2QxZVhwdFp6WTJlUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTA5VDIzOjQ3OjI4LjE2N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--155525ea774fd43788f04034a39af66817aaa2cf/sheep.jpg)[0m
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 360)


Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOM1UxTW5ONE5Hb3lNMkZ6ZVhaMVkyTnRjV2QxZVhwdFp6WTJlUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTA5VDIzOjQ3OjI4LjE2N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--155525ea774fd43788f04034a39af66817aaa2cf/sheep.jpg
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhiRGt3Wm5scWF6UmtlV1Y1YldKbmJIbzJObWcyY1had2VHOTFjd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NDc6MjguMTYxWiIsInB1ciI6ImJsb2Jfa2V5In19--68229be826b437df5d58ccabad659f76cfc3417d/pig.jpg" for ::1 at 2021-08-10 07:42:28 +0800
Completed 302 Found in 12ms (ActiveRecord: 2.5ms | Allocations: 4861)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 368)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOM1UxTW5ONE5Hb3lNMkZ6ZVhaMVkyTnRjV2QxZVhwdFp6WTJlUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTA5VDIzOjQ3OjI4LjE2N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--155525ea774fd43788f04034a39af66817aaa2cf/sheep.jpg" for ::1 at 2021-08-10 07:42:28 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 352)


Started GET "/animals?category=1&sponsored=0&name=&commit=Search" for ::1 at 2021-08-10 07:42:36 +0800
Processing by AnimalsController#index as HTML
  Parameters: {"category"=>"1", "sponsored"=>"0", "name"=>"", "commit"=>"Search"}
  [1m[36mCategory Load (1.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/animals_controller.rb:13:in `map'
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.9ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."category_id" = $1 AND "animals"."sponsored" = $2[0m  [["category_id", 1], ["sponsored", false]]
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.4ms | Allocations: 1797)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.4ms | Allocations: 1798)
  Rendered animals/index.html.erb within layouts/application (Duration: 23.8ms | Allocations: 14261)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 5.6ms | Allocations: 1549)
  Rendered layout layouts/application.html.erb (Duration: 40.2ms | Allocations: 23717)
Completed 200 OK in 47ms (Views: 37.3ms | ActiveRecord: 4.8ms | Allocations: 24940)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhiRGt3Wm5scWF6UmtlV1Y1YldKbmJIbzJObWcyY1had2VHOTFjd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NDc6MjguMTYxWiIsInB1ciI6ImJsb2Jfa2V5In19--68229be826b437df5d58ccabad659f76cfc3417d/pig.jpg" for ::1 at 2021-08-10 07:42:36 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlbVUzWlhoeGN6Y3hNRzVoYVhnMWFuWnNkM3ByWnpkaWNUZ3hiQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzo0NjozMC4yODBaIiwicHVyIjoiYmxvYl9rZXkifX0=--a2a51729d4f4c193d014fb046407369ba54b8f3c/profile.jpg" for ::1 at 2021-08-10 07:42:36 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 429)


Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 732)


Started GET "/animals/4" for ::1 at 2021-08-10 07:42:42 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.3ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.4ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:13:in `user_is_animal_sponsor'
  Rendered animals/show.html.erb within layouts/application (Duration: 13.5ms | Allocations: 5195)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 792)
  Rendered layout layouts/application.html.erb (Duration: 24.7ms | Allocations: 13982)
Completed 200 OK in 32ms (Views: 22.8ms | ActiveRecord: 3.1ms | Allocations: 16592)


Started POST "/payments" for ::1 at 2021-08-10 07:42:44 +0800
Processing by PaymentsController#create_payment_intent as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"4"}
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:9:in `create_payment_intent'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:13:in `create_payment_intent'
  Rendering payments/create_payment_intent.js.erb
  Rendered payments/create_payment_intent.js.erb (Duration: 1.0ms | Allocations: 143)
Completed 200 OK in 1011ms (Views: 11.0ms | ActiveRecord: 0.5ms | Allocations: 6875)


Started GET "//payments/success?name=Piggy%20smalls" for ::1 at 2021-08-10 07:43:07 +0800
Processing by PaymentsController#success as HTML
  Parameters: {"name"=>"Piggy smalls"}
  Rendering layout layouts/application.html.erb
  Rendering payments/success.html.erb within layouts/application
  Rendered payments/success.html.erb within layouts/application (Duration: 1.4ms | Allocations: 173)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 4.4ms | Allocations: 1709)
  Rendered layout layouts/application.html.erb (Duration: 22.9ms | Allocations: 10042)
Completed 200 OK in 29ms (Views: 26.4ms | ActiveRecord: 0.3ms | Allocations: 11113)


Started GET "/account" for ::1 at 2021-08-10 07:43:10 +0800
Processing by PagesController#account as HTML
  [1m[36mUser Load (11.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSponsorship Load (0.3ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."sponsor_id" = $1[0m  [["sponsor_id", 2]]
  ↳ app/controllers/pages_controller.rb:24:in `map'
  Rendering layout layouts/application.html.erb
  Rendering pages/account.html.erb within layouts/application
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  Rendered pages/account.html.erb within layouts/application (Duration: 4.9ms | Allocations: 2306)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 764)
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 10956)
Completed 200 OK in 42ms (Views: 15.9ms | ActiveRecord: 12.6ms | Allocations: 13647)


  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (292.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "save_their_bacon_development"[0m
  [1m[35m (63.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "save_their_bacon_test"[0m
  [1m[35m (175.9ms)[0m  [1m[35mCREATE DATABASE "save_their_bacon_development" ENCODING = 'unicode'[0m
  [1m[35m (86.9ms)[0m  [1m[35mCREATE DATABASE "save_their_bacon_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "street_number" character varying, "street_name" character varying, "postcode" character varying, "suburb" character varying, "state_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_state_id" ON "addresses" ("state_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "animals" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "name" character varying, "year_born" integer, "weight" integer, "bio" text, "species" character varying, "sponsored" boolean DEFAULT FALSE NOT NULL, "sponsor_price" integer, "category_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_animals_on_category_id" ON "animals" ("category_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_animals_on_owner_id" ON "animals" ("owner_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "articles" ("id" bigserial primary key, "title" character varying, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "sponsorship_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_chats_on_sponsorship_id" ON "chats" ("sponsorship_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "chat_id" bigint NOT NULL, "sender_id" bigint NOT NULL, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_messages_on_chat_id" ON "messages" ("chat_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_messages_on_sender_id" ON "messages" ("sender_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "sponsorships" CASCADE[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "sponsorships" ("id" bigserial primary key, "receipt" character varying, "animal_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "sponsor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_animal_id" ON "sponsorships" ("animal_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_owner_id" ON "sponsorships" ("owner_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_sponsor_id" ON "sponsorships" ("sponsor_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "states" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "states" ("id" bigserial primary key, "name" character varying, "country_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_states_on_country_id" ON "states" ("country_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "first_name" character varying, "last_name" character varying, "approved" boolean, "role" integer, "date_of_birth" date, "address_id" bigint NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_users_on_address_id" ON "users" ("address_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_2d87b6c11e"
FOREIGN KEY ("state_id")
  REFERENCES "states" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_fe0d97b5eb"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_8d97761a89"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "chats" ADD CONSTRAINT "fk_rails_4d1bd8a917"
FOREIGN KEY ("sponsorship_id")
  REFERENCES "sponsorships" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_ac0a2a4ca2"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_fb21d21baf"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_bf78e760cb"
FOREIGN KEY ("sponsor_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "states" ADD CONSTRAINT "fk_rails_40bd891262"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_eb2fc738e4"
FOREIGN KEY ("address_id")
  REFERENCES "addresses" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210809103829)[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20210726021338),
(20210726031458),
(20210727000917),
(20210727001212),
(20210727001446),
(20210727002353),
(20210727014626),
(20210727014902),
(20210727021825),
(20210728001211),
(20210803015959),
(20210803020258);

[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-08-09 23:43:45.609465"], ["updated_at", "2021-08-09 23:43:45.609465"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "4a28e1dc81aafcce80d6bf5ac6f779ffc2460a65"], ["created_at", "2021-08-09 23:43:45.617804"], ["updated_at", "2021-08-09 23:43:45.617804"]]
  [1m[36mTRANSACTION (41.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "street_number" character varying, "street_name" character varying, "postcode" character varying, "suburb" character varying, "state_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_state_id" ON "addresses" ("state_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "animals" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "name" character varying, "year_born" integer, "weight" integer, "bio" text, "species" character varying, "sponsored" boolean DEFAULT FALSE NOT NULL, "sponsor_price" integer, "category_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_animals_on_category_id" ON "animals" ("category_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_animals_on_owner_id" ON "animals" ("owner_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "articles" ("id" bigserial primary key, "title" character varying, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "sponsorship_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_chats_on_sponsorship_id" ON "chats" ("sponsorship_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "chat_id" bigint NOT NULL, "sender_id" bigint NOT NULL, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_messages_on_chat_id" ON "messages" ("chat_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_messages_on_sender_id" ON "messages" ("sender_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "sponsorships" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "sponsorships" ("id" bigserial primary key, "receipt" character varying, "animal_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "sponsor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_animal_id" ON "sponsorships" ("animal_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_owner_id" ON "sponsorships" ("owner_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_sponsor_id" ON "sponsorships" ("sponsor_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "states" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "states" ("id" bigserial primary key, "name" character varying, "country_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_states_on_country_id" ON "states" ("country_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "first_name" character varying, "last_name" character varying, "approved" boolean, "role" integer, "date_of_birth" date, "address_id" bigint NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_users_on_address_id" ON "users" ("address_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_2d87b6c11e"
FOREIGN KEY ("state_id")
  REFERENCES "states" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_fe0d97b5eb"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_8d97761a89"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "chats" ADD CONSTRAINT "fk_rails_4d1bd8a917"
FOREIGN KEY ("sponsorship_id")
  REFERENCES "sponsorships" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_ac0a2a4ca2"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_fb21d21baf"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_bf78e760cb"
FOREIGN KEY ("sponsor_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "states" ADD CONSTRAINT "fk_rails_40bd891262"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_eb2fc738e4"
FOREIGN KEY ("address_id")
  REFERENCES "addresses" ("id")
[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210809103829)[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20210726021338),
(20210726031458),
(20210727000917),
(20210727001212),
(20210727001446),
(20210727002353),
(20210727014626),
(20210727014902),
(20210727021825),
(20210728001211),
(20210803015959),
(20210803020258);

[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-08-09 23:43:45.893713"], ["updated_at", "2021-08-09 23:43:45.893713"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-08-09 23:43:45.898982"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "4a28e1dc81aafcce80d6bf5ac6f779ffc2460a65"], ["created_at", "2021-08-09 23:43:45.903895"], ["updated_at", "2021-08-09 23:43:45.903895"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Australia"], ["created_at", "2021-08-09 23:43:45.954983"], ["updated_at", "2021-08-09 23:43:45.954983"]]
  [1m[36mTRANSACTION (21.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "states"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Australia"], ["LIMIT", 1]]
  ↳ app/models/state.rb:13:in `check_if_country_exists'
  [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Australia"], ["LIMIT", 1]]
  ↳ app/models/state.rb:13:in `check_if_country_exists'
  [1m[36mState Create (0.6ms)[0m  [1m[32mINSERT INTO "states" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Western australia"], ["country_id", 1], ["created_at", "2021-08-09 23:43:46.003529"], ["updated_at", "2021-08-09 23:43:46.003529"]]
  [1m[36mTRANSACTION (40.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mAddress Create (0.6ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Admin St"], ["postcode", "1234"], ["suburb", "Admington"], ["state_id", 1], ["created_at", "2021-08-09 23:43:46.068380"], ["updated_at", "2021-08-09 23:43:46.068380"]]
  [1m[36mTRANSACTION (40.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mState Load (0.3ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Sponsor St"], ["postcode", "2345"], ["suburb", "Sponsor Lake"], ["state_id", 1], ["created_at", "2021-08-09 23:43:46.116644"], ["updated_at", "2021-08-09 23:43:46.116644"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mState Load (0.1ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Sanctuary St"], ["postcode", "3456"], ["suburb", "Sanctuary Hills"], ["state_id", 1], ["created_at", "2021-08-09 23:43:46.124953"], ["updated_at", "2021-08-09 23:43:46.124953"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "admin@admin.com"], ["encrypted_password", "$2a$12$L3ZLVSqlxMXRvZHIYU2UHOq3aMjBzZUPhwYWzbFvrCvvSQwfQEW36"], ["created_at", "2021-08-09 23:43:46.362351"], ["updated_at", "2021-08-09 23:43:46.362351"], ["first_name", "Admin"], ["last_name", "Admins"], ["approved", true], ["role", 2], ["date_of_birth", "1980-01-01"], ["address_id", 1]]
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sponsor@sponsor.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "sponsor@sponsor.com"], ["encrypted_password", "$2a$12$/ccHy1HSyocmwMHpDtqLuea0uKlPRpDQuqtndgvuMw0aEeyILp8we"], ["created_at", "2021-08-09 23:43:46.595956"], ["updated_at", "2021-08-09 23:43:46.595956"], ["first_name", "Spon"], ["last_name", "Sor"], ["approved", true], ["role", 0], ["date_of_birth", "1980-01-01"], ["address_id", 2]]
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sanctuary@sanctuary.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "sanctuary@sanctuary.com"], ["encrypted_password", "$2a$12$6I7wpb1vOo/ObkGty5vx6OFEkbQsJ92oUqplq5jkW8wrDQ0wMI0su"], ["created_at", "2021-08-09 23:43:46.826737"], ["updated_at", "2021-08-09 23:43:46.826737"], ["first_name", "Sanc"], ["last_name", "Tuary"], ["approved", false], ["role", 1], ["date_of_birth", "1980-01-01"], ["address_id", 2]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (5.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pig"], ["created_at", "2021-08-09 23:43:46.838149"], ["updated_at", "2021-08-09 23:43:46.838149"]]
  [1m[36mTRANSACTION (40.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Cow"], ["created_at", "2021-08-09 23:43:46.887592"], ["updated_at", "2021-08-09 23:43:46.887592"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sheep"], ["created_at", "2021-08-09 23:43:46.894325"], ["updated_at", "2021-08-09 23:43:46.894325"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Chicken"], ["created_at", "2021-08-09 23:43:46.898094"], ["updated_at", "2021-08-09 23:43:46.898094"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Horse"], ["created_at", "2021-08-09 23:43:46.901913"], ["updated_at", "2021-08-09 23:43:46.901913"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Goat"], ["created_at", "2021-08-09 23:43:46.905616"], ["updated_at", "2021-08-09 23:43:46.905616"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Create (0.7ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Ham solo"], ["year_born", 2010], ["weight", 100], ["bio", "Proving pigs can fly"], ["species", "Chonker"], ["sponsor_price", 5000], ["category_id", 1], ["owner_id", 3], ["created_at", "2021-08-09 23:43:46.955014"], ["updated_at", "2021-08-09 23:43:46.955014"]]
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "s30zuflfof3ch72xhicxaqkoax2k"], ["filename", "pig.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 63070], ["checksum", "90VAk/JgiPplQ/k0FbH5og=="], ["created_at", "2021-08-09 23:43:46.981894"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 1], ["blob_id", 1], ["created_at", "2021-08-09 23:43:46.984325"]]
  [1m[36mAnimal Update (0.4ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 23:43:46.986446"], ["id", 1]]
  [1m[36mTRANSACTION (21.9ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (2.0ms) [0m[32mUploaded file to key: s30zuflfof3ch72xhicxaqkoax2k (checksum: 90VAk/JgiPplQ/k0FbH5og==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a942ad4b-9324-4133-b43e-93db86a8476f) to Async(default) with arguments: #<GlobalID:0x00007fa948367038 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/1>>
  [1m[36mCategory Load (2.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Create (0.5ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Vladimir mootin"], ["year_born", 2015], ["weight", 120], ["bio", "Theres a MosCOW joke there somewhere"], ["species", "President"], ["sponsor_price", 6000], ["category_id", 2], ["owner_id", 3], ["created_at", "2021-08-09 23:43:47.026288"], ["updated_at", "2021-08-09 23:43:47.026288"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "4hrbdaelozh8ulflqozha64aqvln"], ["filename", "cow.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 85749], ["checksum", "Yugf1sJBNAnlVPyCdAy9SA=="], ["created_at", "2021-08-09 23:43:47.034967"]]
  [1m[36mActiveStorage::Attachment Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 2], ["blob_id", 2], ["created_at", "2021-08-09 23:43:47.037039"]]
  [1m[36mAnimal Update (0.5ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 23:43:47.039336"], ["id", 2]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a942ad4b-9324-4133-b43e-93db86a8476f] Performing ActiveStorage::AnalyzeJob (Job ID: a942ad4b-9324-4133-b43e-93db86a8476f) from Async(default) enqueued at 2021-08-09T23:43:47Z with arguments: #<GlobalID:0x00007fa9435c5c58 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [a942ad4b-9324-4133-b43e-93db86a8476f] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: s30zuflfof3ch72xhicxaqkoax2k[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a942ad4b-9324-4133-b43e-93db86a8476f] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [a942ad4b-9324-4133-b43e-93db86a8476f]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a942ad4b-9324-4133-b43e-93db86a8476f]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (40.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a942ad4b-9324-4133-b43e-93db86a8476f]   [1m[36mTRANSACTION (21.8ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a942ad4b-9324-4133-b43e-93db86a8476f] Performed ActiveStorage::AnalyzeJob (Job ID: a942ad4b-9324-4133-b43e-93db86a8476f) from Async(default) in 40.61ms
[36m  Disk Storage (2.1ms) [0m[32mUploaded file to key: 4hrbdaelozh8ulflqozha64aqvln (checksum: Yugf1sJBNAnlVPyCdAy9SA==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 4ea7af64-8a51-429a-ab54-3a2f7548928c) to Async(default) with arguments: #<GlobalID:0x00007fa9484f9a40 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/2>>
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4ea7af64-8a51-429a-ab54-3a2f7548928c] Performing ActiveStorage::AnalyzeJob (Job ID: 4ea7af64-8a51-429a-ab54-3a2f7548928c) from Async(default) enqueued at 2021-08-09T23:43:47Z with arguments: #<GlobalID:0x00007fa9485af548 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/2>>
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4ea7af64-8a51-429a-ab54-3a2f7548928c] [36m  Disk Storage (1.1ms) [0m[34mDownloaded file from key: 4hrbdaelozh8ulflqozha64aqvln[0m
  [1m[36mAnimal Create (2.9ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Meryl sheep"], ["year_born", 2008], ["weight", 80], ["bio", "A Farmous Actress"], ["species", "Floofer"], ["sponsor_price", 10000], ["category_id", 3], ["owner_id", 3], ["created_at", "2021-08-09 23:43:47.092526"], ["updated_at", "2021-08-09 23:43:47.092526"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4ea7af64-8a51-429a-ab54-3a2f7548928c] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [4ea7af64-8a51-429a-ab54-3a2f7548928c]   [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4ea7af64-8a51-429a-ab54-3a2f7548928c]   [1m[36mActiveStorage::Blob Update (1.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
  [1m[36mActiveStorage::Attachment Load (1.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "s76hup6aqbvlhh0iwtx2v60t2pn6"], ["filename", "sheep.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 99269], ["checksum", "M/Dwzj+u/kr3gCzmCGfSeg=="], ["created_at", "2021-08-09 23:43:47.104561"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 3], ["blob_id", 3], ["created_at", "2021-08-09 23:43:47.106469"]]
  [1m[36mAnimal Update (0.4ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 23:43:47.108059"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4ea7af64-8a51-429a-ab54-3a2f7548928c]   [1m[36mTRANSACTION (40.8ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4ea7af64-8a51-429a-ab54-3a2f7548928c] Performed ActiveStorage::AnalyzeJob (Job ID: 4ea7af64-8a51-429a-ab54-3a2f7548928c) from Async(default) in 54.09ms
  [1m[36mTRANSACTION (36.3ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (1.6ms) [0m[32mUploaded file to key: s76hup6aqbvlhh0iwtx2v60t2pn6 (checksum: M/Dwzj+u/kr3gCzmCGfSeg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 57d36d4e-f8b3-43ad-a806-17e952aa2951) to Async(default) with arguments: #<GlobalID:0x00007fa948740538 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/3>>
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles"[0m
  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [57d36d4e-f8b3-43ad-a806-17e952aa2951] Performing ActiveStorage::AnalyzeJob (Job ID: 57d36d4e-f8b3-43ad-a806-17e952aa2951) from Async(default) enqueued at 2021-08-09T23:43:47Z with arguments: #<GlobalID:0x00007fa9487717c8 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/3>>
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [57d36d4e-f8b3-43ad-a806-17e952aa2951] [36m  Disk Storage (1.1ms) [0m[34mDownloaded file from key: s76hup6aqbvlhh0iwtx2v60t2pn6[0m
  [1m[36mArticle Create (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Article 1"], ["body", "This is the article"], ["created_at", "2021-08-09 23:43:47.159937"], ["updated_at", "2021-08-09 23:43:47.159937"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [57d36d4e-f8b3-43ad-a806-17e952aa2951] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [57d36d4e-f8b3-43ad-a806-17e952aa2951]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [57d36d4e-f8b3-43ad-a806-17e952aa2951]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
  [1m[36mTRANSACTION (40.8ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [57d36d4e-f8b3-43ad-a806-17e952aa2951]   [1m[36mTRANSACTION (31.8ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [57d36d4e-f8b3-43ad-a806-17e952aa2951] Performed ActiveStorage::AnalyzeJob (Job ID: 57d36d4e-f8b3-43ad-a806-17e952aa2951) from Async(default) in 50.54ms
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArticle Create (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Article 2"], ["body", "This is the article"], ["created_at", "2021-08-09 23:43:47.205558"], ["updated_at", "2021-08-09 23:43:47.205558"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArticle Create (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Website Updates"], ["body", "I did a thing to the website"], ["created_at", "2021-08-09 23:43:47.211181"], ["updated_at", "2021-08-09 23:43:47.211181"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2021-08-10 07:44:20 +0800
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 685)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 5.2ms | Allocations: 1437)
  Rendered layout layouts/application.html.erb (Duration: 124.4ms | Allocations: 21869)
Completed 200 OK in 228ms (Views: 131.5ms | ActiveRecord: 62.5ms | Allocations: 35412)


Started GET "/users/sign_in" for ::1 at 2021-08-10 07:44:22 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.6ms | Allocations: 497)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 21.2ms | Allocations: 5088)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.4ms | Allocations: 877)
  Rendered layout layouts/application.html.erb (Duration: 37.4ms | Allocations: 14128)
Completed 200 OK in 42ms (Views: 40.1ms | ActiveRecord: 0.0ms | Allocations: 16555)


Started POST "/users/sign_in" for ::1 at 2021-08-10 07:44:26 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 248ms (ActiveRecord: 0.3ms | Allocations: 5181)


Started GET "/" for ::1 at 2021-08-10 07:44:26 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1226)


Started GET "/home" for ::1 at 2021-08-10 07:44:26 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 58.1ms | Allocations: 20067)
  Rendered pages/home.html.erb within layouts/application (Duration: 61.7ms | Allocations: 21016)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.5ms | Allocations: 867)
  Rendered layout layouts/application.html.erb (Duration: 77.4ms | Allocations: 30187)
Completed 200 OK in 121ms (Views: 68.8ms | ActiveRecord: 16.1ms | Allocations: 45375)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19/cow.jpg" for ::1 at 2021-08-10 07:44:27 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19", "filename"=>"cow"}
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (1.8ms) [0m[34mGenerated URL for file at key: 4hrbdaelozh8ulflqozha64aqvln (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOR2h5WW1SaFpXeHZlbWc0ZFd4bWJIRnZlbWhoTmpSaGNYWnNiZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NDk6MjcuMDU2WiIsInB1ciI6ImJsb2Jfa2V5In19--394072aa2718bfb545b6a801b2dcbc6ce984b6de/cow.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOR2h5WW1SaFpXeHZlbWc0ZFd4bWJIRnZlbWhoTmpSaGNYWnNiZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NDk6MjcuMDU2WiIsInB1ciI6ImJsb2Jfa2V5In19--394072aa2718bfb545b6a801b2dcbc6ce984b6de/cow.jpg
Completed 302 Found in 7ms (ActiveRecord: 0.4ms | Allocations: 2395)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOR2h5WW1SaFpXeHZlbWc0ZFd4bWJIRnZlbWhoTmpSaGNYWnNiZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NDk6MjcuMDU2WiIsInB1ciI6ImJsb2Jfa2V5In19--394072aa2718bfb545b6a801b2dcbc6ce984b6de/cow.jpg" for ::1 at 2021-08-10 07:44:27 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 200 OK in 4ms (ActiveRecord: 0.0ms | Allocations: 548)


Started GET "/admin-dashboard" for ::1 at 2021-08-10 07:44:31 +0800
Processing by PagesController#admin as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pages/admin.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", false]]
  ↳ app/views/pages/admin.html.erb:9
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", true]]
  ↳ app/views/pages/admin.html.erb:23
  Rendered pages/admin.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1786)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 827)
  Rendered layout layouts/application.html.erb (Duration: 17.8ms | Allocations: 10899)
Completed 200 OK in 25ms (Views: 18.1ms | ActiveRecord: 0.7ms | Allocations: 12906)


Started POST "/admin-approve/3" for ::1 at 2021-08-10 07:44:32 +0800
Processing by PagesController#admin_approve_user as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:60:in `get_user'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/pages_controller.rb:40:in `admin_approve_user'
  [1m[36mAddress Load (0.9ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:40:in `admin_approve_user'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "approved" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2021-08-09 23:44:32.663365"], ["approved", true], ["id", 3]]
  ↳ app/controllers/pages_controller.rb:40:in `admin_approve_user'
  [1m[36mTRANSACTION (40.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/pages_controller.rb:40:in `admin_approve_user'
Redirected to http://localhost:3000/admin-dashboard
Completed 302 Found in 116ms (ActiveRecord: 45.4ms | Allocations: 11814)


Started GET "/admin-dashboard" for ::1 at 2021-08-10 07:44:32 +0800
Processing by PagesController#admin as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pages/admin.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", false]]
  ↳ app/views/pages/admin.html.erb:9
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", true]]
  ↳ app/views/pages/admin.html.erb:23
  Rendered pages/admin.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1325)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 822)
  Rendered layout layouts/application.html.erb (Duration: 22.3ms | Allocations: 10430)
Completed 200 OK in 42ms (Views: 22.5ms | ActiveRecord: 0.9ms | Allocations: 12178)


Started DELETE "/users/sign_out" for ::1 at 2021-08-10 07:44:34 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 0.1ms | Allocations: 2419)


Started GET "/" for ::1 at 2021-08-10 07:44:34 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 145)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.4ms | Allocations: 804)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 8789)
Completed 200 OK in 15ms (Views: 13.8ms | ActiveRecord: 0.0ms | Allocations: 9481)


Started GET "/users/sign_in" for ::1 at 2021-08-10 07:44:37 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 68)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.4ms | Allocations: 806)
  Rendered layout layouts/application.html.erb (Duration: 26.4ms | Allocations: 9727)
Completed 200 OK in 29ms (Views: 27.4ms | ActiveRecord: 0.0ms | Allocations: 10498)


Started POST "/users/sign_in" for ::1 at 2021-08-10 07:44:42 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"sanctuary@sanctuary.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "sanctuary@sanctuary.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 231ms (ActiveRecord: 0.4ms | Allocations: 2498)


Started GET "/" for ::1 at 2021-08-10 07:44:42 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1034)


Started GET "/home" for ::1 at 2021-08-10 07:44:42 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.7ms | Allocations: 1842)
  Rendered pages/home.html.erb within layouts/application (Duration: 6.0ms | Allocations: 2127)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 791)
  Rendered layout layouts/application.html.erb (Duration: 24.3ms | Allocations: 11074)
Completed 200 OK in 31ms (Views: 24.4ms | ActiveRecord: 1.4ms | Allocations: 14126)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOR2h5WW1SaFpXeHZlbWc0ZFd4bWJIRnZlbWhoTmpSaGNYWnNiZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NDk6MjcuMDU2WiIsInB1ciI6ImJsb2Jfa2V5In19--394072aa2718bfb545b6a801b2dcbc6ce984b6de/cow.jpg" for ::1 at 2021-08-10 07:44:42 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 379)


Started GET "/animals/new" for ::1 at 2021-08-10 07:44:45 +0800
Processing by AnimalsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering animals/new.html.erb within layouts/application
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/_form.html.erb:46:in `map'
  Rendered animals/_form.html.erb (Duration: 16.8ms | Allocations: 6065)
  Rendered animals/new.html.erb within layouts/application (Duration: 18.4ms | Allocations: 6501)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.7ms | Allocations: 817)
  Rendered layout layouts/application.html.erb (Duration: 35.0ms | Allocations: 15554)
Completed 200 OK in 45ms (Views: 35.6ms | ActiveRecord: 3.2ms | Allocations: 19180)


Started POST "/animals" for ::1 at 2021-08-10 07:45:09 +0800
Processing by AnimalsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "animal"=>{"name"=>"Piggy smalls", "year_born"=>"2000", "weight"=>"100", "bio"=>"the notorious p.i.g", "species"=>"pink", "sponsor_price"=>"59.99", "category_id"=>"1", "profile_picture"=>#<ActionDispatch::Http::UploadedFile:0x00007fc0ce31bc30 @tempfile=#<Tempfile:/var/folders/g1/w_b947c941n8tclr4gvh68d00000gn/T/RackMultipart20210810-38094-9yo7ze.jpg>, @original_filename="profile.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"animal[profile_picture]\"; filename=\"profile.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Animal"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:51:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mAnimal Create (42.6ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Piggy smalls"], ["year_born", 2000], ["weight", 100], ["bio", "the notorious p.i.g"], ["species", "pink"], ["sponsor_price", 5999], ["category_id", 1], ["owner_id", 3], ["created_at", "2021-08-09 23:45:09.633371"], ["updated_at", "2021-08-09 23:45:09.633371"]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "wg11ho0qvri0eh4fs1k12uti8k3a"], ["filename", "profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 32456], ["checksum", "GszSpFm2V+JMbdlYIA9Y4g=="], ["created_at", "2021-08-09 23:45:09.701727"]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 4], ["blob_id", 4], ["created_at", "2021-08-09 23:45:09.703849"]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mAnimal Update (0.4ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 23:45:09.706007"], ["id", 4]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mTRANSACTION (37.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
[36m  Disk Storage (3.0ms) [0m[32mUploaded file to key: wg11ho0qvri0eh4fs1k12uti8k3a (checksum: GszSpFm2V+JMbdlYIA9Y4g==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ebd189a9-b5a2-40bc-beca-2ceb22603843) to Async(default) with arguments: #<GlobalID:0x00007fc0caf090c8 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/4>>
Redirected to http://localhost:3000/animals/4
Completed 302 Found in 138ms (ActiveRecord: 83.2ms | Allocations: 17710)


Started GET "/animals/4" for ::1 at 2021-08-10 07:45:09 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.4ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mSponsorship Load (0.5ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:81
  Rendered animals/show.html.erb within layouts/application (Duration: 44.2ms | Allocations: 20258)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.0ms | Allocations: 820)
  Rendered layout layouts/application.html.erb (Duration: 57.8ms | Allocations: 29357)
Completed 200 OK in 70ms (Views: 50.6ms | ActiveRecord: 8.6ms | Allocations: 33126)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlbVUzWlhoeGN6Y3hNRzVoYVhnMWFuWnNkM3ByWnpkaWNUZ3hiQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzo0NjozMC4yODBaIiwicHVyIjoiYmxvYl9rZXkifX0=--a2a51729d4f4c193d014fb046407369ba54b8f3c/profile.jpg" for ::1 at 2021-08-10 07:45:09 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  [1m[36mActiveStorage::Blob Load (4.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [ebd189a9-b5a2-40bc-beca-2ceb22603843] Performing ActiveStorage::AnalyzeJob (Job ID: ebd189a9-b5a2-40bc-beca-2ceb22603843) from Async(default) enqueued at 2021-08-09T23:45:09Z with arguments: #<GlobalID:0x00007fc0d0d809f8 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/4>>
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 468)


[ActiveJob] [ActiveStorage::AnalyzeJob] [ebd189a9-b5a2-40bc-beca-2ceb22603843] [36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: wg11ho0qvri0eh4fs1k12uti8k3a[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ebd189a9-b5a2-40bc-beca-2ceb22603843] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [ebd189a9-b5a2-40bc-beca-2ceb22603843]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ebd189a9-b5a2-40bc-beca-2ceb22603843]   [1m[36mActiveStorage::Blob Update (0.8ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 4]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ebd189a9-b5a2-40bc-beca-2ceb22603843]   [1m[36mTRANSACTION (42.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ebd189a9-b5a2-40bc-beca-2ceb22603843] Performed ActiveStorage::AnalyzeJob (Job ID: ebd189a9-b5a2-40bc-beca-2ceb22603843) from Async(default) in 66.36ms
Started DELETE "/users/sign_out" for ::1 at 2021-08-10 07:45:11 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.7ms | Allocations: 2004)


Started GET "/" for ::1 at 2021-08-10 07:45:11 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 131)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.9ms | Allocations: 787)
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | Allocations: 8763)
Completed 200 OK in 18ms (Views: 17.2ms | ActiveRecord: 0.0ms | Allocations: 9391)


Started GET "/users/sign_in" for ::1 at 2021-08-10 07:45:12 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 68)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 936)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 809)
  Rendered layout layouts/application.html.erb (Duration: 18.1ms | Allocations: 9758)
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.0ms | Allocations: 10503)


Started POST "/users/sign_in" for ::1 at 2021-08-10 07:45:17 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"sponsor@sponsor.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "sponsor@sponsor.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 230ms (ActiveRecord: 0.5ms | Allocations: 2359)


Started GET "/" for ::1 at 2021-08-10 07:45:17 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.3ms | Allocations: 1025)


Started GET "/home" for ::1 at 2021-08-10 07:45:17 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.5ms | Allocations: 1813)
  Rendered pages/home.html.erb within layouts/application (Duration: 5.1ms | Allocations: 2098)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 792)
  Rendered layout layouts/application.html.erb (Duration: 17.9ms | Allocations: 11107)
Completed 200 OK in 35ms (Views: 17.6ms | ActiveRecord: 2.1ms | Allocations: 14154)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOR2h5WW1SaFpXeHZlbWc0ZFd4bWJIRnZlbWhoTmpSaGNYWnNiZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NDk6MjcuMDU2WiIsInB1ciI6ImJsb2Jfa2V5In19--394072aa2718bfb545b6a801b2dcbc6ce984b6de/cow.jpg" for ::1 at 2021-08-10 07:45:17 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 367)


Started GET "/animals" for ::1 at 2021-08-10 07:45:23 +0800
Processing by AnimalsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.6ms | Allocations: 1942)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.7ms | Allocations: 1799)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.5ms | Allocations: 1788)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.6ms | Allocations: 1788)
  Rendered animals/index.html.erb within layouts/application (Duration: 26.2ms | Allocations: 19092)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 2.8ms | Allocations: 1561)
  Rendered layout layouts/application.html.erb (Duration: 39.5ms | Allocations: 28919)
Completed 200 OK in 43ms (Views: 37.5ms | ActiveRecord: 2.9ms | Allocations: 29662)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlbVUzWlhoeGN6Y3hNRzVoYVhnMWFuWnNkM3ByWnpkaWNUZ3hiQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzo0NjozMC4yODBaIiwicHVyIjoiYmxvYl9rZXkifX0=--a2a51729d4f4c193d014fb046407369ba54b8f3c/profile.jpg" for ::1 at 2021-08-10 07:45:23 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhiRGt3Wm5scWF6UmtlV1Y1YldKbmJIbzJObWcyY1had2VHOTFjd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NDc6MjguMTYxWiIsInB1ciI6ImJsb2Jfa2V5In19--68229be826b437df5d58ccabad659f76cfc3417d/pig.jpg" for ::1 at 2021-08-10 07:45:23 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOM1UxTW5ONE5Hb3lNMkZ6ZVhaMVkyTnRjV2QxZVhwdFp6WTJlUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTA5VDIzOjQ3OjI4LjE2N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--155525ea774fd43788f04034a39af66817aaa2cf/sheep.jpg" for ::1 at 2021-08-10 07:45:23 +0800
Processing by ActiveStorage::DiskController#show as JPEG
Processing by ActiveStorage::DiskController#show as JPEG
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 304 Not Modified in 0ms (ActiveRecord: 0.0ms | Allocations: 360)


Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 426)


Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 674)


Started GET "/animals/4" for ::1 at 2021-08-10 07:45:25 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.6ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.4ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:13:in `user_is_animal_sponsor'
  Rendered animals/show.html.erb within layouts/application (Duration: 14.4ms | Allocations: 5202)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 792)
  Rendered layout layouts/application.html.erb (Duration: 26.8ms | Allocations: 14127)
Completed 200 OK in 36ms (Views: 25.2ms | ActiveRecord: 3.1ms | Allocations: 16761)


Started POST "/payments" for ::1 at 2021-08-10 07:45:26 +0800
Processing by PaymentsController#create_payment_intent as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"4"}
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:9:in `create_payment_intent'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:13:in `create_payment_intent'
  Rendering payments/create_payment_intent.js.erb
  Rendered payments/create_payment_intent.js.erb (Duration: 6.0ms | Allocations: 143)
Completed 200 OK in 903ms (Views: 12.0ms | ActiveRecord: 0.8ms | Allocations: 6876)


Started POST "/payments/webhook" for ::1 at 2021-08-10 07:45:39 +0800
Processing by PaymentsController#webhook as XML
  Parameters: {"id"=>"evt_1JMiA2IeFWwPeKyVZv9dYak1", "object"=>"event", "api_version"=>"2020-08-27", "created"=>1628552738, "data"=>{"object"=>{"id"=>"cs_test_a1u5m2zruLMlNxg2J0LBx0g6Dx3kG15ArtfGtKd1e5kxCNP5vgEqc1ErO3", "object"=>"checkout.session", "allow_promotion_codes"=>nil, "amount_subtotal"=>5999, "amount_total"=>5999, "automatic_tax"=>{"enabled"=>false, "status"=>nil}, "billing_address_collection"=>nil, "cancel_url"=>"http://localhost:3000//animals", "client_reference_id"=>nil, "currency"=>"aud", "customer"=>"cus_K0jdyJFLMJ4MV1", "customer_details"=>{"email"=>"sponsor@sponsor.com", "tax_exempt"=>"none", "tax_ids"=>[]}, "customer_email"=>"sponsor@sponsor.com", "livemode"=>false, "locale"=>nil, "metadata"=>{}, "mode"=>"payment", "payment_intent"=>"pi_3JMi9rIeFWwPeKyV1G4anBpX", "payment_method_options"=>{}, "payment_method_types"=>["card"], "payment_status"=>"paid", "setup_intent"=>nil, "shipping"=>nil, "shipping_address_collection"=>nil, "submit_type"=>nil, "subscription"=>nil, "success_url"=>"http://localhost:3000//payments/success?name=Piggy smalls", "total_details"=>{"amount_discount"=>0, "amount_shipping"=>0, "amount_tax"=>0}, "url"=>nil}}, "livemode"=>false, "pending_webhooks"=>1, "request"=>{"id"=>nil, "idempotency_key"=>"[FILTERED]"}, "type"=>"checkout.session.completed", "payment"=>{"id"=>"evt_1JMiA2IeFWwPeKyVZv9dYak1", "object"=>"event", "api_version"=>"2020-08-27", "created"=>1628552738, "data"=>{"object"=>{"id"=>"cs_test_a1u5m2zruLMlNxg2J0LBx0g6Dx3kG15ArtfGtKd1e5kxCNP5vgEqc1ErO3", "object"=>"checkout.session", "allow_promotion_codes"=>nil, "amount_subtotal"=>5999, "amount_total"=>5999, "automatic_tax"=>{"enabled"=>false, "status"=>nil}, "billing_address_collection"=>nil, "cancel_url"=>"http://localhost:3000//animals", "client_reference_id"=>nil, "currency"=>"aud", "customer"=>"cus_K0jdyJFLMJ4MV1", "customer_details"=>{"email"=>"sponsor@sponsor.com", "tax_exempt"=>"none", "tax_ids"=>[]}, "customer_email"=>"sponsor@sponsor.com", "livemode"=>false, "locale"=>nil, "metadata"=>{}, "mode"=>"payment", "payment_intent"=>"pi_3JMi9rIeFWwPeKyV1G4anBpX", "payment_method_options"=>{}, "payment_method_types"=>["card"], "payment_status"=>"paid", "setup_intent"=>nil, "shipping"=>nil, "shipping_address_collection"=>nil, "submit_type"=>nil, "subscription"=>nil, "success_url"=>"http://localhost:3000//payments/success?name=Piggy smalls", "total_details"=>{"amount_discount"=>0, "amount_shipping"=>0, "amount_tax"=>0}, "url"=>nil}}, "livemode"=>false, "pending_webhooks"=>1, "request"=>{"id"=>nil, "idempotency_key"=>"[FILTERED]"}, "type"=>"checkout.session.completed"}}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:39:in `webhook'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:40:in `webhook'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:40:in `webhook'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:40:in `webhook'
  [1m[36mAnimal Update (0.6ms)[0m  [1m[33mUPDATE "animals" SET "sponsored" = $1, "updated_at" = $2 WHERE "animals"."id" = $3[0m  [["sponsored", true], ["updated_at", "2021-08-09 23:45:40.237847"], ["id", 4]]
  ↳ app/controllers/payments_controller.rb:40:in `webhook'
  [1m[36mTRANSACTION (7.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:40:in `webhook'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mSponsorship Create (3.4ms)[0m  [1m[32mINSERT INTO "sponsorships" ("receipt", "animal_id", "owner_id", "sponsor_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["receipt", "https://pay.stripe.com/receipts/acct_1JKEzmIeFWwPeKyV/ch_3JMi9rIeFWwPeKyV1ISOHrLD/rcpt_K0jdVY0hIQaTF2ToIjvWAFYnyHbamIq"], ["animal_id", 4], ["owner_id", 3], ["sponsor_id", 2], ["created_at", "2021-08-09 23:45:40.267200"], ["updated_at", "2021-08-09 23:45:40.267200"]]
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:42:in `webhook'
  [1m[36mSponsorship Load (0.2ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:42:in `webhook'
  [1m[36mChat Create (46.2ms)[0m  [1m[32mINSERT INTO "chats" ("sponsorship_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["sponsorship_id", 1], ["created_at", "2021-08-09 23:45:40.295319"], ["updated_at", "2021-08-09 23:45:40.295319"]]
  ↳ app/controllers/payments_controller.rb:42:in `webhook'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:42:in `webhook'
No template found for PaymentsController#webhook, rendering head :no_content
Completed 204 No Content in 827ms (ActiveRecord: 66.4ms | Allocations: 29209)


Started GET "//payments/success?name=Piggy%20smalls" for ::1 at 2021-08-10 07:45:40 +0800
Processing by PaymentsController#success as HTML
  Parameters: {"name"=>"Piggy smalls"}
  Rendering layout layouts/application.html.erb
  Rendering payments/success.html.erb within layouts/application
  Rendered payments/success.html.erb within layouts/application (Duration: 0.9ms | Allocations: 204)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 3.6ms | Allocations: 1599)
  Rendered layout layouts/application.html.erb (Duration: 22.5ms | Allocations: 10163)
Completed 200 OK in 28ms (Views: 25.7ms | ActiveRecord: 0.1ms | Allocations: 11242)


Started GET "/account" for ::1 at 2021-08-10 07:45:42 +0800
Processing by PagesController#account as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSponsorship Load (0.5ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."sponsor_id" = $1[0m  [["sponsor_id", 2]]
  ↳ app/controllers/pages_controller.rb:24:in `map'
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:24:in `block in account'
  Rendering layout layouts/application.html.erb
  Rendering pages/account.html.erb within layouts/application
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.2ms | Allocations: 1828)
  Rendered pages/account.html.erb within layouts/application (Duration: 10.8ms | Allocations: 4223)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 799)
  Rendered layout layouts/application.html.erb (Duration: 22.6ms | Allocations: 13232)
Completed 200 OK in 30ms (Views: 21.6ms | ActiveRecord: 2.4ms | Allocations: 16099)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlbVUzWlhoeGN6Y3hNRzVoYVhnMWFuWnNkM3ByWnpkaWNUZ3hiQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzo0NjozMC4yODBaIiwicHVyIjoiYmxvYl9rZXkifX0=--a2a51729d4f4c193d014fb046407369ba54b8f3c/profile.jpg" for ::1 at 2021-08-10 07:45:42 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 3ms (ActiveRecord: 0.0ms | Allocations: 374)


Started GET "/animals/4" for ::1 at 2021-08-10 07:45:44 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (2.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.3ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (1.3ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  Rendered animals/show.html.erb within layouts/application (Duration: 53.4ms | Allocations: 11618)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.4ms | Allocations: 812)
  Rendered layout layouts/application.html.erb (Duration: 74.3ms | Allocations: 20622)
Completed 200 OK in 84ms (Views: 68.1ms | ActiveRecord: 9.8ms | Allocations: 23235)


Started POST "/animals/new_message/4" for ::1 at 2021-08-10 07:46:41 +0800
Processing by AnimalsController#new_message as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>"hi pls send pig pics", "commit"=>"Send Message", "id"=>"4"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mSponsorship Load (0.3ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mMessage Create (1.3ms)[0m  [1m[32mINSERT INTO "messages" ("chat_id", "sender_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["chat_id", 1], ["sender_id", 2], ["body", "hi pls send pig pics"], ["created_at", "2021-08-09 23:46:41.689138"], ["updated_at", "2021-08-09 23:46:41.689138"]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
Redirected to http://localhost:3000/animals/4
Completed 302 Found in 38ms (ActiveRecord: 10.3ms | Allocations: 11674)


Started GET "/animals/4" for ::1 at 2021-08-10 07:46:41 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.3ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.4ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.5ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 26.8ms | Allocations: 9798)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 0.9ms | Allocations: 792)
  Rendered layout layouts/application.html.erb (Duration: 41.3ms | Allocations: 18688)
Completed 200 OK in 49ms (Views: 39.0ms | ActiveRecord: 3.8ms | Allocations: 21295)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--f29baae4a4fcf412c037bc80af8a2603fdd7304d/profile.jpg" for ::1 at 2021-08-10 07:46:41 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--f29baae4a4fcf412c037bc80af8a2603fdd7304d", "filename"=>"profile"}
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[36m  Disk Storage (1.1ms) [0m[34mGenerated URL for file at key: wg11ho0qvri0eh4fs1k12uti8k3a (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkMmN4TVdodk1IRjJjbWt3WldnMFpuTXhhekV5ZFhScE9Hc3pZUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzo1MTo0MS44MTNaIiwicHVyIjoiYmxvYl9rZXkifX0=--8eb6f0f5cc48c374ee1393a28ac2b33921d0aecc/profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkMmN4TVdodk1IRjJjbWt3WldnMFpuTXhhekV5ZFhScE9Hc3pZUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzo1MTo0MS44MTNaIiwicHVyIjoiYmxvYl9rZXkifX0=--8eb6f0f5cc48c374ee1393a28ac2b33921d0aecc/profile.jpg
Completed 302 Found in 6ms (ActiveRecord: 0.1ms | Allocations: 1503)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkMmN4TVdodk1IRjJjbWt3WldnMFpuTXhhekV5ZFhScE9Hc3pZUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzo1MTo0MS44MTNaIiwicHVyIjoiYmxvYl9rZXkifX0=--8eb6f0f5cc48c374ee1393a28ac2b33921d0aecc/profile.jpg" for ::1 at 2021-08-10 07:46:41 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 371)


Started DELETE "/users/sign_out" for ::1 at 2021-08-10 07:46:47 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms | Allocations: 1897)


Started GET "/" for ::1 at 2021-08-10 07:46:47 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.2ms | Allocations: 125)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 790)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | Allocations: 8759)
Completed 200 OK in 15ms (Views: 14.3ms | ActiveRecord: 0.0ms | Allocations: 9361)


Started GET "/users/sign_in" for ::1 at 2021-08-10 07:46:49 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 68)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 919)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 16.1ms | Allocations: 806)
  Rendered layout layouts/application.html.erb (Duration: 45.9ms | Allocations: 9809)
Completed 200 OK in 48ms (Views: 46.6ms | ActiveRecord: 0.0ms | Allocations: 10551)


Started POST "/users/sign_in" for ::1 at 2021-08-10 07:46:56 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"sanctuary@sanctuary.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "sanctuary@sanctuary.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 245ms (ActiveRecord: 0.5ms | Allocations: 1490)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"sanctuary@sanctuary.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | Allocations: 68)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 894)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.5ms | Allocations: 723)
  Rendered layout layouts/application.html.erb (Duration: 17.3ms | Allocations: 9711)
Completed 200 OK in 241ms (Views: 18.0ms | ActiveRecord: 0.0ms | Allocations: 10395)


Started POST "/users/sign_in" for ::1 at 2021-08-10 07:47:00 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"sanctuary@sanctuary.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "sanctuary@sanctuary.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 228ms (ActiveRecord: 0.2ms | Allocations: 2331)


Started GET "/" for ::1 at 2021-08-10 07:47:00 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 1037)


Started GET "/home" for ::1 at 2021-08-10 07:47:00 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.0ms | Allocations: 1788)
  Rendered pages/home.html.erb within layouts/application (Duration: 4.7ms | Allocations: 2069)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 791)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 10876)
Completed 200 OK in 22ms (Views: 16.1ms | ActiveRecord: 1.3ms | Allocations: 13901)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOR2h5WW1SaFpXeHZlbWc0ZFd4bWJIRnZlbWhoTmpSaGNYWnNiZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NDk6MjcuMDU2WiIsInB1ciI6ImJsb2Jfa2V5In19--394072aa2718bfb545b6a801b2dcbc6ce984b6de/cow.jpg" for ::1 at 2021-08-10 07:47:00 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 36ms (ActiveRecord: 0.0ms | Allocations: 351)


Started GET "/account" for ::1 at 2021-08-10 07:47:02 +0800
Processing by PagesController#account as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pages/account.html.erb within layouts/application
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.6ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."owner_id" = $1[0m  [["owner_id", 3]]
  ↳ app/views/pages/account.html.erb:21
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.9ms | Allocations: 1793)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.2ms | Allocations: 1798)
  [1m[36mActiveStorage::Attachment Load (1.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 7.1ms | Allocations: 1788)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.4ms | Allocations: 1788)
  Rendered pages/account.html.erb within layouts/application (Duration: 30.7ms | Allocations: 10063)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 791)
  Rendered layout layouts/application.html.erb (Duration: 61.0ms | Allocations: 19061)
Completed 200 OK in 66ms (Views: 56.7ms | ActiveRecord: 5.1ms | Allocations: 20656)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOM1UxTW5ONE5Hb3lNMkZ6ZVhaMVkyTnRjV2QxZVhwdFp6WTJlUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTA5VDIzOjQ3OjI4LjE2N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--155525ea774fd43788f04034a39af66817aaa2cf/sheep.jpg" for ::1 at 2021-08-10 07:47:02 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkMmN4TVdodk1IRjJjbWt3WldnMFpuTXhhekV5ZFhScE9Hc3pZUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzo1MTo0MS44MTNaIiwicHVyIjoiYmxvYl9rZXkifX0=--8eb6f0f5cc48c374ee1393a28ac2b33921d0aecc/profile.jpg" for ::1 at 2021-08-10 07:47:02 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhiRGt3Wm5scWF6UmtlV1Y1YldKbmJIbzJObWcyY1had2VHOTFjd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NDc6MjguMTYxWiIsInB1ciI6ImJsb2Jfa2V5In19--68229be826b437df5d58ccabad659f76cfc3417d/pig.jpg" for ::1 at 2021-08-10 07:47:02 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 347)


Processing by ActiveStorage::DiskController#show as JPEG
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 737)


  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 304 Not Modified in 3ms (ActiveRecord: 0.0ms | Allocations: 347)


Started GET "/animals/4" for ::1 at 2021-08-10 07:47:04 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.3ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 21.3ms | Allocations: 10793)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.1ms | Allocations: 792)
  Rendered layout layouts/application.html.erb (Duration: 37.1ms | Allocations: 19620)
Completed 200 OK in 45ms (Views: 35.2ms | ActiveRecord: 3.3ms | Allocations: 22204)


Started POST "/animals/new_message/4" for ::1 at 2021-08-10 07:47:11 +0800
Processing by AnimalsController#new_message as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>"kk", "commit"=>"Send Message", "id"=>"4"}
  [1m[36mAnimal Load (0.6ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mSponsorship Load (0.4ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mChat Load (0.8ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mMessage Create (1.7ms)[0m  [1m[32mINSERT INTO "messages" ("chat_id", "sender_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["chat_id", 1], ["sender_id", 3], ["body", "kk"], ["created_at", "2021-08-09 23:47:11.636776"], ["updated_at", "2021-08-09 23:47:11.636776"]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
Redirected to http://localhost:3000/animals/4
Completed 302 Found in 37ms (ActiveRecord: 7.5ms | Allocations: 7602)


Started GET "/animals/4" for ::1 at 2021-08-10 07:47:11 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.1ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.1ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (1.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 27.6ms | Allocations: 11452)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 791)
  Rendered layout layouts/application.html.erb (Duration: 42.3ms | Allocations: 20242)
Completed 200 OK in 50ms (Views: 39.5ms | ActiveRecord: 5.0ms | Allocations: 22819)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkMmN4TVdodk1IRjJjbWt3WldnMFpuTXhhekV5ZFhScE9Hc3pZUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzo1MTo0MS44MTNaIiwicHVyIjoiYmxvYl9rZXkifX0=--8eb6f0f5cc48c374ee1393a28ac2b33921d0aecc/profile.jpg" for ::1 at 2021-08-10 07:47:11 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 357)


Started POST "/animals/media/4" for ::1 at 2021-08-10 07:47:25 +0800
Processing by AnimalsController#media_add as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "media"=>[#<ActionDispatch::Http::UploadedFile:0x00007fc0cea7eae0 @tempfile=#<Tempfile:/var/folders/g1/w_b947c941n8tclr4gvh68d00000gn/T/RackMultipart20210810-38094-4h2d5t.jpg>, @original_filename="med1.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"media[]\"; filename=\"med1.jpg\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fc0cea7e838 @tempfile=#<Tempfile:/var/folders/g1/w_b947c941n8tclr4gvh68d00000gn/T/RackMultipart20210810-38094-n2bv0j.jpg>, @original_filename="med2.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"media[]\"; filename=\"med2.jpg\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fc0cea7e798 @tempfile=#<Tempfile:/var/folders/g1/w_b947c941n8tclr4gvh68d00000gn/T/RackMultipart20210810-38094-8eqk5k.jpg>, @original_filename="med3.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"media[]\"; filename=\"med3.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"Add Photos", "id"=>"4"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "jw6cmuucyqz3n088ieao4q9vg9pc"], ["filename", "med1.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 143104], ["checksum", "ayEpTqhmjphH8eNK9Mvs6w=="], ["created_at", "2021-08-09 23:47:25.450867"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "media"], ["record_type", "Animal"], ["record_id", 4], ["blob_id", 5], ["created_at", "2021-08-09 23:47:25.454018"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mAnimal Update (0.4ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 23:47:25.455996"], ["id", 4]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mTRANSACTION (40.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[36m  Disk Storage (4.6ms) [0m[32mUploaded file to key: jw6cmuucyqz3n088ieao4q9vg9pc (checksum: ayEpTqhmjphH8eNK9Mvs6w==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: cd7a2cd3-8543-4a59-83f4-5ddeb51e3894) to Async(default) with arguments: #<GlobalID:0x00007fc0d0eaf590 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/5>>
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [cd7a2cd3-8543-4a59-83f4-5ddeb51e3894] Performing ActiveStorage::AnalyzeJob (Job ID: cd7a2cd3-8543-4a59-83f4-5ddeb51e3894) from Async(default) enqueued at 2021-08-09T23:47:25Z with arguments: #<GlobalID:0x00007fc0d0f0cc68 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/5>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [cd7a2cd3-8543-4a59-83f4-5ddeb51e3894] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: jw6cmuucyqz3n088ieao4q9vg9pc[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [cd7a2cd3-8543-4a59-83f4-5ddeb51e3894] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [cd7a2cd3-8543-4a59-83f4-5ddeb51e3894]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [cd7a2cd3-8543-4a59-83f4-5ddeb51e3894]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 5]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [cd7a2cd3-8543-4a59-83f4-5ddeb51e3894]   [1m[36mTRANSACTION (22.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveStorage::Blob Load (41.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [cd7a2cd3-8543-4a59-83f4-5ddeb51e3894] Performed ActiveStorage::AnalyzeJob (Job ID: cd7a2cd3-8543-4a59-83f4-5ddeb51e3894) from Async(default) in 38.71ms
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "y7uyam1eh11qc6uzau6to00qgqtr"], ["filename", "med2.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 41610], ["checksum", "N8HIRAdfwY9mBxXx6aqR4A=="], ["created_at", "2021-08-09 23:47:25.556689"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "media"], ["record_type", "Animal"], ["record_id", 4], ["blob_id", 6], ["created_at", "2021-08-09 23:47:25.561721"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mAnimal Update (0.3ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 23:47:25.563534"], ["id", 4]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mTRANSACTION (41.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[36m  Disk Storage (1.5ms) [0m[32mUploaded file to key: y7uyam1eh11qc6uzau6to00qgqtr (checksum: N8HIRAdfwY9mBxXx6aqR4A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8659ea66-742a-4954-b035-760328d9bd79) to Async(default) with arguments: #<GlobalID:0x00007fc0ce2ac330 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/6>>
  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8659ea66-742a-4954-b035-760328d9bd79] Performing ActiveStorage::AnalyzeJob (Job ID: 8659ea66-742a-4954-b035-760328d9bd79) from Async(default) enqueued at 2021-08-09T23:47:25Z with arguments: #<GlobalID:0x00007fc0cd68aa48 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/6>>
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [8659ea66-742a-4954-b035-760328d9bd79] [36m  Disk Storage (1.8ms) [0m[34mDownloaded file from key: y7uyam1eh11qc6uzau6to00qgqtr[0m
  [1m[36mActiveStorage::Blob Create (2.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "t2y2hwvdmy6dj0gt894k6mvmq7nl"], ["filename", "med3.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 54333], ["checksum", "K2oKH6jg+b7kR3qC5cPlSg=="], ["created_at", "2021-08-09 23:47:25.621167"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8659ea66-742a-4954-b035-760328d9bd79] Skipping image analysis because the mini_magick gem isn't installed
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [8659ea66-742a-4954-b035-760328d9bd79]   [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveStorage::Attachment Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "media"], ["record_type", "Animal"], ["record_id", 4], ["blob_id", 7], ["created_at", "2021-08-09 23:47:25.628938"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [8659ea66-742a-4954-b035-760328d9bd79]   [1m[36mActiveStorage::Blob Update (0.9ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 6]]
  [1m[36mAnimal Update (1.9ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 23:47:25.631613"], ["id", 4]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [8659ea66-742a-4954-b035-760328d9bd79]   [1m[36mTRANSACTION (39.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (38.7ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8659ea66-742a-4954-b035-760328d9bd79] Performed ActiveStorage::AnalyzeJob (Job ID: 8659ea66-742a-4954-b035-760328d9bd79) from Async(default) in 56.8ms
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[36m  Disk Storage (1.4ms) [0m[32mUploaded file to key: t2y2hwvdmy6dj0gt894k6mvmq7nl (checksum: K2oKH6jg+b7kR3qC5cPlSg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 470cadc5-5385-4cb9-a01a-1a4827460727) to Async(default) with arguments: #<GlobalID:0x00007fc0d30eaec0 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/7>>
Redirected to http://localhost:3000/animals/4
Completed 302 Found in 257ms (ActiveRecord: 173.2ms | Allocations: 36158)


  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [470cadc5-5385-4cb9-a01a-1a4827460727] Performing ActiveStorage::AnalyzeJob (Job ID: 470cadc5-5385-4cb9-a01a-1a4827460727) from Async(default) enqueued at 2021-08-09T23:47:25Z with arguments: #<GlobalID:0x00007fc0cd7414a0 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/7>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [470cadc5-5385-4cb9-a01a-1a4827460727] [36m  Disk Storage (0.7ms) [0m[34mDownloaded file from key: t2y2hwvdmy6dj0gt894k6mvmq7nl[0m
Started GET "/animals/4" for ::1 at 2021-08-10 07:47:25 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [470cadc5-5385-4cb9-a01a-1a4827460727] Skipping image analysis because the mini_magick gem isn't installed
  [1m[36mAnimal Load (0.8ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [470cadc5-5385-4cb9-a01a-1a4827460727]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
[ActiveJob] [ActiveStorage::AnalyzeJob] [470cadc5-5385-4cb9-a01a-1a4827460727]   [1m[36mActiveStorage::Blob Update (0.8ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 7]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.1ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.1ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 29.9ms | Allocations: 14383)
[ActiveJob] [ActiveStorage::AnalyzeJob] [470cadc5-5385-4cb9-a01a-1a4827460727]   [1m[36mTRANSACTION (40.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [470cadc5-5385-4cb9-a01a-1a4827460727] Performed ActiveStorage::AnalyzeJob (Job ID: 470cadc5-5385-4cb9-a01a-1a4827460727) from Async(default) in 54.09ms
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.8ms | Allocations: 801)
  Rendered layout layouts/application.html.erb (Duration: 46.4ms | Allocations: 24056)
Completed 200 OK in 61ms (Views: 44.4ms | ActiveRecord: 4.2ms | Allocations: 28596)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--a17d47673b515a0c9d9d42d4f0b1d87395f9f0bb/med1.jpg" for ::1 at 2021-08-10 07:47:25 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--a17d47673b515a0c9d9d42d4f0b1d87395f9f0bb", "filename"=>"med1"}
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--194d65c44bdc2ffe6fe6670d79304c31265d073c/med2.jpg" for ::1 at 2021-08-10 07:47:25 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--194d65c44bdc2ffe6fe6670d79304c31265d073c", "filename"=>"med2"}
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1181dfeb5ff2fa4a4646b7639c93d65cc66afc8c/med3.jpg" for ::1 at 2021-08-10 07:47:25 +0800
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
[36m  Disk Storage (0.5ms) [0m[34mGenerated URL for file at key: y7uyam1eh11qc6uzau6to00qgqtr (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlVGQxZVdGdE1XVm9NVEZ4WXpaMWVtRjFOblJ2TURCeFozRjBjZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NTI6MjUuODQwWiIsInB1ciI6ImJsb2Jfa2V5In19--1e04236cef502cd55a4a29488149d1320f239b26/med2.jpg)[0m
  [1m[36mActiveStorage::Blob Load (1.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlVGQxZVdGdE1XVm9NVEZ4WXpaMWVtRjFOblJ2TURCeFozRjBjZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NTI6MjUuODQwWiIsInB1ciI6ImJsb2Jfa2V5In19--1e04236cef502cd55a4a29488149d1320f239b26/med2.jpg
Completed 302 Found in 14ms (ActiveRecord: 0.5ms | Allocations: 3332)


[36m  Disk Storage (0.5ms) [0m[34mGenerated URL for file at key: jw6cmuucyqz3n088ieao4q9vg9pc (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbmMyWTIxMWRXTjVjWG96YmpBNE9HbGxZVzgwY1RsMlp6bHdZd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpERXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXhMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NTI6MjUuODQzWiIsInB1ciI6ImJsb2Jfa2V5In19--9cc2a0bcef07f9a6ac22ba0df3bd4dc6c2f7c59d/med1.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbmMyWTIxMWRXTjVjWG96YmpBNE9HbGxZVzgwY1RsMlp6bHdZd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpERXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXhMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NTI6MjUuODQzWiIsInB1ciI6ImJsb2Jfa2V5In19--9cc2a0bcef07f9a6ac22ba0df3bd4dc6c2f7c59d/med1.jpg
Completed 302 Found in 35ms (ActiveRecord: 1.8ms | Allocations: 5617)


Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1181dfeb5ff2fa4a4646b7639c93d65cc66afc8c", "filename"=>"med3"}
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[36m  Disk Storage (0.6ms) [0m[34mGenerated URL for file at key: t2y2hwvdmy6dj0gt894k6mvmq7nl (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkREo1TW1oM2RtUnRlVFprYWpCbmREZzVOR3MyYlhadGNUZHViQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NTI6MjUuODU2WiIsInB1ciI6ImJsb2Jfa2V5In19--947bf5ba41fe2667fe291b50e77fa66a5737ffc7/med3.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkREo1TW1oM2RtUnRlVFprYWpCbmREZzVOR3MyYlhadGNUZHViQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NTI6MjUuODU2WiIsInB1ciI6ImJsb2Jfa2V5In19--947bf5ba41fe2667fe291b50e77fa66a5737ffc7/med3.jpg
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkMmN4TVdodk1IRjJjbWt3WldnMFpuTXhhekV5ZFhScE9Hc3pZUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzo1MTo0MS44MTNaIiwicHVyIjoiYmxvYl9rZXkifX0=--8eb6f0f5cc48c374ee1393a28ac2b33921d0aecc/profile.jpg" for ::1 at 2021-08-10 07:47:25 +0800
Completed 302 Found in 12ms (ActiveRecord: 0.2ms | Allocations: 2054)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 348)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlVGQxZVdGdE1XVm9NVEZ4WXpaMWVtRjFOblJ2TURCeFozRjBjZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NTI6MjUuODQwWiIsInB1ciI6ImJsb2Jfa2V5In19--1e04236cef502cd55a4a29488149d1320f239b26/med2.jpg" for ::1 at 2021-08-10 07:47:25 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med2"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 371)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbmMyWTIxMWRXTjVjWG96YmpBNE9HbGxZVzgwY1RsMlp6bHdZd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpERXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXhMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NTI6MjUuODQzWiIsInB1ciI6ImJsb2Jfa2V5In19--9cc2a0bcef07f9a6ac22ba0df3bd4dc6c2f7c59d/med1.jpg" for ::1 at 2021-08-10 07:47:25 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkREo1TW1oM2RtUnRlVFprYWpCbmREZzVOR3MyYlhadGNUZHViQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NTI6MjUuODU2WiIsInB1ciI6ImJsb2Jfa2V5In19--947bf5ba41fe2667fe291b50e77fa66a5737ffc7/med3.jpg" for ::1 at 2021-08-10 07:47:25 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med3"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 364)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med1"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 364)


Started DELETE "/animals/media/4?media_id=6" for ::1 at 2021-08-10 07:47:36 +0800
Processing by AnimalsController#media_delete as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "media_id"=>"6", "id"=>"4"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 AND "active_storage_attachments"."id" = $4 LIMIT $5[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Attachment Destroy (0.3ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = $1[0m  [["id", 6]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mAnimal Update (0.3ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 23:47:36.235322"], ["id", 4]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (40.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Attachment Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = $1 LIMIT $2[0m  [["blob_id", 6], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::VariantRecord Load (0.5ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1[0m  [["blob_id", 6]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 6], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Blob Destroy (0.7ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1[0m  [["id", 6]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (39.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
[36m  Disk Storage (0.4ms) [0m[31mDeleted file from key: y7uyam1eh11qc6uzau6to00qgqtr[0m
[36m  Disk Storage (0.7ms) [0m[31mDeleted files by key prefix: variants/y7uyam1eh11qc6uzau6to00qgqtr/[0m
Redirected to http://localhost:3000/animals/4
Completed 302 Found in 127ms (ActiveRecord: 84.9ms | Allocations: 14443)


Started GET "/animals/4" for ::1 at 2021-08-10 07:47:36 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.5ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.4ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.2ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 42.6ms | Allocations: 13468)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 801)
  Rendered layout layouts/application.html.erb (Duration: 65.1ms | Allocations: 22396)
Completed 200 OK in 76ms (Views: 61.5ms | ActiveRecord: 5.4ms | Allocations: 25101)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkMmN4TVdodk1IRjJjbWt3WldnMFpuTXhhekV5ZFhScE9Hc3pZUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzo1MTo0MS44MTNaIiwicHVyIjoiYmxvYl9rZXkifX0=--8eb6f0f5cc48c374ee1393a28ac2b33921d0aecc/profile.jpg" for ::1 at 2021-08-10 07:47:36 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 373)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbmMyWTIxMWRXTjVjWG96YmpBNE9HbGxZVzgwY1RsMlp6bHdZd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpERXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXhMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NTI6MjUuODQzWiIsInB1ciI6ImJsb2Jfa2V5In19--9cc2a0bcef07f9a6ac22ba0df3bd4dc6c2f7c59d/med1.jpg" for ::1 at 2021-08-10 07:47:36 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkREo1TW1oM2RtUnRlVFprYWpCbmREZzVOR3MyYlhadGNUZHViQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NTI6MjUuODU2WiIsInB1ciI6ImJsb2Jfa2V5In19--947bf5ba41fe2667fe291b50e77fa66a5737ffc7/med3.jpg" for ::1 at 2021-08-10 07:47:36 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med1"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 349)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med3"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 345)


Started DELETE "/users/sign_out" for ::1 at 2021-08-10 07:47:46 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms | Allocations: 1909)


Started GET "/" for ::1 at 2021-08-10 07:47:46 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 121)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.1ms | Allocations: 790)
  Rendered layout layouts/application.html.erb (Duration: 16.6ms | Allocations: 8623)
Completed 200 OK in 18ms (Views: 17.2ms | ActiveRecord: 0.0ms | Allocations: 9226)


Started GET "/users/sign_in" for ::1 at 2021-08-10 07:47:50 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | Allocations: 68)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 920)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.3ms | Allocations: 806)
  Rendered layout layouts/application.html.erb (Duration: 17.6ms | Allocations: 9807)
Completed 200 OK in 19ms (Views: 18.2ms | ActiveRecord: 0.0ms | Allocations: 10553)


Started POST "/users/sign_in" for ::1 at 2021-08-10 07:47:57 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"sponsor@sponsor.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "sponsor@sponsor.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 227ms (ActiveRecord: 0.5ms | Allocations: 2356)


Started GET "/" for ::1 at 2021-08-10 07:47:57 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1029)


Started GET "/home" for ::1 at 2021-08-10 07:47:57 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.6ms | Allocations: 1788)
  Rendered pages/home.html.erb within layouts/application (Duration: 4.3ms | Allocations: 2069)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 0.9ms | Allocations: 789)
  Rendered layout layouts/application.html.erb (Duration: 18.7ms | Allocations: 10874)
Completed 200 OK in 25ms (Views: 18.9ms | ActiveRecord: 1.1ms | Allocations: 13904)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOR2h5WW1SaFpXeHZlbWc0ZFd4bWJIRnZlbWhoTmpSaGNYWnNiZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NDk6MjcuMDU2WiIsInB1ciI6ImJsb2Jfa2V5In19--394072aa2718bfb545b6a801b2dcbc6ce984b6de/cow.jpg" for ::1 at 2021-08-10 07:47:57 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 3ms (ActiveRecord: 0.0ms | Allocations: 349)


Started GET "/account" for ::1 at 2021-08-10 07:48:01 +0800
Processing by PagesController#account as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSponsorship Load (0.3ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."sponsor_id" = $1[0m  [["sponsor_id", 2]]
  ↳ app/controllers/pages_controller.rb:24:in `map'
  [1m[36mAnimal Load (0.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:24:in `block in account'
  Rendering layout layouts/application.html.erb
  Rendering pages/account.html.erb within layouts/application
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.5ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.9ms | Allocations: 1791)
  Rendered pages/account.html.erb within layouts/application (Duration: 12.3ms | Allocations: 3828)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 800)
  Rendered layout layouts/application.html.erb (Duration: 96.8ms | Allocations: 12639)
Completed 200 OK in 103ms (Views: 95.8ms | ActiveRecord: 2.0ms | Allocations: 15313)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkMmN4TVdodk1IRjJjbWt3WldnMFpuTXhhekV5ZFhScE9Hc3pZUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzo1MTo0MS44MTNaIiwicHVyIjoiYmxvYl9rZXkifX0=--8eb6f0f5cc48c374ee1393a28ac2b33921d0aecc/profile.jpg" for ::1 at 2021-08-10 07:48:01 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 359)


Started GET "/animals/4" for ::1 at 2021-08-10 07:48:03 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.1ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mChat Load (0.1ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.1ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 24.6ms | Allocations: 12092)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 790)
  Rendered layout layouts/application.html.erb (Duration: 35.7ms | Allocations: 20778)
Completed 200 OK in 41ms (Views: 33.7ms | ActiveRecord: 3.0ms | Allocations: 23356)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkREo1TW1oM2RtUnRlVFprYWpCbmREZzVOR3MyYlhadGNUZHViQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NTI6MjUuODU2WiIsInB1ciI6ImJsb2Jfa2V5In19--947bf5ba41fe2667fe291b50e77fa66a5737ffc7/med3.jpg" for ::1 at 2021-08-10 07:48:03 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbmMyWTIxMWRXTjVjWG96YmpBNE9HbGxZVzgwY1RsMlp6bHdZd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpERXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXhMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NTI6MjUuODQzWiIsInB1ciI6ImJsb2Jfa2V5In19--9cc2a0bcef07f9a6ac22ba0df3bd4dc6c2f7c59d/med1.jpg" for ::1 at 2021-08-10 07:48:03 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med3"}
Processing by ActiveStorage::DiskController#show as JPEG
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 353)


  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med1"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 353)


Started DELETE "/users/sign_out" for ::1 at 2021-08-10 07:48:13 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms | Allocations: 1823)


Started GET "/" for ::1 at 2021-08-10 07:48:13 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 121)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.8ms | Allocations: 787)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 8613)
Completed 200 OK in 17ms (Views: 16.0ms | ActiveRecord: 0.0ms | Allocations: 9202)


Started GET "/users/sign_up?role=sponsor" for ::1 at 2021-08-10 07:48:16 +0800
Processing by Users::RegistrationsController#new as HTML
  Parameters: {"role"=>"sponsor"}
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 1.3ms | Allocations: 186)
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 133)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 17.2ms | Allocations: 9953)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 873)
  Rendered layout layouts/application.html.erb (Duration: 30.2ms | Allocations: 19047)
Completed 200 OK in 36ms (Views: 35.3ms | ActiveRecord: 0.0ms | Allocations: 21408)


Started POST "/users" for ::1 at 2021-08-10 07:48:31 +0800
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"first_name"=>"sdifh", "last_name"=>"sdfohu", "email"=>"abc@email.com", "date_of_birth"=>"1111-11-11", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "role"=>"sponsor", "address_attributes"=>{"street_number"=>"asd", "street_name"=>"sdfkjnS", "suburb"=>"SDFOH", "postcode"=>"SEFKJ", "state_attributes"=>{"name"=>"SDFGKJNB", "country_attributes"=>{"name"=>"Andorra"}}}}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "abc@email.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "SDFGKJNB"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Andorra"], ["LIMIT", 1]]
  ↳ app/models/state.rb:13:in `check_if_country_exists'
  [1m[36mCountry Create (6.1ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Andorra"], ["created_at", "2021-08-09 23:48:32.168744"], ["updated_at", "2021-08-09 23:48:32.168744"]]
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mState Create (0.5ms)[0m  [1m[32mINSERT INTO "states" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Sdfgkjnb"], ["country_id", 2], ["created_at", "2021-08-09 23:48:32.176748"], ["updated_at", "2021-08-09 23:48:32.176748"]]
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mAddress Create (1.1ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "asd"], ["street_name", "sdfkjnS"], ["postcode", "SEFKJ"], ["suburb", "SDFOH"], ["state_id", 2], ["created_at", "2021-08-09 23:48:32.179253"], ["updated_at", "2021-08-09 23:48:32.179253"]]
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mUser Create (40.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "abc@email.com"], ["encrypted_password", "$2a$12$7KR.Zk.aOiMRh9qXHfJ4P.GW5MS/6ZtD2l5703PltFqbbqjV.f66e"], ["created_at", "2021-08-09 23:48:32.189954"], ["updated_at", "2021-08-09 23:48:32.189954"], ["first_name", "Sdifh"], ["last_name", "Sdfohu"], ["approved", true], ["role", 0], ["date_of_birth", "1111-11-11"], ["address_id", 4]]
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 317ms (ActiveRecord: 51.7ms | Allocations: 11302)


Started GET "/" for ::1 at 2021-08-10 07:48:32 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1054)


Started GET "/home" for ::1 at 2021-08-10 07:48:32 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.9ms | Allocations: 1821)
  Rendered pages/home.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2108)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 793)
  Rendered layout layouts/application.html.erb (Duration: 22.2ms | Allocations: 11119)
Completed 200 OK in 29ms (Views: 22.5ms | ActiveRecord: 1.0ms | Allocations: 14150)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOR2h5WW1SaFpXeHZlbWc0ZFd4bWJIRnZlbWhoTmpSaGNYWnNiZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NDk6MjcuMDU2WiIsInB1ciI6ImJsb2Jfa2V5In19--394072aa2718bfb545b6a801b2dcbc6ce984b6de/cow.jpg" for ::1 at 2021-08-10 07:48:32 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 365)


Started GET "/animals" for ::1 at 2021-08-10 07:48:37 +0800
Processing by AnimalsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.0ms | Allocations: 1793)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.3ms | Allocations: 1798)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.6ms | Allocations: 1788)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.9ms | Allocations: 1788)
  Rendered animals/index.html.erb within layouts/application (Duration: 26.4ms | Allocations: 18034)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 2.6ms | Allocations: 1527)
  Rendered layout layouts/application.html.erb (Duration: 41.9ms | Allocations: 27566)
Completed 200 OK in 44ms (Views: 40.3ms | ActiveRecord: 2.7ms | Allocations: 28144)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee/pig.jpg" for ::1 at 2021-08-10 07:48:37 +0800
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a/sheep.jpg" for ::1 at 2021-08-10 07:48:37 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee", "filename"=>"pig"}
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a", "filename"=>"sheep"}
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (0.6ms) [0m[34mGenerated URL for file at key: s76hup6aqbvlhh0iwtx2v60t2pn6 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjemMyYUhWd05tRnhZblpzYUdnd2FYZDBlREoyTmpCME1uQnVOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTA5VDIzOjUzOjM3Ljg4NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--4bcc638e765729da33dfe2e4cef6cb351c328ca1/sheep.jpg)[0m
[36m  Disk Storage (0.4ms) [0m[34mGenerated URL for file at key: s30zuflfof3ch72xhicxaqkoax2k (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjek13ZW5WbWJHWnZaak5qYURjeWVHaHBZM2hoY1d0dllYZ3lhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NTM6MzcuODgyWiIsInB1ciI6ImJsb2Jfa2V5In19--79339dd948b116c647f28aacdc2b734171dbd372/pig.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjemMyYUhWd05tRnhZblpzYUdnd2FYZDBlREoyTmpCME1uQnVOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTA5VDIzOjUzOjM3Ljg4NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--4bcc638e765729da33dfe2e4cef6cb351c328ca1/sheep.jpg
Completed 302 Found in 7ms (ActiveRecord: 0.4ms | Allocations: 2607)


Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjek13ZW5WbWJHWnZaak5qYURjeWVHaHBZM2hoY1d0dllYZ3lhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NTM6MzcuODgyWiIsInB1ciI6ImJsb2Jfa2V5In19--79339dd948b116c647f28aacdc2b734171dbd372/pig.jpg
Completed 302 Found in 10ms (ActiveRecord: 0.5ms | Allocations: 3750)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkMmN4TVdodk1IRjJjbWt3WldnMFpuTXhhekV5ZFhScE9Hc3pZUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzo1MTo0MS44MTNaIiwicHVyIjoiYmxvYl9rZXkifX0=--8eb6f0f5cc48c374ee1393a28ac2b33921d0aecc/profile.jpg" for ::1 at 2021-08-10 07:48:37 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjemMyYUhWd05tRnhZblpzYUdnd2FYZDBlREoyTmpCME1uQnVOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTA5VDIzOjUzOjM3Ljg4NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--4bcc638e765729da33dfe2e4cef6cb351c328ca1/sheep.jpg" for ::1 at 2021-08-10 07:48:37 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjek13ZW5WbWJHWnZaak5qYURjeWVHaHBZM2hoY1d0dllYZ3lhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NTM6MzcuODgyWiIsInB1ciI6ImJsb2Jfa2V5In19--79339dd948b116c647f28aacdc2b734171dbd372/pig.jpg" for ::1 at 2021-08-10 07:48:37 +0800
Completed 200 OK in 3ms (ActiveRecord: 0.0ms | Allocations: 1036)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 357)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 355)


Started GET "/animals?category=1&sponsored=1&name=&commit=Search" for ::1 at 2021-08-10 07:48:43 +0800
Processing by AnimalsController#index as HTML
  Parameters: {"category"=>"1", "sponsored"=>"1", "name"=>"", "commit"=>"Search"}
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/animals_controller.rb:13:in `map'
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."category_id" = $1 AND "animals"."sponsored" = $2[0m  [["category_id", 1], ["sponsored", true]]
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.4ms | Allocations: 1795)
  Rendered animals/index.html.erb within layouts/application (Duration: 16.9ms | Allocations: 12293)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 2.8ms | Allocations: 1537)
  Rendered layout layouts/application.html.erb (Duration: 34.9ms | Allocations: 21941)
Completed 200 OK in 41ms (Views: 35.3ms | ActiveRecord: 1.6ms | Allocations: 23115)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkMmN4TVdodk1IRjJjbWt3WldnMFpuTXhhekV5ZFhScE9Hc3pZUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0wOVQyMzo1MTo0MS44MTNaIiwicHVyIjoiYmxvYl9rZXkifX0=--8eb6f0f5cc48c374ee1393a28ac2b33921d0aecc/profile.jpg" for ::1 at 2021-08-10 07:48:43 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 367)


Started GET "/animals/4" for ::1 at 2021-08-10 07:48:45 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.2ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  Rendered animals/show.html.erb within layouts/application (Duration: 13.2ms | Allocations: 5707)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 795)
  Rendered layout layouts/application.html.erb (Duration: 25.5ms | Allocations: 14713)
Completed 200 OK in 34ms (Views: 25.0ms | ActiveRecord: 2.0ms | Allocations: 17301)


Started GET "/animals" for ::1 at 2021-08-10 07:49:07 +0800
Processing by AnimalsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.5ms | Allocations: 1793)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.5ms | Allocations: 1798)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.7ms | Allocations: 1788)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.5ms | Allocations: 1788)
  Rendered animals/index.html.erb within layouts/application (Duration: 22.9ms | Allocations: 18028)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 2.7ms | Allocations: 1527)
  Rendered layout layouts/application.html.erb (Duration: 40.7ms | Allocations: 27560)
Completed 200 OK in 43ms (Views: 39.8ms | ActiveRecord: 2.0ms | Allocations: 28134)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjek13ZW5WbWJHWnZaak5qYURjeWVHaHBZM2hoY1d0dllYZ3lhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NTM6MzcuODgyWiIsInB1ciI6ImJsb2Jfa2V5In19--79339dd948b116c647f28aacdc2b734171dbd372/pig.jpg" for ::1 at 2021-08-10 07:49:07 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOR2h5WW1SaFpXeHZlbWc0ZFd4bWJIRnZlbWhoTmpSaGNYWnNiZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMDlUMjM6NDk6MjcuMDU2WiIsInB1ciI6ImJsb2Jfa2V5In19--394072aa2718bfb545b6a801b2dcbc6ce984b6de/cow.jpg" for ::1 at 2021-08-10 07:49:07 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjemMyYUhWd05tRnhZblpzYUdnd2FYZDBlREoyTmpCME1uQnVOZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTA5VDIzOjUzOjM3Ljg4NFoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--4bcc638e765729da33dfe2e4cef6cb351c328ca1/sheep.jpg" for ::1 at 2021-08-10 07:49:07 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 349)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 355)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 349)


Started GET "/" for ::1 at 2021-08-10 07:49:08 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 0.2ms | Allocations: 1035)


Started GET "/home" for ::1 at 2021-08-10 07:49:08 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.2ms | Allocations: 1787)
  Rendered pages/home.html.erb within layouts/application (Duration: 5.0ms | Allocations: 2068)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 789)
  Rendered layout layouts/application.html.erb (Duration: 18.6ms | Allocations: 10866)
Completed 200 OK in 27ms (Views: 18.9ms | ActiveRecord: 1.3ms | Allocations: 13860)


Started GET "/" for ::1 at 2021-08-10 07:49:09 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1043)


Started GET "/home" for ::1 at 2021-08-10 07:49:09 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.6ms | Allocations: 1787)
  Rendered pages/home.html.erb within layouts/application (Duration: 4.5ms | Allocations: 2068)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 789)
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | Allocations: 10866)
Completed 200 OK in 22ms (Views: 16.4ms | ActiveRecord: 1.2ms | Allocations: 13865)


Started GET "/account" for ::1 at 2021-08-10 07:49:14 +0800
Processing by PagesController#account as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSponsorship Load (0.3ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."sponsor_id" = $1[0m  [["sponsor_id", 4]]
  ↳ app/controllers/pages_controller.rb:24:in `map'
  Rendering layout layouts/application.html.erb
  Rendering pages/account.html.erb within layouts/application
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  Rendered pages/account.html.erb within layouts/application (Duration: 6.0ms | Allocations: 1938)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.3ms | Allocations: 764)
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | Allocations: 10652)
Completed 200 OK in 23ms (Views: 17.9ms | ActiveRecord: 1.3ms | Allocations: 12724)


Started DELETE "/users/sign_out" for ::1 at 2021-08-10 07:49:21 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 7ms (ActiveRecord: 0.2ms | Allocations: 1851)


Started GET "/" for ::1 at 2021-08-10 07:49:21 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 125)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 787)
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 8619)
Completed 200 OK in 14ms (Views: 13.9ms | ActiveRecord: 0.0ms | Allocations: 9208)


  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (114.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "save_their_bacon_development"[0m
  [1m[35m (53.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "save_their_bacon_test"[0m
  [1m[35m (163.2ms)[0m  [1m[35mCREATE DATABASE "save_their_bacon_development" ENCODING = 'unicode'[0m
  [1m[35m (108.7ms)[0m  [1m[35mCREATE DATABASE "save_their_bacon_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "street_number" character varying, "street_name" character varying, "postcode" character varying, "suburb" character varying, "state_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_state_id" ON "addresses" ("state_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "animals" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "name" character varying, "year_born" integer, "weight" integer, "bio" text, "species" character varying, "sponsored" boolean DEFAULT FALSE NOT NULL, "sponsor_price" integer, "category_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_animals_on_category_id" ON "animals" ("category_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_animals_on_owner_id" ON "animals" ("owner_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "articles" ("id" bigserial primary key, "title" character varying, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "sponsorship_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_chats_on_sponsorship_id" ON "chats" ("sponsorship_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "chat_id" bigint NOT NULL, "sender_id" bigint NOT NULL, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_messages_on_chat_id" ON "messages" ("chat_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_messages_on_sender_id" ON "messages" ("sender_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "sponsorships" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "sponsorships" ("id" bigserial primary key, "receipt" character varying, "animal_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "sponsor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_animal_id" ON "sponsorships" ("animal_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_owner_id" ON "sponsorships" ("owner_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_sponsor_id" ON "sponsorships" ("sponsor_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "states" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "states" ("id" bigserial primary key, "name" character varying, "country_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_states_on_country_id" ON "states" ("country_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "first_name" character varying, "last_name" character varying, "approved" boolean, "role" integer, "date_of_birth" date, "address_id" bigint NOT NULL)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_users_on_address_id" ON "users" ("address_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_2d87b6c11e"
FOREIGN KEY ("state_id")
  REFERENCES "states" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_fe0d97b5eb"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_8d97761a89"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "chats" ADD CONSTRAINT "fk_rails_4d1bd8a917"
FOREIGN KEY ("sponsorship_id")
  REFERENCES "sponsorships" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_ac0a2a4ca2"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_fb21d21baf"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_bf78e760cb"
FOREIGN KEY ("sponsor_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "states" ADD CONSTRAINT "fk_rails_40bd891262"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_eb2fc738e4"
FOREIGN KEY ("address_id")
  REFERENCES "addresses" ("id")
[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210809103829)[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20210726021338),
(20210726031458),
(20210727000917),
(20210727001212),
(20210727001446),
(20210727002353),
(20210727014626),
(20210727014902),
(20210727021825),
(20210728001211),
(20210803015959),
(20210803020258);

[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-08-09 23:49:37.637994"], ["updated_at", "2021-08-09 23:49:37.637994"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "4a28e1dc81aafcce80d6bf5ac6f779ffc2460a65"], ["created_at", "2021-08-09 23:49:37.647307"], ["updated_at", "2021-08-09 23:49:37.647307"]]
  [1m[36mTRANSACTION (40.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "street_number" character varying, "street_name" character varying, "postcode" character varying, "suburb" character varying, "state_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_state_id" ON "addresses" ("state_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "animals" CASCADE[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "name" character varying, "year_born" integer, "weight" integer, "bio" text, "species" character varying, "sponsored" boolean DEFAULT FALSE NOT NULL, "sponsor_price" integer, "category_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE INDEX "index_animals_on_category_id" ON "animals" ("category_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_animals_on_owner_id" ON "animals" ("owner_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "articles" ("id" bigserial primary key, "title" character varying, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "sponsorship_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_chats_on_sponsorship_id" ON "chats" ("sponsorship_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "chat_id" bigint NOT NULL, "sender_id" bigint NOT NULL, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_messages_on_chat_id" ON "messages" ("chat_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_messages_on_sender_id" ON "messages" ("sender_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "sponsorships" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "sponsorships" ("id" bigserial primary key, "receipt" character varying, "animal_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "sponsor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_animal_id" ON "sponsorships" ("animal_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_owner_id" ON "sponsorships" ("owner_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_sponsor_id" ON "sponsorships" ("sponsor_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "states" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "states" ("id" bigserial primary key, "name" character varying, "country_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_states_on_country_id" ON "states" ("country_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "first_name" character varying, "last_name" character varying, "approved" boolean, "role" integer, "date_of_birth" date, "address_id" bigint NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_users_on_address_id" ON "users" ("address_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_2d87b6c11e"
FOREIGN KEY ("state_id")
  REFERENCES "states" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_fe0d97b5eb"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_8d97761a89"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "chats" ADD CONSTRAINT "fk_rails_4d1bd8a917"
FOREIGN KEY ("sponsorship_id")
  REFERENCES "sponsorships" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_ac0a2a4ca2"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_fb21d21baf"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_bf78e760cb"
FOREIGN KEY ("sponsor_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "states" ADD CONSTRAINT "fk_rails_40bd891262"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_eb2fc738e4"
FOREIGN KEY ("address_id")
  REFERENCES "addresses" ("id")
[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210809103829)[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20210726021338),
(20210726031458),
(20210727000917),
(20210727001212),
(20210727001446),
(20210727002353),
(20210727014626),
(20210727014902),
(20210727021825),
(20210728001211),
(20210803015959),
(20210803020258);

[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-08-09 23:49:37.924143"], ["updated_at", "2021-08-09 23:49:37.924143"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-08-09 23:49:37.929591"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "4a28e1dc81aafcce80d6bf5ac6f779ffc2460a65"], ["created_at", "2021-08-09 23:49:37.934828"], ["updated_at", "2021-08-09 23:49:37.934828"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Australia"], ["created_at", "2021-08-09 23:49:38.011319"], ["updated_at", "2021-08-09 23:49:38.011319"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "states"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Australia"], ["LIMIT", 1]]
  ↳ app/models/state.rb:13:in `check_if_country_exists'
  [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Australia"], ["LIMIT", 1]]
  ↳ app/models/state.rb:13:in `check_if_country_exists'
  [1m[36mState Create (0.8ms)[0m  [1m[32mINSERT INTO "states" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Western australia"], ["country_id", 1], ["created_at", "2021-08-09 23:49:38.042060"], ["updated_at", "2021-08-09 23:49:38.042060"]]
  [1m[36mTRANSACTION (40.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mAddress Create (0.6ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Admin St"], ["postcode", "1234"], ["suburb", "Admington"], ["state_id", 1], ["created_at", "2021-08-09 23:49:38.106175"], ["updated_at", "2021-08-09 23:49:38.106175"]]
  [1m[36mTRANSACTION (40.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mState Load (0.3ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Sponsor St"], ["postcode", "2345"], ["suburb", "Sponsor Lake"], ["state_id", 1], ["created_at", "2021-08-09 23:49:38.155454"], ["updated_at", "2021-08-09 23:49:38.155454"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Sanctuary St"], ["postcode", "3456"], ["suburb", "Sanctuary Hills"], ["state_id", 1], ["created_at", "2021-08-09 23:49:38.162774"], ["updated_at", "2021-08-09 23:49:38.162774"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "admin@admin.com"], ["encrypted_password", "$2a$12$zbbG7.buDKFVjNvRGDyXH.jLqJ05rvgfcU1Q2AC1gM5Hnrg0VV.VK"], ["created_at", "2021-08-09 23:49:38.405133"], ["updated_at", "2021-08-09 23:49:38.405133"], ["first_name", "Admin"], ["last_name", "Admins"], ["approved", true], ["role", 2], ["date_of_birth", "1980-01-01"], ["address_id", 1]]
  [1m[36mTRANSACTION (5.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sponsor@sponsor.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "sponsor@sponsor.com"], ["encrypted_password", "$2a$12$zN2WMQetKzU2pMmdLpL7FODj4cx3KzB32W8yKO5HV7FJea8zNFM9S"], ["created_at", "2021-08-09 23:49:38.638427"], ["updated_at", "2021-08-09 23:49:38.638427"], ["first_name", "Spon"], ["last_name", "Sor"], ["approved", true], ["role", 0], ["date_of_birth", "1980-01-01"], ["address_id", 2]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sanctuary@sanctuary.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "sanctuary@sanctuary.com"], ["encrypted_password", "$2a$12$Bg7N58.2Dl24zVsc7BICaOH2SBavXPUjzD/xBi1qgRSY3SzQWTdKe"], ["created_at", "2021-08-09 23:49:38.858261"], ["updated_at", "2021-08-09 23:49:38.858261"], ["first_name", "Sanc"], ["last_name", "Tuary"], ["approved", false], ["role", 1], ["date_of_birth", "1980-01-01"], ["address_id", 2]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pig"], ["created_at", "2021-08-09 23:49:38.868896"], ["updated_at", "2021-08-09 23:49:38.868896"]]
  [1m[36mTRANSACTION (40.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Cow"], ["created_at", "2021-08-09 23:49:38.919435"], ["updated_at", "2021-08-09 23:49:38.919435"]]
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sheep"], ["created_at", "2021-08-09 23:49:38.927037"], ["updated_at", "2021-08-09 23:49:38.927037"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Chicken"], ["created_at", "2021-08-09 23:49:38.931943"], ["updated_at", "2021-08-09 23:49:38.931943"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Horse"], ["created_at", "2021-08-09 23:49:38.936019"], ["updated_at", "2021-08-09 23:49:38.936019"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Goat"], ["created_at", "2021-08-09 23:49:38.940116"], ["updated_at", "2021-08-09 23:49:38.940116"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Create (0.7ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Ham solo"], ["year_born", 2010], ["weight", 100], ["bio", "Proving pigs can fly"], ["species", "Chonker"], ["sponsor_price", 5000], ["category_id", 1], ["owner_id", 3], ["created_at", "2021-08-09 23:49:38.995863"], ["updated_at", "2021-08-09 23:49:38.995863"]]
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "nb0a3c83zj69j1zpefux9b6kbe3w"], ["filename", "pig.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 63070], ["checksum", "90VAk/JgiPplQ/k0FbH5og=="], ["created_at", "2021-08-09 23:49:39.026049"]]
  [1m[36mActiveStorage::Attachment Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 1], ["blob_id", 1], ["created_at", "2021-08-09 23:49:39.028437"]]
  [1m[36mAnimal Update (0.4ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 23:49:39.030711"], ["id", 1]]
  [1m[36mTRANSACTION (40.7ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.2ms) [0m[32mUploaded file to key: nb0a3c83zj69j1zpefux9b6kbe3w (checksum: 90VAk/JgiPplQ/k0FbH5og==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 7fd9a9d4-bc44-426b-8f19-c62b57898658) to Async(default) with arguments: #<GlobalID:0x00007fbbd8a988f0 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/1>>
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Create (0.5ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Vladimir mootin"], ["year_born", 2015], ["weight", 120], ["bio", "Theres a MosCOW joke there somewhere"], ["species", "President"], ["sponsor_price", 6000], ["category_id", 2], ["owner_id", 3], ["created_at", "2021-08-09 23:49:39.093074"], ["updated_at", "2021-08-09 23:49:39.093074"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "r9pewgq51qrtne8mypin2469w3bd"], ["filename", "cow.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 85749], ["checksum", "Yugf1sJBNAnlVPyCdAy9SA=="], ["created_at", "2021-08-09 23:49:39.101647"]]
  [1m[36mActiveStorage::Attachment Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 2], ["blob_id", 2], ["created_at", "2021-08-09 23:49:39.104431"]]
  [1m[36mAnimal Update (0.5ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 23:49:39.107089"], ["id", 2]]
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7fd9a9d4-bc44-426b-8f19-c62b57898658] Performing ActiveStorage::AnalyzeJob (Job ID: 7fd9a9d4-bc44-426b-8f19-c62b57898658) from Async(default) enqueued at 2021-08-09T23:49:39Z with arguments: #<GlobalID:0x00007fbbd8bfa9a0 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [7fd9a9d4-bc44-426b-8f19-c62b57898658] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: nb0a3c83zj69j1zpefux9b6kbe3w[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7fd9a9d4-bc44-426b-8f19-c62b57898658] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [7fd9a9d4-bc44-426b-8f19-c62b57898658]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7fd9a9d4-bc44-426b-8f19-c62b57898658]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (40.7ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (1.5ms) [0m[32mUploaded file to key: r9pewgq51qrtne8mypin2469w3bd (checksum: Yugf1sJBNAnlVPyCdAy9SA==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f9856635-4ca4-4c83-8e4d-9c3d10437bc9) to Async(default) with arguments: #<GlobalID:0x00007fbbd11f8170 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/2>>
  [1m[36mCategory Load (1.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Create (0.6ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Meryl sheep"], ["year_born", 2008], ["weight", 80], ["bio", "A Farmous Actress"], ["species", "Floofer"], ["sponsor_price", 10000], ["category_id", 3], ["owner_id", 3], ["created_at", "2021-08-09 23:49:39.160991"], ["updated_at", "2021-08-09 23:49:39.160991"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "ly0ypfpi2gtnluxz9sob069us7rc"], ["filename", "sheep.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 99269], ["checksum", "M/Dwzj+u/kr3gCzmCGfSeg=="], ["created_at", "2021-08-09 23:49:39.169826"]]
  [1m[36mActiveStorage::Attachment Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 3], ["blob_id", 3], ["created_at", "2021-08-09 23:49:39.171817"]]
  [1m[36mAnimal Update (0.5ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-09 23:49:39.174466"], ["id", 3]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9856635-4ca4-4c83-8e4d-9c3d10437bc9] Performing ActiveStorage::AnalyzeJob (Job ID: f9856635-4ca4-4c83-8e4d-9c3d10437bc9) from Async(default) enqueued at 2021-08-09T23:49:39Z with arguments: #<GlobalID:0x00007fbbd8d84cf8 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9856635-4ca4-4c83-8e4d-9c3d10437bc9] [36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: r9pewgq51qrtne8mypin2469w3bd[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9856635-4ca4-4c83-8e4d-9c3d10437bc9] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9856635-4ca4-4c83-8e4d-9c3d10437bc9]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9856635-4ca4-4c83-8e4d-9c3d10437bc9]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7fd9a9d4-bc44-426b-8f19-c62b57898658]   [1m[36mTRANSACTION (53.1ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7fd9a9d4-bc44-426b-8f19-c62b57898658] Performed ActiveStorage::AnalyzeJob (Job ID: 7fd9a9d4-bc44-426b-8f19-c62b57898658) from Async(default) in 80.88ms
  [1m[36mTRANSACTION (55.1ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9856635-4ca4-4c83-8e4d-9c3d10437bc9]   [1m[36mTRANSACTION (47.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f9856635-4ca4-4c83-8e4d-9c3d10437bc9] Performed ActiveStorage::AnalyzeJob (Job ID: f9856635-4ca4-4c83-8e4d-9c3d10437bc9) from Async(default) in 57.29ms
[36m  Disk Storage (3.7ms) [0m[32mUploaded file to key: ly0ypfpi2gtnluxz9sob069us7rc (checksum: M/Dwzj+u/kr3gCzmCGfSeg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 1fcd3678-03da-4908-a20b-d9cecffdff4b) to Async(default) with arguments: #<GlobalID:0x00007fbbd8dcb978 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/3>>
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles"[0m
  [1m[36mActiveStorage::Blob Load (1.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1fcd3678-03da-4908-a20b-d9cecffdff4b] Performing ActiveStorage::AnalyzeJob (Job ID: 1fcd3678-03da-4908-a20b-d9cecffdff4b) from Async(default) enqueued at 2021-08-09T23:49:39Z with arguments: #<GlobalID:0x00007fbbd0e3aba0 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/3>>
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1fcd3678-03da-4908-a20b-d9cecffdff4b] [36m  Disk Storage (0.9ms) [0m[34mDownloaded file from key: ly0ypfpi2gtnluxz9sob069us7rc[0m
  [1m[36mArticle Create (2.8ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Article 1"], ["body", "This is the article"], ["created_at", "2021-08-09 23:49:39.256756"], ["updated_at", "2021-08-09 23:49:39.256756"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1fcd3678-03da-4908-a20b-d9cecffdff4b] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [1fcd3678-03da-4908-a20b-d9cecffdff4b]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1fcd3678-03da-4908-a20b-d9cecffdff4b]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
  [1m[36mTRANSACTION (23.1ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1fcd3678-03da-4908-a20b-d9cecffdff4b]   [1m[36mTRANSACTION (21.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1fcd3678-03da-4908-a20b-d9cecffdff4b] Performed ActiveStorage::AnalyzeJob (Job ID: 1fcd3678-03da-4908-a20b-d9cecffdff4b) from Async(default) in 44.81ms
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArticle Create (0.5ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Article 2"], ["body", "This is the article"], ["created_at", "2021-08-09 23:49:39.288437"], ["updated_at", "2021-08-09 23:49:39.288437"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArticle Create (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Website Updates"], ["body", "I did a thing to the website"], ["created_at", "2021-08-09 23:49:39.294749"], ["updated_at", "2021-08-09 23:49:39.294749"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2021-08-10 09:23:49 +0800
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 687)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 4.9ms | Allocations: 1437)
  Rendered layout layouts/application.html.erb (Duration: 148.7ms | Allocations: 21871)
Completed 200 OK in 176ms (Views: 156.9ms | ActiveRecord: 0.0ms | Allocations: 26800)


Started GET "/animals" for ::1 at 2021-08-10 09:24:23 +0800
Processing by AnimalsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.8ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 81.4ms | Allocations: 20717)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.3ms | Allocations: 2019)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.2ms | Allocations: 1788)
  Rendered animals/index.html.erb within layouts/application (Duration: 172.3ms | Allocations: 44952)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.3ms | Allocations: 899)
  Rendered layout layouts/application.html.erb (Duration: 185.2ms | Allocations: 54136)
Completed 200 OK in 200ms (Views: 123.2ms | ActiveRecord: 64.3ms | Allocations: 59683)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee/pig.jpg" for ::1 at 2021-08-10 09:24:24 +0800
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19/cow.jpg" for ::1 at 2021-08-10 09:24:24 +0800
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a/sheep.jpg" for ::1 at 2021-08-10 09:24:24 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19", "filename"=>"cow"}
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee", "filename"=>"pig"}
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a", "filename"=>"sheep"}
  [1m[36mActiveStorage::Blob Load (2.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (10.4ms) [0m[34mGenerated URL for file at key: r9pewgq51qrtne8mypin2469w3bd (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjamx3WlhkbmNUVXhjWEowYm1VNGJYbHdhVzR5TkRZNWR6TmlaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTBUMDE6Mjk6MjQuMTA0WiIsInB1ciI6ImJsb2Jfa2V5In19--a39ce2f764a7f723dbaae629e5c0cde2f732be64/cow.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjamx3WlhkbmNUVXhjWEowYm1VNGJYbHdhVzR5TkRZNWR6TmlaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTBUMDE6Mjk6MjQuMTA0WiIsInB1ciI6ImJsb2Jfa2V5In19--a39ce2f764a7f723dbaae629e5c0cde2f732be64/cow.jpg
Completed 302 Found in 20ms (ActiveRecord: 2.9ms | Allocations: 5142)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjamx3WlhkbmNUVXhjWEowYm1VNGJYbHdhVzR5TkRZNWR6TmlaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTBUMDE6Mjk6MjQuMTA0WiIsInB1ciI6ImJsb2Jfa2V5In19--a39ce2f764a7f723dbaae629e5c0cde2f732be64/cow.jpg" for ::1 at 2021-08-10 09:24:24 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 529)


  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (0.4ms) [0m[34mGenerated URL for file at key: ly0ypfpi2gtnluxz9sob069us7rc (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhiSGt3ZVhCbWNHa3laM1J1YkhWNGVqbHpiMkl3TmpsMWN6ZHlZd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEwVDAxOjI5OjI0LjE0MloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--7f3b1d945e5b0f32d08468c7cf11093aac298d00/sheep.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhiSGt3ZVhCbWNHa3laM1J1YkhWNGVqbHpiMkl3TmpsMWN6ZHlZd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEwVDAxOjI5OjI0LjE0MloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--7f3b1d945e5b0f32d08468c7cf11093aac298d00/sheep.jpg
Completed 302 Found in 51ms (ActiveRecord: 13.7ms | Allocations: 10643)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhiSGt3ZVhCbWNHa3laM1J1YkhWNGVqbHpiMkl3TmpsMWN6ZHlZd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEwVDAxOjI5OjI0LjE0MloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--7f3b1d945e5b0f32d08468c7cf11093aac298d00/sheep.jpg" for ::1 at 2021-08-10 09:24:24 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 348)


  [1m[36mActiveStorage::Blob Load (1.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (0.3ms) [0m[34mGenerated URL for file at key: nb0a3c83zj69j1zpefux9b6kbe3w (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhibUl3WVROak9ETjZhalk1YWpGNmNHVm1kWGc1WWpaclltVXpkd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTBUMDE6Mjk6MjQuMTU5WiIsInB1ciI6ImJsb2Jfa2V5In19--87fc82d1dd633c72cb8f5815eab2ce4c37ec560c/pig.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhibUl3WVROak9ETjZhalk1YWpGNmNHVm1kWGc1WWpaclltVXpkd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTBUMDE6Mjk6MjQuMTU5WiIsInB1ciI6ImJsb2Jfa2V5In19--87fc82d1dd633c72cb8f5815eab2ce4c37ec560c/pig.jpg
Completed 302 Found in 70ms (ActiveRecord: 10.2ms | Allocations: 17111)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhibUl3WVROak9ETjZhalk1YWpGNmNHVm1kWGc1WWpaclltVXpkd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTBUMDE6Mjk6MjQuMTU5WiIsInB1ciI6ImJsb2Jfa2V5In19--87fc82d1dd633c72cb8f5815eab2ce4c37ec560c/pig.jpg" for ::1 at 2021-08-10 09:24:24 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 346)


Started GET "/" for ::1 at 2021-08-10 09:24:28 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 142)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 3.7ms | Allocations: 808)
  Rendered layout layouts/application.html.erb (Duration: 70.9ms | Allocations: 8984)
Completed 200 OK in 75ms (Views: 71.8ms | ActiveRecord: 0.0ms | Allocations: 9638)


Started GET "/contact" for ::1 at 2021-08-10 09:38:14 +0800
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#contact as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/contact.html.erb within layouts/application
  Rendered pages/contact.html.erb within layouts/application (Duration: 2.2ms | Allocations: 370)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 7.7ms | Allocations: 1655)
  Rendered layout layouts/application.html.erb (Duration: 130.4ms | Allocations: 22060)
Completed 200 OK in 196ms (Views: 136.9ms | ActiveRecord: 0.0ms | Allocations: 26797)


Started GET "/" for ::1 at 2021-08-10 09:38:15 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 373)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.6ms | Allocations: 807)
  Rendered layout layouts/application.html.erb (Duration: 21.3ms | Allocations: 9019)
Completed 200 OK in 24ms (Views: 22.4ms | ActiveRecord: 0.0ms | Allocations: 9893)


Started GET "/" for ::1 at 2021-08-10 09:53:03 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 10.7ms | Allocations: 121)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 13.7ms | Allocations: 787)
  Rendered layout layouts/application.html.erb (Duration: 89.8ms | Allocations: 8607)
Completed 200 OK in 108ms (Views: 96.0ms | Allocations: 9197)


Started GET "/users/sign_in" for ::1 at 2021-08-10 09:53:13 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 3.3ms | Allocations: 497)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 32.3ms | Allocations: 5092)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.4ms | Allocations: 877)
  Rendered layout layouts/application.html.erb (Duration: 58.7ms | Allocations: 14130)
Completed 200 OK in 166ms (Views: 66.6ms | ActiveRecord: 17.8ms | Allocations: 25557)


Started POST "/users/sign_in" for ::1 at 2021-08-10 09:53:20 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"sanctuary@sanctuary.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "sanctuary@sanctuary.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 272ms (ActiveRecord: 0.8ms | Allocations: 6101)


Started GET "/" for ::1 at 2021-08-10 09:53:21 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.4ms | Allocations: 1284)


Started GET "/home" for ::1 at 2021-08-10 09:53:21 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (6.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 66.9ms | Allocations: 20067)
  Rendered pages/home.html.erb within layouts/application (Duration: 70.5ms | Allocations: 20994)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 828)
  Rendered layout layouts/application.html.erb (Duration: 83.3ms | Allocations: 30120)
Completed 200 OK in 152ms (Views: 76.9ms | ActiveRecord: 32.3ms | Allocations: 45305)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19/cow.jpg" for ::1 at 2021-08-10 09:53:21 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19", "filename"=>"cow"}
  [1m[36mActiveStorage::Blob Load (2.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (59.7ms) [0m[34mGenerated URL for file at key: r9pewgq51qrtne8mypin2469w3bd (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjamx3WlhkbmNUVXhjWEowYm1VNGJYbHdhVzR5TkRZNWR6TmlaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTBUMDE6NTg6MjEuNDI0WiIsInB1ciI6ImJsb2Jfa2V5In19--0fd37bc731f43400e943c43f0cc19e6630df9f75/cow.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjamx3WlhkbmNUVXhjWEowYm1VNGJYbHdhVzR5TkRZNWR6TmlaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTBUMDE6NTg6MjEuNDI0WiIsInB1ciI6ImJsb2Jfa2V5In19--0fd37bc731f43400e943c43f0cc19e6630df9f75/cow.jpg
Completed 302 Found in 94ms (ActiveRecord: 2.7ms | Allocations: 2388)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjamx3WlhkbmNUVXhjWEowYm1VNGJYbHdhVzR5TkRZNWR6TmlaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTBUMDE6NTg6MjEuNDI0WiIsInB1ciI6ImJsb2Jfa2V5In19--0fd37bc731f43400e943c43f0cc19e6630df9f75/cow.jpg" for ::1 at 2021-08-10 09:53:21 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 535)


Started DELETE "/users/sign_out" for ::1 at 2021-08-10 09:53:42 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 87ms (ActiveRecord: 0.5ms | Allocations: 3005)


Started GET "/" for ::1 at 2021-08-10 09:53:42 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 145)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 807)
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | Allocations: 8991)
Completed 200 OK in 46ms (Views: 16.0ms | ActiveRecord: 0.0ms | Allocations: 9679)


Started GET "/users/sign_in" for ::1 at 2021-08-10 09:53:44 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 68)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.8ms | Allocations: 806)
  Rendered layout layouts/application.html.erb (Duration: 32.2ms | Allocations: 9725)
Completed 200 OK in 35ms (Views: 33.1ms | ActiveRecord: 0.0ms | Allocations: 10502)


Started POST "/users/sign_in" for ::1 at 2021-08-10 09:53:48 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 248ms (ActiveRecord: 0.9ms | Allocations: 2492)


Started GET "/" for ::1 at 2021-08-10 09:53:49 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 1042)


Started GET "/home" for ::1 at 2021-08-10 09:53:49 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.1ms | Allocations: 1841)
  Rendered pages/home.html.erb within layouts/application (Duration: 6.1ms | Allocations: 2148)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.4ms | Allocations: 832)
  Rendered layout layouts/application.html.erb (Duration: 25.3ms | Allocations: 10996)
Completed 200 OK in 32ms (Views: 25.7ms | ActiveRecord: 1.6ms | Allocations: 14020)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjamx3WlhkbmNUVXhjWEowYm1VNGJYbHdhVzR5TkRZNWR6TmlaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTBUMDE6NTg6MjEuNDI0WiIsInB1ciI6ImJsb2Jfa2V5In19--0fd37bc731f43400e943c43f0cc19e6630df9f75/cow.jpg" for ::1 at 2021-08-10 09:53:49 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 3ms (ActiveRecord: 0.0ms | Allocations: 361)


Started GET "/admin-dashboard" for ::1 at 2021-08-10 09:53:54 +0800
Processing by PagesController#admin as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pages/admin.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", false]]
  ↳ app/views/pages/admin.html.erb:9
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", true]]
  ↳ app/views/pages/admin.html.erb:23
  Rendered pages/admin.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1756)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.2ms | Allocations: 809)
  Rendered layout layouts/application.html.erb (Duration: 18.5ms | Allocations: 10516)
Completed 200 OK in 27ms (Views: 18.9ms | ActiveRecord: 0.8ms | Allocations: 12328)


Started POST "/admin-approve/3" for ::1 at 2021-08-10 09:54:01 +0800
Processing by PagesController#admin_approve_user as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:60:in `get_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/pages_controller.rb:40:in `admin_approve_user'
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:40:in `admin_approve_user'
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "approved" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2021-08-10 01:54:01.947983"], ["approved", true], ["id", 3]]
  ↳ app/controllers/pages_controller.rb:40:in `admin_approve_user'
  [1m[36mTRANSACTION (44.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/pages_controller.rb:40:in `admin_approve_user'
Redirected to http://localhost:3000/admin-dashboard
Completed 302 Found in 89ms (ActiveRecord: 48.9ms | Allocations: 13460)


Started GET "/admin-dashboard" for ::1 at 2021-08-10 09:54:02 +0800
Processing by PagesController#admin as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pages/admin.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", false]]
  ↳ app/views/pages/admin.html.erb:9
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", true]]
  ↳ app/views/pages/admin.html.erb:23
  Rendered pages/admin.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1325)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 3.6ms | Allocations: 822)
  Rendered layout layouts/application.html.erb (Duration: 27.8ms | Allocations: 10433)
Completed 200 OK in 32ms (Views: 27.7ms | ActiveRecord: 0.9ms | Allocations: 12179)


Started DELETE "/users/sign_out" for ::1 at 2021-08-10 09:54:04 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms | Allocations: 1883)


Started GET "/" for ::1 at 2021-08-10 09:54:04 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 129)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.4ms | Allocations: 788)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 8672)
Completed 200 OK in 19ms (Views: 17.8ms | ActiveRecord: 0.0ms | Allocations: 9280)


Started GET "/users/sign_in" for ::1 at 2021-08-10 09:54:05 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 68)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 3.5ms | Allocations: 806)
  Rendered layout layouts/application.html.erb (Duration: 28.2ms | Allocations: 9725)
Completed 200 OK in 33ms (Views: 31.5ms | ActiveRecord: 0.0ms | Allocations: 10475)


Started POST "/users/sign_in" for ::1 at 2021-08-10 09:54:10 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"sanctuary@sanctuary.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "sanctuary@sanctuary.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 249ms (ActiveRecord: 0.3ms | Allocations: 2359)


Started GET "/" for ::1 at 2021-08-10 09:54:11 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1035)


Started GET "/home" for ::1 at 2021-08-10 09:54:11 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 6.0ms | Allocations: 1814)
  Rendered pages/home.html.erb within layouts/application (Duration: 6.7ms | Allocations: 2095)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.8ms | Allocations: 790)
  Rendered layout layouts/application.html.erb (Duration: 24.9ms | Allocations: 10901)
Completed 200 OK in 33ms (Views: 24.8ms | ActiveRecord: 1.2ms | Allocations: 13926)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjamx3WlhkbmNUVXhjWEowYm1VNGJYbHdhVzR5TkRZNWR6TmlaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTBUMDE6NTg6MjEuNDI0WiIsInB1ciI6ImJsb2Jfa2V5In19--0fd37bc731f43400e943c43f0cc19e6630df9f75/cow.jpg" for ::1 at 2021-08-10 09:54:11 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 375)


Started GET "/animals/new" for ::1 at 2021-08-10 09:54:13 +0800
Processing by AnimalsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering animals/new.html.erb within layouts/application
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/_form.html.erb:46:in `map'
  Rendered animals/_form.html.erb (Duration: 19.1ms | Allocations: 6064)
  Rendered animals/new.html.erb within layouts/application (Duration: 20.9ms | Allocations: 6500)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.5ms | Allocations: 817)
  Rendered layout layouts/application.html.erb (Duration: 41.2ms | Allocations: 15490)
Completed 200 OK in 58ms (Views: 42.5ms | ActiveRecord: 3.2ms | Allocations: 19118)


Started POST "/animals" for ::1 at 2021-08-10 09:54:40 +0800
Processing by AnimalsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "animal"=>{"name"=>"Piggy Smalls", "year_born"=>"2000", "weight"=>"100", "bio"=>"The notorious p.i.g", "species"=>"pink", "sponsor_price"=>"55.99", "category_id"=>"1", "profile_picture"=>#<ActionDispatch::Http::UploadedFile:0x00007fa8c48ce708 @tempfile=#<Tempfile:/var/folders/g1/w_b947c941n8tclr4gvh68d00000gn/T/RackMultipart20210810-40810-key31e.jpg>, @original_filename="profile.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"animal[profile_picture]\"; filename=\"profile.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Animal"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:51:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mAnimal Create (11.7ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Piggy smalls"], ["year_born", 2000], ["weight", 100], ["bio", "The notorious p.i.g"], ["species", "pink"], ["sponsor_price", 5599], ["category_id", 1], ["owner_id", 3], ["created_at", "2021-08-10 01:54:40.328217"], ["updated_at", "2021-08-10 01:54:40.328217"]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mActiveStorage::Blob Create (15.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "5i4lszcomgngjmbfsfqsnd8tqf9x"], ["filename", "profile.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 32456], ["checksum", "GszSpFm2V+JMbdlYIA9Y4g=="], ["created_at", "2021-08-10 01:54:40.358454"]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 4], ["blob_id", 4], ["created_at", "2021-08-10 01:54:40.376940"]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mAnimal Update (0.4ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-10 01:54:40.380326"], ["id", 4]]
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:54:in `block in create'
[36m  Disk Storage (2.6ms) [0m[32mUploaded file to key: 5i4lszcomgngjmbfsfqsnd8tqf9x (checksum: GszSpFm2V+JMbdlYIA9Y4g==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 72a8d1d9-fbd0-4ae5-9c0c-eaeac4879d24) to Async(default) with arguments: #<GlobalID:0x00007fa8c29ad130 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/4>>
Redirected to http://localhost:3000/animals/4
Completed 302 Found in 80ms (ActiveRecord: 30.1ms | Allocations: 16783)


Started GET "/animals/4" for ::1 at 2021-08-10 09:54:40 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (46.9ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [72a8d1d9-fbd0-4ae5-9c0c-eaeac4879d24] Performing ActiveStorage::AnalyzeJob (Job ID: 72a8d1d9-fbd0-4ae5-9c0c-eaeac4879d24) from Async(default) enqueued at 2021-08-10T01:54:40Z with arguments: #<GlobalID:0x00007fa8c686c088 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/4>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [72a8d1d9-fbd0-4ae5-9c0c-eaeac4879d24] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 5i4lszcomgngjmbfsfqsnd8tqf9x[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [72a8d1d9-fbd0-4ae5-9c0c-eaeac4879d24] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [72a8d1d9-fbd0-4ae5-9c0c-eaeac4879d24]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [72a8d1d9-fbd0-4ae5-9c0c-eaeac4879d24]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 4]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [72a8d1d9-fbd0-4ae5-9c0c-eaeac4879d24]   [1m[36mTRANSACTION (30.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [72a8d1d9-fbd0-4ae5-9c0c-eaeac4879d24] Performed ActiveStorage::AnalyzeJob (Job ID: 72a8d1d9-fbd0-4ae5-9c0c-eaeac4879d24) from Async(default) in 39.85ms
  [1m[36mCountry Load (43.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mSponsorship Load (40.4ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:81
  Rendered animals/show.html.erb within layouts/application (Duration: 196.5ms | Allocations: 26528)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.3ms | Allocations: 820)
  Rendered layout layouts/application.html.erb (Duration: 214.5ms | Allocations: 35478)
Completed 200 OK in 225ms (Views: 72.2ms | ActiveRecord: 143.8ms | Allocations: 39353)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--f29baae4a4fcf412c037bc80af8a2603fdd7304d/profile.jpg" for ::1 at 2021-08-10 09:54:40 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--f29baae4a4fcf412c037bc80af8a2603fdd7304d", "filename"=>"profile"}
  [1m[36mActiveStorage::Blob Load (2.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[36m  Disk Storage (1.2ms) [0m[34mGenerated URL for file at key: 5i4lszcomgngjmbfsfqsnd8tqf9x (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOV2swYkhONlkyOXRaMjVuYW0xaVpuTm1jWE51WkRoMGNXWTVlQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0xMFQwMTo1OTo0MC43MDVaIiwicHVyIjoiYmxvYl9rZXkifX0=--d0c9f31d93492d10452fc972fab4f6223d48a060/profile.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOV2swYkhONlkyOXRaMjVuYW0xaVpuTm1jWE51WkRoMGNXWTVlQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0xMFQwMTo1OTo0MC43MDVaIiwicHVyIjoiYmxvYl9rZXkifX0=--d0c9f31d93492d10452fc972fab4f6223d48a060/profile.jpg
Completed 302 Found in 13ms (ActiveRecord: 2.0ms | Allocations: 1598)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOV2swYkhONlkyOXRaMjVuYW0xaVpuTm1jWE51WkRoMGNXWTVlQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0xMFQwMTo1OTo0MC43MDVaIiwicHVyIjoiYmxvYl9rZXkifX0=--d0c9f31d93492d10452fc972fab4f6223d48a060/profile.jpg" for ::1 at 2021-08-10 09:54:40 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 373)


Started DELETE "/users/sign_out" for ::1 at 2021-08-10 09:54:53 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 8ms (ActiveRecord: 0.2ms | Allocations: 1954)


Started GET "/" for ::1 at 2021-08-10 09:54:53 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.7ms | Allocations: 127)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.5ms | Allocations: 787)
  Rendered layout layouts/application.html.erb (Duration: 37.0ms | Allocations: 8624)
Completed 200 OK in 39ms (Views: 37.6ms | ActiveRecord: 0.0ms | Allocations: 9245)


Started GET "/users/sign_in" for ::1 at 2021-08-10 09:54:55 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 68)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 934)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.3ms | Allocations: 806)
  Rendered layout layouts/application.html.erb (Duration: 21.3ms | Allocations: 9722)
Completed 200 OK in 24ms (Views: 22.3ms | ActiveRecord: 0.0ms | Allocations: 10459)


Started POST "/users/sign_in" for ::1 at 2021-08-10 09:55:00 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"sponsor@sponsor.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "sponsor@sponsor.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 244ms (ActiveRecord: 0.3ms | Allocations: 2352)


Started GET "/" for ::1 at 2021-08-10 09:55:00 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 1033)


Started GET "/home" for ::1 at 2021-08-10 09:55:00 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.5ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.5ms | Allocations: 1799)
  Rendered pages/home.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2080)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.3ms | Allocations: 789)
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | Allocations: 10885)
Completed 200 OK in 26ms (Views: 17.0ms | ActiveRecord: 2.2ms | Allocations: 13907)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjamx3WlhkbmNUVXhjWEowYm1VNGJYbHdhVzR5TkRZNWR6TmlaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTBUMDE6NTg6MjEuNDI0WiIsInB1ciI6ImJsb2Jfa2V5In19--0fd37bc731f43400e943c43f0cc19e6630df9f75/cow.jpg" for ::1 at 2021-08-10 09:55:00 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 365)


Started GET "/animals" for ::1 at 2021-08-10 09:55:06 +0800
Processing by AnimalsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 6.0ms | Allocations: 1941)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.9ms | Allocations: 1799)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.2ms | Allocations: 1788)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.6ms | Allocations: 1788)
  Rendered animals/index.html.erb within layouts/application (Duration: 35.8ms | Allocations: 19094)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 5.1ms | Allocations: 1558)
  Rendered layout layouts/application.html.erb (Duration: 52.4ms | Allocations: 28717)
Completed 200 OK in 56ms (Views: 50.0ms | ActiveRecord: 3.1ms | Allocations: 29457)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a/sheep.jpg" for ::1 at 2021-08-10 09:55:06 +0800
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee/pig.jpg" for ::1 at 2021-08-10 09:55:06 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOV2swYkhONlkyOXRaMjVuYW0xaVpuTm1jWE51WkRoMGNXWTVlQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0xMFQwMTo1OTo0MC43MDVaIiwicHVyIjoiYmxvYl9rZXkifX0=--d0c9f31d93492d10452fc972fab4f6223d48a060/profile.jpg" for ::1 at 2021-08-10 09:55:06 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a", "filename"=>"sheep"}
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee", "filename"=>"pig"}
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 361)


  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (0.7ms) [0m[34mGenerated URL for file at key: nb0a3c83zj69j1zpefux9b6kbe3w (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhibUl3WVROak9ETjZhalk1YWpGNmNHVm1kWGc1WWpaclltVXpkd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTBUMDI6MDA6MDYuMzMzWiIsInB1ciI6ImJsb2Jfa2V5In19--32a8f3b638ae0d65f3054d14e87d365578907316/pig.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhibUl3WVROak9ETjZhalk1YWpGNmNHVm1kWGc1WWpaclltVXpkd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTBUMDI6MDA6MDYuMzMzWiIsInB1ciI6ImJsb2Jfa2V5In19--32a8f3b638ae0d65f3054d14e87d365578907316/pig.jpg
Completed 302 Found in 8ms (ActiveRecord: 1.1ms | Allocations: 2300)


  [1m[36mActiveStorage::Blob Load (1.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (1.0ms) [0m[34mGenerated URL for file at key: ly0ypfpi2gtnluxz9sob069us7rc (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhiSGt3ZVhCbWNHa3laM1J1YkhWNGVqbHpiMkl3TmpsMWN6ZHlZd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEwVDAyOjAwOjA2LjM0MVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--d34e0ac86df9a881a7f1c710b095fe00809074fd/sheep.jpg)[0m
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhibUl3WVROak9ETjZhalk1YWpGNmNHVm1kWGc1WWpaclltVXpkd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTBUMDI6MDA6MDYuMzMzWiIsInB1ciI6ImJsb2Jfa2V5In19--32a8f3b638ae0d65f3054d14e87d365578907316/pig.jpg" for ::1 at 2021-08-10 09:55:06 +0800
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhiSGt3ZVhCbWNHa3laM1J1YkhWNGVqbHpiMkl3TmpsMWN6ZHlZd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEwVDAyOjAwOjA2LjM0MVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--d34e0ac86df9a881a7f1c710b095fe00809074fd/sheep.jpg
Completed 302 Found in 17ms (ActiveRecord: 1.4ms | Allocations: 4917)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 369)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhiSGt3ZVhCbWNHa3laM1J1YkhWNGVqbHpiMkl3TmpsMWN6ZHlZd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEwVDAyOjAwOjA2LjM0MVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--d34e0ac86df9a881a7f1c710b095fe00809074fd/sheep.jpg" for ::1 at 2021-08-10 09:55:06 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 370)


Started GET "/animals?category=1&sponsored=0&name=&commit=Search" for ::1 at 2021-08-10 09:55:15 +0800
Processing by AnimalsController#index as HTML
  Parameters: {"category"=>"1", "sponsored"=>"0", "name"=>"", "commit"=>"Search"}
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/controllers/animals_controller.rb:13:in `map'
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."category_id" = $1 AND "animals"."sponsored" = $2[0m  [["category_id", 1], ["sponsored", false]]
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.1ms | Allocations: 1793)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.6ms | Allocations: 1798)
  Rendered animals/index.html.erb within layouts/application (Duration: 18.2ms | Allocations: 14212)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 2.8ms | Allocations: 1524)
  Rendered layout layouts/application.html.erb (Duration: 39.6ms | Allocations: 23643)
Completed 200 OK in 43ms (Views: 39.5ms | ActiveRecord: 1.5ms | Allocations: 24848)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhibUl3WVROak9ETjZhalk1YWpGNmNHVm1kWGc1WWpaclltVXpkd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTBUMDI6MDA6MDYuMzMzWiIsInB1ciI6ImJsb2Jfa2V5In19--32a8f3b638ae0d65f3054d14e87d365578907316/pig.jpg" for ::1 at 2021-08-10 09:55:15 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 355)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOV2swYkhONlkyOXRaMjVuYW0xaVpuTm1jWE51WkRoMGNXWTVlQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0xMFQwMTo1OTo0MC43MDVaIiwicHVyIjoiYmxvYl9rZXkifX0=--d0c9f31d93492d10452fc972fab4f6223d48a060/profile.jpg" for ::1 at 2021-08-10 09:55:15 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 347)


Started GET "/animals/4" for ::1 at 2021-08-10 09:55:18 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.3ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.4ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.2ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:13:in `user_is_animal_sponsor'
  Rendered animals/show.html.erb within layouts/application (Duration: 12.6ms | Allocations: 5185)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.5ms | Allocations: 795)
  Rendered layout layouts/application.html.erb (Duration: 26.0ms | Allocations: 14174)
Completed 200 OK in 32ms (Views: 24.8ms | ActiveRecord: 2.3ms | Allocations: 16775)


Started POST "/payments" for ::1 at 2021-08-10 09:55:20 +0800
Processing by PaymentsController#create_payment_intent as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"4"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:9:in `create_payment_intent'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:13:in `create_payment_intent'
  Rendering payments/create_payment_intent.js.erb
  Rendered payments/create_payment_intent.js.erb (Duration: 1.0ms | Allocations: 146)
Completed 200 OK in 995ms (Views: 10.4ms | ActiveRecord: 0.3ms | Allocations: 6885)


Started POST "/payments/webhook" for ::1 at 2021-08-10 09:55:35 +0800
Processing by PaymentsController#webhook as XML
  Parameters: {"id"=>"evt_1JMkBmIeFWwPeKyVd2yODlvP", "object"=>"event", "api_version"=>"2020-08-27", "created"=>1628560534, "data"=>{"object"=>{"id"=>"cs_test_a18ii3GFOAJowDhMFmV1jTQVDhGkEgw593X5uvCrCjfBCrUraQoqHSsJP3", "object"=>"checkout.session", "allow_promotion_codes"=>nil, "amount_subtotal"=>5599, "amount_total"=>5599, "automatic_tax"=>{"enabled"=>false, "status"=>nil}, "billing_address_collection"=>nil, "cancel_url"=>"http://localhost:3000//animals", "client_reference_id"=>nil, "currency"=>"aud", "customer"=>"cus_K0ljkchFmp2H7F", "customer_details"=>{"email"=>"sponsor@sponsor.com", "tax_exempt"=>"none", "tax_ids"=>[]}, "customer_email"=>"sponsor@sponsor.com", "livemode"=>false, "locale"=>nil, "metadata"=>{}, "mode"=>"payment", "payment_intent"=>"pi_3JMkBZIeFWwPeKyV1WkzZWIv", "payment_method_options"=>{}, "payment_method_types"=>["card"], "payment_status"=>"paid", "setup_intent"=>nil, "shipping"=>nil, "shipping_address_collection"=>nil, "submit_type"=>nil, "subscription"=>nil, "success_url"=>"http://localhost:3000//payments/success?name=Piggy smalls", "total_details"=>{"amount_discount"=>0, "amount_shipping"=>0, "amount_tax"=>0}, "url"=>nil}}, "livemode"=>false, "pending_webhooks"=>1, "request"=>{"id"=>nil, "idempotency_key"=>"[FILTERED]"}, "type"=>"checkout.session.completed", "payment"=>{"id"=>"evt_1JMkBmIeFWwPeKyVd2yODlvP", "object"=>"event", "api_version"=>"2020-08-27", "created"=>1628560534, "data"=>{"object"=>{"id"=>"cs_test_a18ii3GFOAJowDhMFmV1jTQVDhGkEgw593X5uvCrCjfBCrUraQoqHSsJP3", "object"=>"checkout.session", "allow_promotion_codes"=>nil, "amount_subtotal"=>5599, "amount_total"=>5599, "automatic_tax"=>{"enabled"=>false, "status"=>nil}, "billing_address_collection"=>nil, "cancel_url"=>"http://localhost:3000//animals", "client_reference_id"=>nil, "currency"=>"aud", "customer"=>"cus_K0ljkchFmp2H7F", "customer_details"=>{"email"=>"sponsor@sponsor.com", "tax_exempt"=>"none", "tax_ids"=>[]}, "customer_email"=>"sponsor@sponsor.com", "livemode"=>false, "locale"=>nil, "metadata"=>{}, "mode"=>"payment", "payment_intent"=>"pi_3JMkBZIeFWwPeKyV1WkzZWIv", "payment_method_options"=>{}, "payment_method_types"=>["card"], "payment_status"=>"paid", "setup_intent"=>nil, "shipping"=>nil, "shipping_address_collection"=>nil, "submit_type"=>nil, "subscription"=>nil, "success_url"=>"http://localhost:3000//payments/success?name=Piggy smalls", "total_details"=>{"amount_discount"=>0, "amount_shipping"=>0, "amount_tax"=>0}, "url"=>nil}}, "livemode"=>false, "pending_webhooks"=>1, "request"=>{"id"=>nil, "idempotency_key"=>"[FILTERED]"}, "type"=>"checkout.session.completed"}}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:39:in `webhook'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:40:in `webhook'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:40:in `webhook'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:40:in `webhook'
  [1m[36mAnimal Update (0.5ms)[0m  [1m[33mUPDATE "animals" SET "sponsored" = $1, "updated_at" = $2 WHERE "animals"."id" = $3[0m  [["sponsored", true], ["updated_at", "2021-08-10 01:55:36.098127"], ["id", 4]]
  ↳ app/controllers/payments_controller.rb:40:in `webhook'
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:40:in `webhook'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mSponsorship Create (3.1ms)[0m  [1m[32mINSERT INTO "sponsorships" ("receipt", "animal_id", "owner_id", "sponsor_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["receipt", "https://pay.stripe.com/receipts/acct_1JKEzmIeFWwPeKyV/ch_3JMkBZIeFWwPeKyV1V0aai79/rcpt_K0ljNDkF5SToAtC6oPaY6iwRb8UugTo"], ["animal_id", 4], ["owner_id", 3], ["sponsor_id", 2], ["created_at", "2021-08-10 01:55:36.133387"], ["updated_at", "2021-08-10 01:55:36.133387"]]
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:42:in `webhook'
  [1m[36mSponsorship Load (0.2ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:42:in `webhook'
  [1m[36mChat Create (44.9ms)[0m  [1m[32mINSERT INTO "chats" ("sponsorship_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["sponsorship_id", 1], ["created_at", "2021-08-10 01:55:36.158596"], ["updated_at", "2021-08-10 01:55:36.158596"]]
  ↳ app/controllers/payments_controller.rb:42:in `webhook'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:42:in `webhook'
No template found for PaymentsController#webhook, rendering head :no_content
Completed 204 No Content in 722ms (ActiveRecord: 58.2ms | Allocations: 27296)


Started GET "//payments/success?name=Piggy%20smalls" for ::1 at 2021-08-10 09:55:37 +0800
Processing by PaymentsController#success as HTML
  Parameters: {"name"=>"Piggy smalls"}
  Rendering layout layouts/application.html.erb
  Rendering payments/success.html.erb within layouts/application
  Rendered payments/success.html.erb within layouts/application (Duration: 0.9ms | Allocations: 201)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 7.9ms | Allocations: 1598)
  Rendered layout layouts/application.html.erb (Duration: 34.1ms | Allocations: 10010)
Completed 200 OK in 40ms (Views: 36.9ms | ActiveRecord: 0.4ms | Allocations: 11099)


Started GET "/account" for ::1 at 2021-08-10 09:55:42 +0800
Processing by PagesController#account as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSponsorship Load (0.2ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."sponsor_id" = $1[0m  [["sponsor_id", 2]]
  ↳ app/controllers/pages_controller.rb:24:in `map'
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:24:in `block in account'
  Rendering layout layouts/application.html.erb
  Rendering pages/account.html.erb within layouts/application
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.3ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.6ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 6.6ms | Allocations: 1827)
  Rendered pages/account.html.erb within layouts/application (Duration: 16.1ms | Allocations: 4222)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.6ms | Allocations: 796)
  Rendered layout layouts/application.html.erb (Duration: 33.0ms | Allocations: 13030)
Completed 200 OK in 44ms (Views: 34.0ms | ActiveRecord: 2.3ms | Allocations: 15886)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOV2swYkhONlkyOXRaMjVuYW0xaVpuTm1jWE51WkRoMGNXWTVlQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0xMFQwMTo1OTo0MC43MDVaIiwicHVyIjoiYmxvYl9rZXkifX0=--d0c9f31d93492d10452fc972fab4f6223d48a060/profile.jpg" for ::1 at 2021-08-10 09:55:42 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 386)


Started GET "/animals/4" for ::1 at 2021-08-10 09:55:46 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.3ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.4ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  Rendered animals/show.html.erb within layouts/application (Duration: 35.4ms | Allocations: 11599)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 808)
  Rendered layout layouts/application.html.erb (Duration: 48.7ms | Allocations: 20462)
Completed 200 OK in 59ms (Views: 43.8ms | ActiveRecord: 7.3ms | Allocations: 23080)


Started POST "/animals/new_message/4" for ::1 at 2021-08-10 09:56:05 +0800
Processing by AnimalsController#new_message as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>"pls send pig pics", "commit"=>"Send Message", "id"=>"4"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (8.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mSponsorship Load (0.5ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mChat Load (0.7ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mMessage Create (0.9ms)[0m  [1m[32mINSERT INTO "messages" ("chat_id", "sender_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["chat_id", 1], ["sender_id", 2], ["body", "pls send pig pics"], ["created_at", "2021-08-10 01:56:05.566147"], ["updated_at", "2021-08-10 01:56:05.566147"]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
Redirected to http://localhost:3000/animals/4
Completed 302 Found in 53ms (ActiveRecord: 19.9ms | Allocations: 11615)


Started GET "/animals/4" for ::1 at 2021-08-10 09:56:05 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.3ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 27.1ms | Allocations: 9792)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.8ms | Allocations: 789)
  Rendered layout layouts/application.html.erb (Duration: 42.5ms | Allocations: 18480)
Completed 200 OK in 49ms (Views: 40.3ms | ActiveRecord: 3.8ms | Allocations: 21088)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOV2swYkhONlkyOXRaMjVuYW0xaVpuTm1jWE51WkRoMGNXWTVlQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0xMFQwMTo1OTo0MC43MDVaIiwicHVyIjoiYmxvYl9rZXkifX0=--d0c9f31d93492d10452fc972fab4f6223d48a060/profile.jpg" for ::1 at 2021-08-10 09:56:05 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 371)


Started DELETE "/users/sign_out" for ::1 at 2021-08-10 09:56:10 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.1ms | Allocations: 1883)


Started GET "/" for ::1 at 2021-08-10 09:56:10 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 125)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.0ms | Allocations: 787)
  Rendered layout layouts/application.html.erb (Duration: 20.7ms | Allocations: 8620)
Completed 200 OK in 23ms (Views: 22.1ms | ActiveRecord: 0.0ms | Allocations: 9226)


Started GET "/users/sign_in" for ::1 at 2021-08-10 09:56:11 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 68)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 919)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 806)
  Rendered layout layouts/application.html.erb (Duration: 18.6ms | Allocations: 9707)
Completed 200 OK in 21ms (Views: 19.2ms | ActiveRecord: 0.0ms | Allocations: 10457)


Started POST "/users/sign_in" for ::1 at 2021-08-10 09:56:17 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"sanctuary@sanctuary.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "sanctuary@sanctuary.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 250ms (ActiveRecord: 1.5ms | Allocations: 2357)


Started GET "/" for ::1 at 2021-08-10 09:56:17 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1029)


Started GET "/home" for ::1 at 2021-08-10 09:56:17 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 6.2ms | Allocations: 1789)
  Rendered pages/home.html.erb within layouts/application (Duration: 7.8ms | Allocations: 2070)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.3ms | Allocations: 793)
  Rendered layout layouts/application.html.erb (Duration: 24.9ms | Allocations: 11082)
Completed 200 OK in 44ms (Views: 25.1ms | ActiveRecord: 1.7ms | Allocations: 14103)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjamx3WlhkbmNUVXhjWEowYm1VNGJYbHdhVzR5TkRZNWR6TmlaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTBUMDE6NTg6MjEuNDI0WiIsInB1ciI6ImJsb2Jfa2V5In19--0fd37bc731f43400e943c43f0cc19e6630df9f75/cow.jpg" for ::1 at 2021-08-10 09:56:17 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 353)


Started GET "/account" for ::1 at 2021-08-10 09:56:19 +0800
Processing by PagesController#account as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pages/account.html.erb within layouts/application
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.3ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."owner_id" = $1[0m  [["owner_id", 3]]
  ↳ app/views/pages/account.html.erb:21
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.1ms | Allocations: 1793)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 6.2ms | Allocations: 1798)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.9ms | Allocations: 1788)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 6.0ms | Allocations: 1788)
  Rendered pages/account.html.erb within layouts/application (Duration: 29.2ms | Allocations: 10063)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 3.0ms | Allocations: 791)
  Rendered layout layouts/application.html.erb (Duration: 48.4ms | Allocations: 19055)
Completed 200 OK in 53ms (Views: 46.3ms | ActiveRecord: 2.9ms | Allocations: 20657)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhibUl3WVROak9ETjZhalk1YWpGNmNHVm1kWGc1WWpaclltVXpkd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTBUMDI6MDA6MDYuMzMzWiIsInB1ciI6ImJsb2Jfa2V5In19--32a8f3b638ae0d65f3054d14e87d365578907316/pig.jpg" for ::1 at 2021-08-10 09:56:19 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhiSGt3ZVhCbWNHa3laM1J1YkhWNGVqbHpiMkl3TmpsMWN6ZHlZd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEwVDAyOjAwOjA2LjM0MVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--d34e0ac86df9a881a7f1c710b095fe00809074fd/sheep.jpg" for ::1 at 2021-08-10 09:56:19 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOV2swYkhONlkyOXRaMjVuYW0xaVpuTm1jWE51WkRoMGNXWTVlQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0xMFQwMTo1OTo0MC43MDVaIiwicHVyIjoiYmxvYl9rZXkifX0=--d0c9f31d93492d10452fc972fab4f6223d48a060/profile.jpg" for ::1 at 2021-08-10 09:56:19 +0800
Processing by ActiveStorage::DiskController#show as JPEG
Processing by ActiveStorage::DiskController#show as JPEG
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 357)


  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 691)


Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 416)


Started GET "/animals/4" for ::1 at 2021-08-10 09:56:21 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (1.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.1ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.2ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 20.9ms | Allocations: 10792)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.5ms | Allocations: 788)
  Rendered layout layouts/application.html.erb (Duration: 33.3ms | Allocations: 19518)
Completed 200 OK in 54ms (Views: 32.1ms | ActiveRecord: 4.6ms | Allocations: 22099)


Started POST "/animals/media/4" for ::1 at 2021-08-10 09:56:32 +0800
Processing by AnimalsController#media_add as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "media"=>[#<ActionDispatch::Http::UploadedFile:0x00007fa8c4e99d90 @tempfile=#<Tempfile:/var/folders/g1/w_b947c941n8tclr4gvh68d00000gn/T/RackMultipart20210810-40810-t2860o.jpg>, @original_filename="med1.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"media[]\"; filename=\"med1.jpg\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fa8c4e99d18 @tempfile=#<Tempfile:/var/folders/g1/w_b947c941n8tclr4gvh68d00000gn/T/RackMultipart20210810-40810-wgmmxf.jpg>, @original_filename="med2.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"media[]\"; filename=\"med2.jpg\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fa8c4e99cc8 @tempfile=#<Tempfile:/var/folders/g1/w_b947c941n8tclr4gvh68d00000gn/T/RackMultipart20210810-40810-9vbpk8.jpg>, @original_filename="med3.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"media[]\"; filename=\"med3.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"Add Photos", "id"=>"4"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "q9tzslkgc20r01gd2rfnp03avt0q"], ["filename", "med1.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 143104], ["checksum", "ayEpTqhmjphH8eNK9Mvs6w=="], ["created_at", "2021-08-10 01:56:32.369025"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "media"], ["record_type", "Animal"], ["record_id", 4], ["blob_id", 5], ["created_at", "2021-08-10 01:56:32.371324"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mAnimal Update (0.7ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-10 01:56:32.373205"], ["id", 4]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mTRANSACTION (40.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[36m  Disk Storage (4.1ms) [0m[32mUploaded file to key: q9tzslkgc20r01gd2rfnp03avt0q (checksum: ayEpTqhmjphH8eNK9Mvs6w==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 82c0e4cf-0af4-4025-bfa6-f2ae8845b504) to Async(default) with arguments: #<GlobalID:0x00007fa8c6beb768 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/5>>
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [82c0e4cf-0af4-4025-bfa6-f2ae8845b504] Performing ActiveStorage::AnalyzeJob (Job ID: 82c0e4cf-0af4-4025-bfa6-f2ae8845b504) from Async(default) enqueued at 2021-08-10T01:56:32Z with arguments: #<GlobalID:0x00007fa8c4f09d48 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/5>>
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [82c0e4cf-0af4-4025-bfa6-f2ae8845b504] [36m  Disk Storage (1.6ms) [0m[34mDownloaded file from key: q9tzslkgc20r01gd2rfnp03avt0q[0m
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "jlzdcoegsdevcv6167zkrcibb08k"], ["filename", "med2.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 41610], ["checksum", "N8HIRAdfwY9mBxXx6aqR4A=="], ["created_at", "2021-08-10 01:56:32.433802"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Attachment Create (3.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "media"], ["record_type", "Animal"], ["record_id", 4], ["blob_id", 6], ["created_at", "2021-08-10 01:56:32.437855"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [82c0e4cf-0af4-4025-bfa6-f2ae8845b504] Skipping image analysis because the mini_magick gem isn't installed
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [82c0e4cf-0af4-4025-bfa6-f2ae8845b504]   [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Update (1.2ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-10 01:56:32.444940"], ["id", 4]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [82c0e4cf-0af4-4025-bfa6-f2ae8845b504]   [1m[36mActiveStorage::Blob Update (1.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 5]]
  [1m[36mTRANSACTION (40.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[36m  Disk Storage (1.0ms) [0m[32mUploaded file to key: jlzdcoegsdevcv6167zkrcibb08k (checksum: N8HIRAdfwY9mBxXx6aqR4A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 410f92a3-a5f1-482a-8507-418704065334) to Async(default) with arguments: #<GlobalID:0x00007fa8c6c525f8 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/6>>
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "0wunfbai1yhjhc0vh6abky834ki0"], ["filename", "med3.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 54333], ["checksum", "K2oKH6jg+b7kR3qC5cPlSg=="], ["created_at", "2021-08-10 01:56:32.500704"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "media"], ["record_type", "Animal"], ["record_id", 4], ["blob_id", 7], ["created_at", "2021-08-10 01:56:32.504858"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mAnimal Update (0.2ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-10 01:56:32.506640"], ["id", 4]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [82c0e4cf-0af4-4025-bfa6-f2ae8845b504]   [1m[36mTRANSACTION (80.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (22.7ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [82c0e4cf-0af4-4025-bfa6-f2ae8845b504] Performed ActiveStorage::AnalyzeJob (Job ID: 82c0e4cf-0af4-4025-bfa6-f2ae8845b504) from Async(default) in 98.8ms
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[36m  Disk Storage (1.4ms) [0m[32mUploaded file to key: 0wunfbai1yhjhc0vh6abky834ki0 (checksum: K2oKH6jg+b7kR3qC5cPlSg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a4b3ead2-a432-462d-84c8-0e14315b7c27) to Async(default) with arguments: #<GlobalID:0x00007fa8c2bbd380 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/7>>
Redirected to http://localhost:3000/animals/4
Completed 302 Found in 201ms (ActiveRecord: 114.7ms | Allocations: 33084)


  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a4b3ead2-a432-462d-84c8-0e14315b7c27] Performing ActiveStorage::AnalyzeJob (Job ID: a4b3ead2-a432-462d-84c8-0e14315b7c27) from Async(default) enqueued at 2021-08-10T01:56:32Z with arguments: #<GlobalID:0x00007fa8c2bcc6c8 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/7>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [a4b3ead2-a432-462d-84c8-0e14315b7c27] [36m  Disk Storage (0.6ms) [0m[34mDownloaded file from key: 0wunfbai1yhjhc0vh6abky834ki0[0m
Started GET "/animals/4" for ::1 at 2021-08-10 09:56:32 +0800
  [1m[36mActiveStorage::Blob Load (1.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [410f92a3-a5f1-482a-8507-418704065334] Performing ActiveStorage::AnalyzeJob (Job ID: 410f92a3-a5f1-482a-8507-418704065334) from Async(default) enqueued at 2021-08-10T01:56:32Z with arguments: #<GlobalID:0x00007fa8bea75bc0 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/6>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [a4b3ead2-a432-462d-84c8-0e14315b7c27] Skipping image analysis because the mini_magick gem isn't installed
Processing by AnimalsController#show as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [410f92a3-a5f1-482a-8507-418704065334] [36m  Disk Storage (1.2ms) [0m[34mDownloaded file from key: jlzdcoegsdevcv6167zkrcibb08k[0m
  Parameters: {"id"=>"4"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [a4b3ead2-a432-462d-84c8-0e14315b7c27]   [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a4b3ead2-a432-462d-84c8-0e14315b7c27]   [1m[36mActiveStorage::Blob Update (3.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 7]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [410f92a3-a5f1-482a-8507-418704065334] Skipping image analysis because the mini_magick gem isn't installed
  [1m[36mAnimal Load (4.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [410f92a3-a5f1-482a-8507-418704065334]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
[ActiveJob] [ActiveStorage::AnalyzeJob] [410f92a3-a5f1-482a-8507-418704065334]   [1m[36mActiveStorage::Blob Update (1.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 6]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.1ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 24.9ms | Allocations: 13716)
[ActiveJob] [ActiveStorage::AnalyzeJob] [a4b3ead2-a432-462d-84c8-0e14315b7c27]   [1m[36mTRANSACTION (40.9ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a4b3ead2-a432-462d-84c8-0e14315b7c27] Performed ActiveStorage::AnalyzeJob (Job ID: a4b3ead2-a432-462d-84c8-0e14315b7c27) from Async(default) in 57.18ms
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 799)
  Rendered layout layouts/application.html.erb (Duration: 39.5ms | Allocations: 23199)
Completed 200 OK in 54ms (Views: 37.7ms | ActiveRecord: 6.9ms | Allocations: 29704)


[ActiveJob] [ActiveStorage::AnalyzeJob] [410f92a3-a5f1-482a-8507-418704065334]   [1m[36mTRANSACTION (104.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [410f92a3-a5f1-482a-8507-418704065334] Performed ActiveStorage::AnalyzeJob (Job ID: 410f92a3-a5f1-482a-8507-418704065334) from Async(default) in 123.33ms
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOV2swYkhONlkyOXRaMjVuYW0xaVpuTm1jWE51WkRoMGNXWTVlQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0xMFQwMTo1OTo0MC43MDVaIiwicHVyIjoiYmxvYl9rZXkifX0=--d0c9f31d93492d10452fc972fab4f6223d48a060/profile.jpg" for ::1 at 2021-08-10 09:56:32 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 363)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--a17d47673b515a0c9d9d42d4f0b1d87395f9f0bb/med1.jpg" for ::1 at 2021-08-10 09:56:32 +0800
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--194d65c44bdc2ffe6fe6670d79304c31265d073c/med2.jpg" for ::1 at 2021-08-10 09:56:32 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--a17d47673b515a0c9d9d42d4f0b1d87395f9f0bb", "filename"=>"med1"}
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1181dfeb5ff2fa4a4646b7639c93d65cc66afc8c/med3.jpg" for ::1 at 2021-08-10 09:56:32 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1181dfeb5ff2fa4a4646b7639c93d65cc66afc8c", "filename"=>"med3"}
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--194d65c44bdc2ffe6fe6670d79304c31265d073c", "filename"=>"med2"}
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[36m  Disk Storage (0.6ms) [0m[34mGenerated URL for file at key: q9tzslkgc20r01gd2rfnp03avt0q (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjVGwwZW5Oc2EyZGpNakJ5TURGblpESnlabTV3TUROaGRuUXdjUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpERXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXhMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTBUMDI6MDE6MzIuODM1WiIsInB1ciI6ImJsb2Jfa2V5In19--011c77a45b46f518fb4a77fcdb711a8a42152714/med1.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjVGwwZW5Oc2EyZGpNakJ5TURGblpESnlabTV3TUROaGRuUXdjUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpERXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXhMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTBUMDI6MDE6MzIuODM1WiIsInB1ciI6ImJsb2Jfa2V5In19--011c77a45b46f518fb4a77fcdb711a8a42152714/med1.jpg
  [1m[36mActiveStorage::Blob Load (2.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
Completed 302 Found in 39ms (ActiveRecord: 0.4ms | Allocations: 2742)


[36m  Disk Storage (1.6ms) [0m[34mGenerated URL for file at key: jlzdcoegsdevcv6167zkrcibb08k (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbXg2WkdOdlpXZHpaR1YyWTNZMk1UWTNlbXR5WTJsaVlqQTRhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTBUMDI6MDE6MzIuODQyWiIsInB1ciI6ImJsb2Jfa2V5In19--5fcb2127c415e7031d03e3b19aac5379494b9734/med2.jpg)[0m
[36m  Disk Storage (0.4ms) [0m[34mGenerated URL for file at key: 0wunfbai1yhjhc0vh6abky834ki0 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhNSGQxYm1aaVlXa3hlV2hxYUdNd2RtZzJZV0pyZVRnek5HdHBNQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTBUMDI6MDE6MzIuODM4WiIsInB1ciI6ImJsb2Jfa2V5In19--63e411357ca2f98cca596b16398de4ace17280f8/med3.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhNSGQxYm1aaVlXa3hlV2hxYUdNd2RtZzJZV0pyZVRnek5HdHBNQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTBUMDI6MDE6MzIuODM4WiIsInB1ciI6ImJsb2Jfa2V5In19--63e411357ca2f98cca596b16398de4ace17280f8/med3.jpg
Completed 302 Found in 24ms (ActiveRecord: 2.7ms | Allocations: 4980)


Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbXg2WkdOdlpXZHpaR1YyWTNZMk1UWTNlbXR5WTJsaVlqQTRhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTBUMDI6MDE6MzIuODQyWiIsInB1ciI6ImJsb2Jfa2V5In19--5fcb2127c415e7031d03e3b19aac5379494b9734/med2.jpg
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjVGwwZW5Oc2EyZGpNakJ5TURGblpESnlabTV3TUROaGRuUXdjUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpERXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXhMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTBUMDI6MDE6MzIuODM1WiIsInB1ciI6ImJsb2Jfa2V5In19--011c77a45b46f518fb4a77fcdb711a8a42152714/med1.jpg" for ::1 at 2021-08-10 09:56:32 +0800
Completed 302 Found in 34ms (ActiveRecord: 0.6ms | Allocations: 5725)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhNSGQxYm1aaVlXa3hlV2hxYUdNd2RtZzJZV0pyZVRnek5HdHBNQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTBUMDI6MDE6MzIuODM4WiIsInB1ciI6ImJsb2Jfa2V5In19--63e411357ca2f98cca596b16398de4ace17280f8/med3.jpg" for ::1 at 2021-08-10 09:56:32 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbXg2WkdOdlpXZHpaR1YyWTNZMk1UWTNlbXR5WTJsaVlqQTRhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTBUMDI6MDE6MzIuODQyWiIsInB1ciI6ImJsb2Jfa2V5In19--5fcb2127c415e7031d03e3b19aac5379494b9734/med2.jpg" for ::1 at 2021-08-10 09:56:32 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med1"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 367)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med3"}
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med2"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 367)


Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 741)


Started DELETE "/animals/media/4?media_id=5" for ::1 at 2021-08-10 09:56:38 +0800
Processing by AnimalsController#media_delete as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "media_id"=>"5", "id"=>"4"}
  [1m[36mAnimal Load (0.6ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 AND "active_storage_attachments"."id" = $4 LIMIT $5[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Attachment Destroy (0.7ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = $1[0m  [["id", 5]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mAnimal Update (0.4ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-10 01:56:38.375377"], ["id", 4]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Attachment Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = $1 LIMIT $2[0m  [["blob_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::VariantRecord Load (0.7ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1[0m  [["blob_id", 5]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 5], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Blob Destroy (1.3ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1[0m  [["id", 5]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (40.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
[36m  Disk Storage (0.3ms) [0m[31mDeleted file from key: q9tzslkgc20r01gd2rfnp03avt0q[0m
[36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/q9tzslkgc20r01gd2rfnp03avt0q/[0m
Redirected to http://localhost:3000/animals/4
Completed 302 Found in 90ms (ActiveRecord: 57.2ms | Allocations: 14593)


Started GET "/animals/4" for ::1 at 2021-08-10 09:56:38 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.4ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.4ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mChat Load (1.0ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.8ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 49.6ms | Allocations: 12834)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.4ms | Allocations: 801)
  Rendered layout layouts/application.html.erb (Duration: 74.4ms | Allocations: 21861)
Completed 200 OK in 82ms (Views: 70.3ms | ActiveRecord: 5.6ms | Allocations: 24548)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOV2swYkhONlkyOXRaMjVuYW0xaVpuTm1jWE51WkRoMGNXWTVlQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0xMFQwMTo1OTo0MC43MDVaIiwicHVyIjoiYmxvYl9rZXkifX0=--d0c9f31d93492d10452fc972fab4f6223d48a060/profile.jpg" for ::1 at 2021-08-10 09:56:38 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbXg2WkdOdlpXZHpaR1YyWTNZMk1UWTNlbXR5WTJsaVlqQTRhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTBUMDI6MDE6MzIuODQyWiIsInB1ciI6ImJsb2Jfa2V5In19--5fcb2127c415e7031d03e3b19aac5379494b9734/med2.jpg" for ::1 at 2021-08-10 09:56:38 +0800
Processing by ActiveStorage::DiskController#show as JPEG
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhNSGQxYm1aaVlXa3hlV2hxYUdNd2RtZzJZV0pyZVRnek5HdHBNQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTBUMDI6MDE6MzIuODM4WiIsInB1ciI6ImJsb2Jfa2V5In19--63e411357ca2f98cca596b16398de4ace17280f8/med3.jpg" for ::1 at 2021-08-10 09:56:38 +0800
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 372)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med2"}
Processing by ActiveStorage::DiskController#show as JPEG
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 352)


  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med3"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 351)


Started POST "/animals/new_message/4" for ::1 at 2021-08-10 09:56:43 +0800
Processing by AnimalsController#new_message as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>"kk", "commit"=>"Send Message", "id"=>"4"}
  [1m[36mAnimal Load (2.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mSponsorship Load (0.2ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mMessage Create (1.3ms)[0m  [1m[32mINSERT INTO "messages" ("chat_id", "sender_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["chat_id", 1], ["sender_id", 3], ["body", "kk"], ["created_at", "2021-08-10 01:56:43.400898"], ["updated_at", "2021-08-10 01:56:43.400898"]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
Redirected to http://localhost:3000/animals/4
Completed 302 Found in 45ms (ActiveRecord: 11.8ms | Allocations: 7640)


Started GET "/animals/4" for ::1 at 2021-08-10 09:56:43 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.6ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 33.1ms | Allocations: 13325)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.9ms | Allocations: 789)
  Rendered layout layouts/application.html.erb (Duration: 51.6ms | Allocations: 22204)
Completed 200 OK in 60ms (Views: 48.3ms | ActiveRecord: 5.0ms | Allocations: 24777)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbXg2WkdOdlpXZHpaR1YyWTNZMk1UWTNlbXR5WTJsaVlqQTRhd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTBUMDI6MDE6MzIuODQyWiIsInB1ciI6ImJsb2Jfa2V5In19--5fcb2127c415e7031d03e3b19aac5379494b9734/med2.jpg" for ::1 at 2021-08-10 09:56:43 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med2"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 357)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOV2swYkhONlkyOXRaMjVuYW0xaVpuTm1jWE51WkRoMGNXWTVlQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUVdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CeWIyWnBiR1V1YW5Cbklqc2dabWxzWlc1aGJXVXFQVlZVUmkwNEp5ZHdjbTltYVd4bExtcHdad1k3QmxRNkVXTnZiblJsYm5SZmRIbHdaVWtpRDJsdFlXZGxMMnB3WldjR093WlVPaEZ6WlhKMmFXTmxYMjVoYldVNkNteHZZMkZzIiwiZXhwIjoiMjAyMS0wOC0xMFQwMTo1OTo0MC43MDVaIiwicHVyIjoiYmxvYl9rZXkifX0=--d0c9f31d93492d10452fc972fab4f6223d48a060/profile.jpg" for ::1 at 2021-08-10 09:56:43 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"profile"}
Completed 304 Not Modified in 3ms (ActiveRecord: 0.0ms | Allocations: 357)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhNSGQxYm1aaVlXa3hlV2hxYUdNd2RtZzJZV0pyZVRnek5HdHBNQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTBUMDI6MDE6MzIuODM4WiIsInB1ciI6ImJsb2Jfa2V5In19--63e411357ca2f98cca596b16398de4ace17280f8/med3.jpg" for ::1 at 2021-08-10 09:56:43 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med3"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 345)


Started DELETE "/users/sign_out" for ::1 at 2021-08-10 09:56:50 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 1887)


Started GET "/" for ::1 at 2021-08-10 09:56:50 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 121)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.9ms | Allocations: 789)
  Rendered layout layouts/application.html.erb (Duration: 19.9ms | Allocations: 8659)
Completed 200 OK in 21ms (Views: 20.5ms | ActiveRecord: 0.0ms | Allocations: 9268)


Started GET "/users/sign_in" for ::1 at 2021-08-10 09:56:51 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 68)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 919)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 806)
  Rendered layout layouts/application.html.erb (Duration: 22.1ms | Allocations: 9707)
Completed 200 OK in 24ms (Views: 22.8ms | ActiveRecord: 0.0ms | Allocations: 10450)


Started POST "/users/sign_in" for ::1 at 2021-08-10 09:56:56 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 246ms (ActiveRecord: 1.5ms | Allocations: 2360)


Started GET "/" for ::1 at 2021-08-10 09:56:56 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.3ms | Allocations: 1031)


Started GET "/home" for ::1 at 2021-08-10 09:56:56 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.8ms | Allocations: 1787)
  Rendered pages/home.html.erb within layouts/application (Duration: 5.4ms | Allocations: 2086)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 830)
  Rendered layout layouts/application.html.erb (Duration: 24.9ms | Allocations: 10932)
Completed 200 OK in 35ms (Views: 24.8ms | ActiveRecord: 2.2ms | Allocations: 13957)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjamx3WlhkbmNUVXhjWEowYm1VNGJYbHdhVzR5TkRZNWR6TmlaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTBUMDE6NTg6MjEuNDI0WiIsInB1ciI6ImJsb2Jfa2V5In19--0fd37bc731f43400e943c43f0cc19e6630df9f75/cow.jpg" for ::1 at 2021-08-10 09:56:56 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 363)


Started GET "/articles/3" for ::1 at 2021-08-10 09:57:01 +0800
Processing by ArticlesController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/articles_controller.rb:58:in `set_article'
  Rendering layout layouts/application.html.erb
  Rendering articles/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/articles/show.html.erb:5
  Rendered articles/show.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1334)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.4ms | Allocations: 864)
  Rendered layout layouts/application.html.erb (Duration: 19.8ms | Allocations: 10387)
Completed 200 OK in 31ms (Views: 26.1ms | ActiveRecord: 0.4ms | Allocations: 12555)


Started DELETE "/articles/3" for ::1 at 2021-08-10 09:57:04 +0800
Processing by ArticlesController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" WHERE "articles"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/articles_controller.rb:58:in `set_article'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/articles_controller.rb:67:in `redirect_if_not_admin'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/articles_controller.rb:48:in `destroy'
  [1m[36mArticle Destroy (0.4ms)[0m  [1m[31mDELETE FROM "articles" WHERE "articles"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/articles_controller.rb:48:in `destroy'
  [1m[36mTRANSACTION (39.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/articles_controller.rb:48:in `destroy'
Redirected to http://localhost:3000/home
Completed 302 Found in 53ms (ActiveRecord: 41.8ms | Allocations: 3053)


Started GET "/home" for ::1 at 2021-08-10 09:57:04 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.5ms | Allocations: 1848)
  Rendered pages/home.html.erb within layouts/application (Duration: 5.2ms | Allocations: 2121)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 831)
  Rendered layout layouts/application.html.erb (Duration: 19.4ms | Allocations: 10976)
Completed 200 OK in 30ms (Views: 19.5ms | ActiveRecord: 2.0ms | Allocations: 14002)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhjamx3WlhkbmNUVXhjWEowYm1VNGJYbHdhVzR5TkRZNWR6TmlaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTBUMDE6NTg6MjEuNDI0WiIsInB1ciI6ImJsb2Jfa2V5In19--0fd37bc731f43400e943c43f0cc19e6630df9f75/cow.jpg" for ::1 at 2021-08-10 09:57:04 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 379)


  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (73.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "save_their_bacon_development"[0m
  [1m[35m (63.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "save_their_bacon_test"[0m
  [1m[35m (264.4ms)[0m  [1m[35mCREATE DATABASE "save_their_bacon_development" ENCODING = 'unicode'[0m
  [1m[35m (100.8ms)[0m  [1m[35mCREATE DATABASE "save_their_bacon_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (12.4ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (27.9ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "street_number" character varying, "street_name" character varying, "postcode" character varying, "suburb" character varying, "state_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_state_id" ON "addresses" ("state_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "animals" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "name" character varying, "year_born" integer, "weight" integer, "bio" text, "species" character varying, "sponsored" boolean DEFAULT FALSE NOT NULL, "sponsor_price" integer, "category_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_animals_on_category_id" ON "animals" ("category_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_animals_on_owner_id" ON "animals" ("owner_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "articles" ("id" bigserial primary key, "title" character varying, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (42.8ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "sponsorship_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_chats_on_sponsorship_id" ON "chats" ("sponsorship_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "chat_id" bigint NOT NULL, "sender_id" bigint NOT NULL, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_messages_on_chat_id" ON "messages" ("chat_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_messages_on_sender_id" ON "messages" ("sender_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "sponsorships" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "sponsorships" ("id" bigserial primary key, "receipt" character varying, "animal_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "sponsor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_animal_id" ON "sponsorships" ("animal_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_owner_id" ON "sponsorships" ("owner_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_sponsor_id" ON "sponsorships" ("sponsor_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "states" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "states" ("id" bigserial primary key, "name" character varying, "country_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_states_on_country_id" ON "states" ("country_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "first_name" character varying, "last_name" character varying, "approved" boolean, "role" integer, "date_of_birth" date, "address_id" bigint NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_users_on_address_id" ON "users" ("address_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_2d87b6c11e"
FOREIGN KEY ("state_id")
  REFERENCES "states" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_fe0d97b5eb"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_8d97761a89"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "chats" ADD CONSTRAINT "fk_rails_4d1bd8a917"
FOREIGN KEY ("sponsorship_id")
  REFERENCES "sponsorships" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_ac0a2a4ca2"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_fb21d21baf"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_bf78e760cb"
FOREIGN KEY ("sponsor_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "states" ADD CONSTRAINT "fk_rails_40bd891262"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_eb2fc738e4"
FOREIGN KEY ("address_id")
  REFERENCES "addresses" ("id")
[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210809103829)[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20210726021338),
(20210726031458),
(20210727000917),
(20210727001212),
(20210727001446),
(20210727002353),
(20210727014626),
(20210727014902),
(20210727021825),
(20210728001211),
(20210803015959),
(20210803020258);

[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-08-10 04:50:36.362341"], ["updated_at", "2021-08-10 04:50:36.362341"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "4a28e1dc81aafcce80d6bf5ac6f779ffc2460a65"], ["created_at", "2021-08-10 04:50:36.373850"], ["updated_at", "2021-08-10 04:50:36.373850"]]
  [1m[36mTRANSACTION (29.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (6.7ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "street_number" character varying, "street_name" character varying, "postcode" character varying, "suburb" character varying, "state_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_state_id" ON "addresses" ("state_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "animals" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "name" character varying, "year_born" integer, "weight" integer, "bio" text, "species" character varying, "sponsored" boolean DEFAULT FALSE NOT NULL, "sponsor_price" integer, "category_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_animals_on_category_id" ON "animals" ("category_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_animals_on_owner_id" ON "animals" ("owner_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles" CASCADE[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "articles" ("id" bigserial primary key, "title" character varying, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "sponsorship_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_chats_on_sponsorship_id" ON "chats" ("sponsorship_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "chat_id" bigint NOT NULL, "sender_id" bigint NOT NULL, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_messages_on_chat_id" ON "messages" ("chat_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_messages_on_sender_id" ON "messages" ("sender_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "sponsorships" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "sponsorships" ("id" bigserial primary key, "receipt" character varying, "animal_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "sponsor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_animal_id" ON "sponsorships" ("animal_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_owner_id" ON "sponsorships" ("owner_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_sponsor_id" ON "sponsorships" ("sponsor_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "states" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "states" ("id" bigserial primary key, "name" character varying, "country_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_states_on_country_id" ON "states" ("country_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "first_name" character varying, "last_name" character varying, "approved" boolean, "role" integer, "date_of_birth" date, "address_id" bigint NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_users_on_address_id" ON "users" ("address_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_2d87b6c11e"
FOREIGN KEY ("state_id")
  REFERENCES "states" ("id")
[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_fe0d97b5eb"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (2.0ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_8d97761a89"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "chats" ADD CONSTRAINT "fk_rails_4d1bd8a917"
FOREIGN KEY ("sponsorship_id")
  REFERENCES "sponsorships" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_ac0a2a4ca2"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_fb21d21baf"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_bf78e760cb"
FOREIGN KEY ("sponsor_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "states" ADD CONSTRAINT "fk_rails_40bd891262"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_eb2fc738e4"
FOREIGN KEY ("address_id")
  REFERENCES "addresses" ("id")
[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210809103829)[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20210726021338),
(20210726031458),
(20210727000917),
(20210727001212),
(20210727001446),
(20210727002353),
(20210727014626),
(20210727014902),
(20210727021825),
(20210728001211),
(20210803015959),
(20210803020258);

[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-08-10 04:50:36.630180"], ["updated_at", "2021-08-10 04:50:36.630180"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-08-10 04:50:36.635943"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "4a28e1dc81aafcce80d6bf5ac6f779ffc2460a65"], ["created_at", "2021-08-10 04:50:36.640369"], ["updated_at", "2021-08-10 04:50:36.640369"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Australia"], ["created_at", "2021-08-10 04:50:36.707513"], ["updated_at", "2021-08-10 04:50:36.707513"]]
  [1m[36mTRANSACTION (40.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "states"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCountry Load (1.4ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Australia"], ["LIMIT", 1]]
  ↳ app/models/state.rb:13:in `check_if_country_exists'
  [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Australia"], ["LIMIT", 1]]
  ↳ app/models/state.rb:13:in `check_if_country_exists'
  [1m[36mState Create (1.0ms)[0m  [1m[32mINSERT INTO "states" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Western australia"], ["country_id", 1], ["created_at", "2021-08-10 04:50:36.781231"], ["updated_at", "2021-08-10 04:50:36.781231"]]
  [1m[36mTRANSACTION (39.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mState Load (0.3ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mAddress Create (1.1ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Admin St"], ["postcode", "1234"], ["suburb", "Admington"], ["state_id", 1], ["created_at", "2021-08-10 04:50:36.848071"], ["updated_at", "2021-08-10 04:50:36.848071"]]
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mState Load (0.1ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Sponsor St"], ["postcode", "2345"], ["suburb", "Sponsor Lake"], ["state_id", 1], ["created_at", "2021-08-10 04:50:36.858929"], ["updated_at", "2021-08-10 04:50:36.858929"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mState Load (0.3ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Sanctuary St"], ["postcode", "3456"], ["suburb", "Sanctuary Hills"], ["state_id", 1], ["created_at", "2021-08-10 04:50:36.865725"], ["updated_at", "2021-08-10 04:50:36.865725"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "admin@admin.com"], ["encrypted_password", "$2a$12$vCCQbQUgwkN4bHQudHAIRu7ZXMKbcnDUCl8/HZd67cIOEs/8iJGm6"], ["created_at", "2021-08-10 04:50:37.120058"], ["updated_at", "2021-08-10 04:50:37.120058"], ["first_name", "Admin"], ["last_name", "Admins"], ["approved", true], ["role", 2], ["date_of_birth", "1980-01-01"], ["address_id", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sponsor@sponsor.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "sponsor@sponsor.com"], ["encrypted_password", "$2a$12$folMU/34c0S8p0WeF5HkguKx9G8xjJmHnzH9jj5duq45pWyNaiK6a"], ["created_at", "2021-08-10 04:50:37.350778"], ["updated_at", "2021-08-10 04:50:37.350778"], ["first_name", "Spon"], ["last_name", "Sor"], ["approved", true], ["role", 0], ["date_of_birth", "1980-01-01"], ["address_id", 2]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sanctuary@sanctuary.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "sanctuary@sanctuary.com"], ["encrypted_password", "$2a$12$ePWy1wVuWYAedPiGkJyrZ.BmrGChtnHYFQElC0C5OaVhfBSe3rqm2"], ["created_at", "2021-08-10 04:50:37.586263"], ["updated_at", "2021-08-10 04:50:37.586263"], ["first_name", "Sanc"], ["last_name", "Tuary"], ["approved", false], ["role", 1], ["date_of_birth", "1980-01-01"], ["address_id", 2]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Update (1.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "approved" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2021-08-10 04:50:37.589864"], ["approved", true], ["id", 3]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pig"], ["created_at", "2021-08-10 04:50:37.608929"], ["updated_at", "2021-08-10 04:50:37.608929"]]
  [1m[36mTRANSACTION (39.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Cow"], ["created_at", "2021-08-10 04:50:37.654205"], ["updated_at", "2021-08-10 04:50:37.654205"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sheep"], ["created_at", "2021-08-10 04:50:37.661358"], ["updated_at", "2021-08-10 04:50:37.661358"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Chicken"], ["created_at", "2021-08-10 04:50:37.666339"], ["updated_at", "2021-08-10 04:50:37.666339"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Horse"], ["created_at", "2021-08-10 04:50:37.671608"], ["updated_at", "2021-08-10 04:50:37.671608"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Goat"], ["created_at", "2021-08-10 04:50:37.676423"], ["updated_at", "2021-08-10 04:50:37.676423"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Create (0.8ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Ham solo"], ["year_born", 2010], ["weight", 100], ["bio", "Proving pigs can fly"], ["species", "Chonker"], ["sponsor_price", 5000], ["category_id", 1], ["owner_id", 3], ["created_at", "2021-08-10 04:50:37.729340"], ["updated_at", "2021-08-10 04:50:37.729340"]]
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "vz5sqd40x2ms65o6kvjviq11aehd"], ["filename", "pig.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 63070], ["checksum", "90VAk/JgiPplQ/k0FbH5og=="], ["created_at", "2021-08-10 04:50:37.755717"]]
  [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 1], ["blob_id", 1], ["created_at", "2021-08-10 04:50:37.757797"]]
  [1m[36mAnimal Update (0.5ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-10 04:50:37.760300"], ["id", 1]]
  [1m[36mTRANSACTION (40.1ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.6ms) [0m[32mUploaded file to key: vz5sqd40x2ms65o6kvjviq11aehd (checksum: 90VAk/JgiPplQ/k0FbH5og==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8edc99dc-d3e3-475c-aa04-93c2265235e5) to Async(default) with arguments: #<GlobalID:0x00007f8b1ddb88c8 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/1>>
  [1m[36mCategory Load (2.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Create (0.4ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Vladimir mootin"], ["year_born", 2015], ["weight", 120], ["bio", "Theres a MosCOW joke there somewhere"], ["species", "President"], ["sponsor_price", 6000], ["category_id", 2], ["owner_id", 3], ["created_at", "2021-08-10 04:50:37.820622"], ["updated_at", "2021-08-10 04:50:37.820622"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "44ujebmp6lo4xyfzys8bld9v4hl0"], ["filename", "cow.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 85749], ["checksum", "Yugf1sJBNAnlVPyCdAy9SA=="], ["created_at", "2021-08-10 04:50:37.829980"]]
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 2], ["blob_id", 2], ["created_at", "2021-08-10 04:50:37.832760"]]
  [1m[36mAnimal Update (0.6ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-10 04:50:37.834650"], ["id", 2]]
  [1m[36mActiveStorage::Blob Load (1.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8edc99dc-d3e3-475c-aa04-93c2265235e5] Performing ActiveStorage::AnalyzeJob (Job ID: 8edc99dc-d3e3-475c-aa04-93c2265235e5) from Async(default) enqueued at 2021-08-10T04:50:37Z with arguments: #<GlobalID:0x00007f8b1ded5288 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [8edc99dc-d3e3-475c-aa04-93c2265235e5] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: vz5sqd40x2ms65o6kvjviq11aehd[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8edc99dc-d3e3-475c-aa04-93c2265235e5] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [8edc99dc-d3e3-475c-aa04-93c2265235e5]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8edc99dc-d3e3-475c-aa04-93c2265235e5]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (41.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8edc99dc-d3e3-475c-aa04-93c2265235e5]   [1m[36mTRANSACTION (24.1ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8edc99dc-d3e3-475c-aa04-93c2265235e5] Performed ActiveStorage::AnalyzeJob (Job ID: 8edc99dc-d3e3-475c-aa04-93c2265235e5) from Async(default) in 43.04ms
[36m  Disk Storage (3.1ms) [0m[32mUploaded file to key: 44ujebmp6lo4xyfzys8bld9v4hl0 (checksum: Yugf1sJBNAnlVPyCdAy9SA==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a6230ed9-cf00-4ada-bad9-f1057c2e115c) to Async(default) with arguments: #<GlobalID:0x00007f8b1aab1100 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/2>>
  [1m[36mCategory Load (1.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a6230ed9-cf00-4ada-bad9-f1057c2e115c] Performing ActiveStorage::AnalyzeJob (Job ID: a6230ed9-cf00-4ada-bad9-f1057c2e115c) from Async(default) enqueued at 2021-08-10T04:50:37Z with arguments: #<GlobalID:0x00007f8b1dfa7e90 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/2>>
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a6230ed9-cf00-4ada-bad9-f1057c2e115c] [36m  Disk Storage (1.6ms) [0m[34mDownloaded file from key: 44ujebmp6lo4xyfzys8bld9v4hl0[0m
  [1m[36mAnimal Create (0.5ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Meryl sheep"], ["year_born", 2008], ["weight", 80], ["bio", "A Farmous Actress"], ["species", "Floofer"], ["sponsor_price", 10000], ["category_id", 3], ["owner_id", 3], ["created_at", "2021-08-10 04:50:37.891005"], ["updated_at", "2021-08-10 04:50:37.891005"]]
  [1m[36mActiveStorage::Blob Load (2.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a6230ed9-cf00-4ada-bad9-f1057c2e115c] Skipping image analysis because the mini_magick gem isn't installed
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a6230ed9-cf00-4ada-bad9-f1057c2e115c]   [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "2qybkxz86etodh20tjc7g0q6eb0v"], ["filename", "sheep.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 99269], ["checksum", "M/Dwzj+u/kr3gCzmCGfSeg=="], ["created_at", "2021-08-10 04:50:37.903513"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a6230ed9-cf00-4ada-bad9-f1057c2e115c]   [1m[36mActiveStorage::Blob Update (2.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
  [1m[36mActiveStorage::Attachment Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 3], ["blob_id", 3], ["created_at", "2021-08-10 04:50:37.906340"]]
  [1m[36mAnimal Update (0.6ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-10 04:50:37.910083"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a6230ed9-cf00-4ada-bad9-f1057c2e115c]   [1m[36mTRANSACTION (13.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a6230ed9-cf00-4ada-bad9-f1057c2e115c] Performed ActiveStorage::AnalyzeJob (Job ID: a6230ed9-cf00-4ada-bad9-f1057c2e115c) from Async(default) in 32.83ms
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (1.3ms) [0m[32mUploaded file to key: 2qybkxz86etodh20tjc7g0q6eb0v (checksum: M/Dwzj+u/kr3gCzmCGfSeg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: aa62eedf-8d9e-465e-ab93-dc4d1d7d053c) to Async(default) with arguments: #<GlobalID:0x00007f8b17b70cb0 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/3>>
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles"[0m
  [1m[36mActiveStorage::Blob Load (1.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa62eedf-8d9e-465e-ab93-dc4d1d7d053c] Performing ActiveStorage::AnalyzeJob (Job ID: aa62eedf-8d9e-465e-ab93-dc4d1d7d053c) from Async(default) enqueued at 2021-08-10T04:50:37Z with arguments: #<GlobalID:0x00007f8b1b334890 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/3>>
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa62eedf-8d9e-465e-ab93-dc4d1d7d053c] [36m  Disk Storage (1.1ms) [0m[34mDownloaded file from key: 2qybkxz86etodh20tjc7g0q6eb0v[0m
  [1m[36mArticle Create (3.6ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Article 1"], ["body", "This is the article"], ["created_at", "2021-08-10 04:50:37.942021"], ["updated_at", "2021-08-10 04:50:37.942021"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa62eedf-8d9e-465e-ab93-dc4d1d7d053c] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa62eedf-8d9e-465e-ab93-dc4d1d7d053c]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa62eedf-8d9e-465e-ab93-dc4d1d7d053c]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
  [1m[36mTRANSACTION (39.7ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa62eedf-8d9e-465e-ab93-dc4d1d7d053c]   [1m[36mTRANSACTION (37.9ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa62eedf-8d9e-465e-ab93-dc4d1d7d053c] Performed ActiveStorage::AnalyzeJob (Job ID: aa62eedf-8d9e-465e-ab93-dc4d1d7d053c) from Async(default) in 51.22ms
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArticle Create (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Article 2"], ["body", "This is the article"], ["created_at", "2021-08-10 04:50:37.988914"], ["updated_at", "2021-08-10 04:50:37.988914"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArticle Create (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Website Updates"], ["body", "I did a thing to the website"], ["created_at", "2021-08-10 04:50:37.994142"], ["updated_at", "2021-08-10 04:50:37.994142"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Started GET "/" for ::1 at 2021-08-12 00:01:22 +0800
  [1m[35m (4.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#index as HTML
  [1m[36mUser Load (43.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 686)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 4.5ms | Allocations: 1437)
  Rendered layout layouts/application.html.erb (Duration: 188.4ms | Allocations: 21869)
Completed 200 OK in 380ms (Views: 196.4ms | ActiveRecord: 105.9ms | Allocations: 35424)


Started GET "/users/sign_up?role=sanctuary" for ::1 at 2021-08-12 00:02:12 +0800
Processing by Users::RegistrationsController#new as HTML
  Parameters: {"role"=>"sanctuary"}
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 1.0ms | Allocations: 219)
  Rendered devise/shared/_links.html.erb (Duration: 1.4ms | Allocations: 498)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 83.0ms | Allocations: 27539)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.2ms | Allocations: 881)
  Rendered layout layouts/application.html.erb (Duration: 122.5ms | Allocations: 36515)
Completed 200 OK in 144ms (Views: 122.0ms | ActiveRecord: 7.4ms | Allocations: 39528)


Started GET "/users/sign_in" for ::1 at 2021-08-12 00:02:34 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 136)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.9ms | Allocations: 1842)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.6ms | Allocations: 878)
  Rendered layout layouts/application.html.erb (Duration: 36.8ms | Allocations: 10984)
Completed 200 OK in 44ms (Views: 40.8ms | ActiveRecord: 0.0ms | Allocations: 12756)


Started POST "/users/sign_in" for ::1 at 2021-08-12 00:02:54 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"sponsor@sponsor.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (41.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "sponsor@sponsor.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 290ms (ActiveRecord: 41.9ms | Allocations: 2675)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"sponsor@sponsor.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | Allocations: 70)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 970)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.7ms | Allocations: 731)
  Rendered layout layouts/application.html.erb (Duration: 32.6ms | Allocations: 9819)
Completed 200 OK in 258ms (Views: 33.6ms | ActiveRecord: 0.0ms | Allocations: 10635)


Started POST "/users/sign_in" for ::1 at 2021-08-12 00:03:07 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 250ms (ActiveRecord: 1.2ms | Allocations: 4083)


Started GET "/" for ::1 at 2021-08-12 00:03:08 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 1225)


Started GET "/home" for ::1 at 2021-08-12 00:03:08 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (48.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (47.0ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (41.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 204.6ms | Allocations: 19211)
  Rendered pages/home.html.erb within layouts/application (Duration: 207.0ms | Allocations: 20155)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.9ms | Allocations: 867)
  Rendered layout layouts/application.html.erb (Duration: 229.2ms | Allocations: 29326)
Completed 200 OK in 368ms (Views: 180.3ms | ActiveRecord: 151.3ms | Allocations: 44517)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a/sheep.jpg" for ::1 at 2021-08-12 00:03:08 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a", "filename"=>"sheep"}
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (3.3ms) [0m[34mGenerated URL for file at key: 2qybkxz86etodh20tjc7g0q6eb0v (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhNbkY1WW10NGVqZzJaWFJ2WkdneU1IUnFZemRuTUhFMlpXSXdkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTExVDE2OjA4OjA4LjU2NVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--cab0c7372a1104710d3364d5d0a41b1b5ce7e6f6/sheep.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhNbkY1WW10NGVqZzJaWFJ2WkdneU1IUnFZemRuTUhFMlpXSXdkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTExVDE2OjA4OjA4LjU2NVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--cab0c7372a1104710d3364d5d0a41b1b5ce7e6f6/sheep.jpg
Completed 302 Found in 9ms (ActiveRecord: 0.3ms | Allocations: 2395)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhNbkY1WW10NGVqZzJaWFJ2WkdneU1IUnFZemRuTUhFMlpXSXdkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTExVDE2OjA4OjA4LjU2NVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--cab0c7372a1104710d3364d5d0a41b1b5ce7e6f6/sheep.jpg" for ::1 at 2021-08-12 00:03:08 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 200 OK in 3ms (ActiveRecord: 0.0ms | Allocations: 531)


Started GET "/admin-dashboard" for ::1 at 2021-08-12 00:03:25 +0800
Processing by PagesController#admin as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pages/admin.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", false]]
  ↳ app/views/pages/admin.html.erb:9
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", true]]
  ↳ app/views/pages/admin.html.erb:23
  Rendered pages/admin.html.erb within layouts/application (Duration: 6.2ms | Allocations: 1764)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 3.1ms | Allocations: 826)
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | Allocations: 10874)
Completed 200 OK in 26ms (Views: 20.8ms | ActiveRecord: 0.8ms | Allocations: 12865)


Started GET "/animals/new" for ::1 at 2021-08-12 00:03:41 +0800
Processing by AnimalsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering animals/new.html.erb within layouts/application
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/_form.html.erb:46:in `map'
  Rendered animals/_form.html.erb (Duration: 20.6ms | Allocations: 6252)
  Rendered animals/new.html.erb within layouts/application (Duration: 22.2ms | Allocations: 6682)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 857)
  Rendered layout layouts/application.html.erb (Duration: 34.5ms | Allocations: 15665)
Completed 200 OK in 42ms (Views: 32.8ms | ActiveRecord: 3.6ms | Allocations: 19302)


Started GET "/animals" for ::1 at 2021-08-12 00:04:01 +0800
Processing by AnimalsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.0ms | Allocations: 1958)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.2ms | Allocations: 1799)
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 6.2ms | Allocations: 1788)
  Rendered animals/index.html.erb within layouts/application (Duration: 37.8ms | Allocations: 17251)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 3.2ms | Allocations: 1606)
  Rendered layout layouts/application.html.erb (Duration: 56.1ms | Allocations: 27130)
Completed 200 OK in 58ms (Views: 54.2ms | ActiveRecord: 2.4ms | Allocations: 27970)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19/cow.jpg" for ::1 at 2021-08-12 00:04:01 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19", "filename"=>"cow"}
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee/pig.jpg" for ::1 at 2021-08-12 00:04:01 +0800
  [1m[36mActiveStorage::Blob Load (1.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee", "filename"=>"pig"}
[36m  Disk Storage (0.4ms) [0m[34mGenerated URL for file at key: 44ujebmp6lo4xyfzys8bld9v4hl0 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhORFIxYW1WaWJYQTJiRzgwZUhsbWVubHpPR0pzWkRsMk5HaHNNQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MDk6MDEuNjA1WiIsInB1ciI6ImJsb2Jfa2V5In19--9c8a13cd0b5cf781fac62a4b60e07b4e9b1b266d/cow.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhORFIxYW1WaWJYQTJiRzgwZUhsbWVubHpPR0pzWkRsMk5HaHNNQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MDk6MDEuNjA1WiIsInB1ciI6ImJsb2Jfa2V5In19--9c8a13cd0b5cf781fac62a4b60e07b4e9b1b266d/cow.jpg
Completed 302 Found in 8ms (ActiveRecord: 1.8ms | Allocations: 2972)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhORFIxYW1WaWJYQTJiRzgwZUhsbWVubHpPR0pzWkRsMk5HaHNNQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MDk6MDEuNjA1WiIsInB1ciI6ImJsb2Jfa2V5In19--9c8a13cd0b5cf781fac62a4b60e07b4e9b1b266d/cow.jpg" for ::1 at 2021-08-12 00:04:01 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 373)


  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (0.4ms) [0m[34mGenerated URL for file at key: vz5sqd40x2ms65o6kvjviq11aehd (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkbm8xYzNGa05EQjRNbTF6TmpWdk5tdDJhblpwY1RFeFlXVm9aQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MDk6MDEuNzE2WiIsInB1ciI6ImJsb2Jfa2V5In19--8889c305676295aad9b9e5344f82899720b1425b/pig.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkbm8xYzNGa05EQjRNbTF6TmpWdk5tdDJhblpwY1RFeFlXVm9aQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MDk6MDEuNzE2WiIsInB1ciI6ImJsb2Jfa2V5In19--8889c305676295aad9b9e5344f82899720b1425b/pig.jpg
Completed 302 Found in 112ms (ActiveRecord: 7.2ms | Allocations: 6126)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkbm8xYzNGa05EQjRNbTF6TmpWdk5tdDJhblpwY1RFeFlXVm9aQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MDk6MDEuNzE2WiIsInB1ciI6ImJsb2Jfa2V5In19--8889c305676295aad9b9e5344f82899720b1425b/pig.jpg" for ::1 at 2021-08-12 00:04:01 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 368)


Started GET "/animals/2" for ::1 at 2021-08-12 00:04:07 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAnimal Load (2.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 2]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (1.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (42.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.5ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mSponsorship Load (0.6ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:81
  Rendered animals/show.html.erb within layouts/application (Duration: 83.7ms | Allocations: 13147)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 859)
  Rendered layout layouts/application.html.erb (Duration: 95.7ms | Allocations: 22280)
Completed 200 OK in 117ms (Views: 48.1ms | ActiveRecord: 51.9ms | Allocations: 26949)


Started DELETE "/users/sign_out" for ::1 at 2021-08-12 00:04:32 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 18ms (ActiveRecord: 0.2ms | Allocations: 4872)


Started GET "/" for ::1 at 2021-08-12 00:04:32 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 145)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.6ms | Allocations: 806)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 8791)
Completed 200 OK in 18ms (Views: 16.7ms | ActiveRecord: 0.0ms | Allocations: 9476)


Started GET "/users/sign_in" for ::1 at 2021-08-12 00:04:37 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 68)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 806)
  Rendered layout layouts/application.html.erb (Duration: 21.7ms | Allocations: 9725)
Completed 200 OK in 24ms (Views: 22.6ms | ActiveRecord: 0.0ms | Allocations: 10483)


Started POST "/users/sign_in" for ::1 at 2021-08-12 00:04:44 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"sponsor@sponsor.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "sponsor@sponsor.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 323ms (ActiveRecord: 0.4ms | Allocations: 2504)


Started GET "/" for ::1 at 2021-08-12 00:04:44 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 1050)


Started GET "/home" for ::1 at 2021-08-12 00:04:44 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.7ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.2ms | Allocations: 1841)
  Rendered pages/home.html.erb within layouts/application (Duration: 5.9ms | Allocations: 2126)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 790)
  Rendered layout layouts/application.html.erb (Duration: 25.0ms | Allocations: 10932)
Completed 200 OK in 33ms (Views: 25.1ms | ActiveRecord: 2.2ms | Allocations: 13959)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhNbkY1WW10NGVqZzJaWFJ2WkdneU1IUnFZemRuTUhFMlpXSXdkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTExVDE2OjA4OjA4LjU2NVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--cab0c7372a1104710d3364d5d0a41b1b5ce7e6f6/sheep.jpg" for ::1 at 2021-08-12 00:04:44 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 365)


Started GET "/animals" for ::1 at 2021-08-12 00:04:48 +0800
Processing by AnimalsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (1.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 7.9ms | Allocations: 1794)
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.0ms | Allocations: 1798)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.2ms | Allocations: 1788)
  Rendered animals/index.html.erb within layouts/application (Duration: 30.0ms | Allocations: 16147)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 4.0ms | Allocations: 1524)
  Rendered layout layouts/application.html.erb (Duration: 56.9ms | Allocations: 25577)
Completed 200 OK in 60ms (Views: 54.4ms | ActiveRecord: 4.0ms | Allocations: 26161)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkbm8xYzNGa05EQjRNbTF6TmpWdk5tdDJhblpwY1RFeFlXVm9aQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MDk6MDEuNzE2WiIsInB1ciI6ImJsb2Jfa2V5In19--8889c305676295aad9b9e5344f82899720b1425b/pig.jpg" for ::1 at 2021-08-12 00:04:48 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhORFIxYW1WaWJYQTJiRzgwZUhsbWVubHpPR0pzWkRsMk5HaHNNQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MDk6MDEuNjA1WiIsInB1ciI6ImJsb2Jfa2V5In19--9c8a13cd0b5cf781fac62a4b60e07b4e9b1b266d/cow.jpg" for ::1 at 2021-08-12 00:04:48 +0800
Processing by ActiveStorage::DiskController#show as JPEG
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 666)


Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 397)


Started GET "/animals/2" for ::1 at 2021-08-12 00:04:52 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 2]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.3ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 2], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:13:in `user_is_animal_sponsor'
  Rendered animals/show.html.erb within layouts/application (Duration: 15.2ms | Allocations: 5175)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.3ms | Allocations: 792)
  Rendered layout layouts/application.html.erb (Duration: 35.6ms | Allocations: 13962)
Completed 200 OK in 41ms (Views: 34.2ms | ActiveRecord: 2.5ms | Allocations: 16560)


Started GET "/animals/1" for ::1 at 2021-08-12 00:05:00 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.2ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 1], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:13:in `user_is_animal_sponsor'
  Rendered animals/show.html.erb within layouts/application (Duration: 11.5ms | Allocations: 5160)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.7ms | Allocations: 792)
  Rendered layout layouts/application.html.erb (Duration: 24.7ms | Allocations: 13947)
Completed 200 OK in 33ms (Views: 23.9ms | ActiveRecord: 2.2ms | Allocations: 16542)


Started POST "/payments" for ::1 at 2021-08-12 00:09:57 +0800
Processing by PaymentsController#create_payment_intent as JS
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:9:in `create_payment_intent'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:13:in `create_payment_intent'
  Rendering payments/create_payment_intent.js.erb
  Rendered payments/create_payment_intent.js.erb (Duration: 3.7ms | Allocations: 143)
Completed 200 OK in 1099ms (Views: 26.4ms | ActiveRecord: 0.7ms | Allocations: 6861)


Started POST "/payments/webhook" for ::1 at 2021-08-12 00:10:17 +0800
Processing by PaymentsController#webhook as XML
  Parameters: {"id"=>"evt_1JNK0TIeFWwPeKyVlPRlgrve", "object"=>"event", "api_version"=>"2020-08-27", "created"=>1628698217, "data"=>{"object"=>{"id"=>"cs_test_a15xebZWFIBkUhEmPmi7lLN5Sl6pxnByYsuVzJMJJZ6se8bwFgFvkrXaNN", "object"=>"checkout.session", "allow_promotion_codes"=>nil, "amount_subtotal"=>5000, "amount_total"=>5000, "automatic_tax"=>{"enabled"=>false, "status"=>nil}, "billing_address_collection"=>nil, "cancel_url"=>"http://localhost:3000//animals", "client_reference_id"=>nil, "currency"=>"aud", "customer"=>"cus_K1MjzRyey9cppw", "customer_details"=>{"email"=>"sponsor@sponsor.com", "tax_exempt"=>"none", "tax_ids"=>[]}, "customer_email"=>"sponsor@sponsor.com", "livemode"=>false, "locale"=>nil, "metadata"=>{}, "mode"=>"payment", "payment_intent"=>"pi_3JNK0AIeFWwPeKyV1DvDbLLA", "payment_method_options"=>{}, "payment_method_types"=>["card"], "payment_status"=>"paid", "setup_intent"=>nil, "shipping"=>nil, "shipping_address_collection"=>nil, "submit_type"=>nil, "subscription"=>nil, "success_url"=>"http://localhost:3000//payments/success?name=Ham solo", "total_details"=>{"amount_discount"=>0, "amount_shipping"=>0, "amount_tax"=>0}, "url"=>nil}}, "livemode"=>false, "pending_webhooks"=>1, "request"=>{"id"=>nil, "idempotency_key"=>"[FILTERED]"}, "type"=>"checkout.session.completed", "payment"=>{"id"=>"evt_1JNK0TIeFWwPeKyVlPRlgrve", "object"=>"event", "api_version"=>"2020-08-27", "created"=>1628698217, "data"=>{"object"=>{"id"=>"cs_test_a15xebZWFIBkUhEmPmi7lLN5Sl6pxnByYsuVzJMJJZ6se8bwFgFvkrXaNN", "object"=>"checkout.session", "allow_promotion_codes"=>nil, "amount_subtotal"=>5000, "amount_total"=>5000, "automatic_tax"=>{"enabled"=>false, "status"=>nil}, "billing_address_collection"=>nil, "cancel_url"=>"http://localhost:3000//animals", "client_reference_id"=>nil, "currency"=>"aud", "customer"=>"cus_K1MjzRyey9cppw", "customer_details"=>{"email"=>"sponsor@sponsor.com", "tax_exempt"=>"none", "tax_ids"=>[]}, "customer_email"=>"sponsor@sponsor.com", "livemode"=>false, "locale"=>nil, "metadata"=>{}, "mode"=>"payment", "payment_intent"=>"pi_3JNK0AIeFWwPeKyV1DvDbLLA", "payment_method_options"=>{}, "payment_method_types"=>["card"], "payment_status"=>"paid", "setup_intent"=>nil, "shipping"=>nil, "shipping_address_collection"=>nil, "submit_type"=>nil, "subscription"=>nil, "success_url"=>"http://localhost:3000//payments/success?name=Ham solo", "total_details"=>{"amount_discount"=>0, "amount_shipping"=>0, "amount_tax"=>0}, "url"=>nil}}, "livemode"=>false, "pending_webhooks"=>1, "request"=>{"id"=>nil, "idempotency_key"=>"[FILTERED]"}, "type"=>"checkout.session.completed"}}
  [1m[36mAnimal Load (0.6ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:39:in `webhook'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:40:in `webhook'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:40:in `webhook'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:40:in `webhook'
  [1m[36mAnimal Update (51.7ms)[0m  [1m[33mUPDATE "animals" SET "sponsored" = $1, "updated_at" = $2 WHERE "animals"."id" = $3[0m  [["sponsored", true], ["updated_at", "2021-08-11 16:10:18.780540"], ["id", 1]]
  ↳ app/controllers/payments_controller.rb:40:in `webhook'
  [1m[36mTRANSACTION (40.8ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:40:in `webhook'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mSponsorship Create (11.0ms)[0m  [1m[32mINSERT INTO "sponsorships" ("receipt", "animal_id", "owner_id", "sponsor_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["receipt", "https://pay.stripe.com/receipts/acct_1JKEzmIeFWwPeKyV/ch_3JNK0AIeFWwPeKyV1FDKlp7H/rcpt_K1Mjxvcfz9Ucn5afV0qrPFXKLFMVWmM"], ["animal_id", 1], ["owner_id", 3], ["sponsor_id", 2], ["created_at", "2021-08-11 16:10:18.907900"], ["updated_at", "2021-08-11 16:10:18.907900"]]
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:41:in `webhook'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/payments_controller.rb:42:in `webhook'
  [1m[36mSponsorship Load (0.2ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/payments_controller.rb:42:in `webhook'
  [1m[36mChat Create (45.6ms)[0m  [1m[32mINSERT INTO "chats" ("sponsorship_id", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["sponsorship_id", 1], ["created_at", "2021-08-11 16:10:18.941107"], ["updated_at", "2021-08-11 16:10:18.941107"]]
  ↳ app/controllers/payments_controller.rb:42:in `webhook'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/payments_controller.rb:42:in `webhook'
No template found for PaymentsController#webhook, rendering head :no_content
Completed 204 No Content in 1037ms (ActiveRecord: 164.7ms | Allocations: 28092)


Started GET "//payments/success?name=Ham%20solo" for ::1 at 2021-08-12 00:10:19 +0800
Processing by PaymentsController#success as HTML
  Parameters: {"name"=>"Ham solo"}
  Rendering layout layouts/application.html.erb
  Rendering payments/success.html.erb within layouts/application
  Rendered payments/success.html.erb within layouts/application (Duration: 6.7ms | Allocations: 202)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 6.9ms | Allocations: 1598)
  Rendered layout layouts/application.html.erb (Duration: 50.3ms | Allocations: 10160)
Completed 200 OK in 55ms (Views: 52.7ms | ActiveRecord: 0.5ms | Allocations: 11242)


Started GET "/account" for ::1 at 2021-08-12 00:10:21 +0800
Processing by PagesController#account as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mSponsorship Load (0.3ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."sponsor_id" = $1[0m  [["sponsor_id", 2]]
  ↳ app/controllers/pages_controller.rb:24:in `map'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:24:in `block in account'
  Rendering layout layouts/application.html.erb
  Rendering pages/account.html.erb within layouts/application
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.4ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.4ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.5ms | Allocations: 1828)
  Rendered pages/account.html.erb within layouts/application (Duration: 15.6ms | Allocations: 4224)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 797)
  Rendered layout layouts/application.html.erb (Duration: 29.6ms | Allocations: 13231)
Completed 200 OK in 52ms (Views: 28.4ms | ActiveRecord: 2.5ms | Allocations: 16103)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee/pig.jpg" for ::1 at 2021-08-12 00:10:21 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee", "filename"=>"pig"}
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (1.6ms) [0m[34mGenerated URL for file at key: vz5sqd40x2ms65o6kvjviq11aehd (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkbm8xYzNGa05EQjRNbTF6TmpWdk5tdDJhblpwY1RFeFlXVm9aQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTU6MjEuMTIzWiIsInB1ciI6ImJsb2Jfa2V5In19--561a0e123049ca00ee2f803cbdd9b087526d665d/pig.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkbm8xYzNGa05EQjRNbTF6TmpWdk5tdDJhblpwY1RFeFlXVm9aQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTU6MjEuMTIzWiIsInB1ciI6ImJsb2Jfa2V5In19--561a0e123049ca00ee2f803cbdd9b087526d665d/pig.jpg
Completed 302 Found in 9ms (ActiveRecord: 0.2ms | Allocations: 1506)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkbm8xYzNGa05EQjRNbTF6TmpWdk5tdDJhblpwY1RFeFlXVm9aQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTU6MjEuMTIzWiIsInB1ciI6ImJsb2Jfa2V5In19--561a0e123049ca00ee2f803cbdd9b087526d665d/pig.jpg" for ::1 at 2021-08-12 00:10:21 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 375)


Started GET "/animals/1" for ::1 at 2021-08-12 00:10:22 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.4ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (1.3ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.9ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  Rendered animals/show.html.erb within layouts/application (Duration: 66.5ms | Allocations: 11621)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.2ms | Allocations: 810)
  Rendered layout layouts/application.html.erb (Duration: 94.7ms | Allocations: 20486)
Completed 200 OK in 118ms (Views: 87.6ms | ActiveRecord: 9.3ms | Allocations: 23101)


Started POST "/animals/new_message/1" for ::1 at 2021-08-12 00:10:30 +0800
Processing by AnimalsController#new_message as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>"hello\r\n", "commit"=>"Send Message", "id"=>"1"}
  [1m[36mAnimal Load (3.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mSponsorship Load (0.2ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mMessage Create (4.8ms)[0m  [1m[32mINSERT INTO "messages" ("chat_id", "sender_id", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["chat_id", 1], ["sender_id", 2], ["body", "hello\r\n"], ["created_at", "2021-08-11 16:10:30.173736"], ["updated_at", "2021-08-11 16:10:30.173736"]]
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:99:in `new_message'
Redirected to http://localhost:3000/animals/1
Completed 302 Found in 44ms (ActiveRecord: 12.9ms | Allocations: 11643)


Started GET "/animals/1" for ::1 at 2021-08-12 00:10:30 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.3ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.4ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.3ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 23.1ms | Allocations: 9794)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 789)
  Rendered layout layouts/application.html.erb (Duration: 37.7ms | Allocations: 18479)
Completed 200 OK in 46ms (Views: 35.3ms | ActiveRecord: 3.5ms | Allocations: 21075)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkbm8xYzNGa05EQjRNbTF6TmpWdk5tdDJhblpwY1RFeFlXVm9aQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTU6MjEuMTIzWiIsInB1ciI6ImJsb2Jfa2V5In19--561a0e123049ca00ee2f803cbdd9b087526d665d/pig.jpg" for ::1 at 2021-08-12 00:10:30 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 375)


Started DELETE "/users/sign_out" for ::1 at 2021-08-12 00:10:41 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms | Allocations: 1881)


Started GET "/" for ::1 at 2021-08-12 00:10:41 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.2ms | Allocations: 125)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.4ms | Allocations: 787)
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 8620)
Completed 200 OK in 16ms (Views: 14.9ms | ActiveRecord: 0.0ms | Allocations: 9226)


Started GET "/users/sign_in" for ::1 at 2021-08-12 00:10:42 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 68)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 919)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.6ms | Allocations: 806)
  Rendered layout layouts/application.html.erb (Duration: 31.7ms | Allocations: 9707)
Completed 200 OK in 34ms (Views: 32.4ms | ActiveRecord: 0.0ms | Allocations: 10451)


Started POST "/users/sign_in" for ::1 at 2021-08-12 00:10:47 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"sanctuary@sanctuary.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "sanctuary@sanctuary.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 229ms (ActiveRecord: 0.3ms | Allocations: 2356)


Started GET "/" for ::1 at 2021-08-12 00:10:48 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1029)


Started GET "/home" for ::1 at 2021-08-12 00:10:48 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 6.3ms | Allocations: 1787)
  Rendered pages/home.html.erb within layouts/application (Duration: 7.1ms | Allocations: 2068)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.5ms | Allocations: 790)
  Rendered layout layouts/application.html.erb (Duration: 24.0ms | Allocations: 10877)
Completed 200 OK in 31ms (Views: 24.1ms | ActiveRecord: 1.3ms | Allocations: 13894)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a/sheep.jpg" for ::1 at 2021-08-12 00:10:48 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a", "filename"=>"sheep"}
  [1m[36mActiveStorage::Blob Load (1.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (0.7ms) [0m[34mGenerated URL for file at key: 2qybkxz86etodh20tjc7g0q6eb0v (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhNbkY1WW10NGVqZzJaWFJ2WkdneU1IUnFZemRuTUhFMlpXSXdkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTExVDE2OjE1OjQ4LjM0NloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--c557f9bdb0a14751b89d899f5625ef42c6975e46/sheep.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhNbkY1WW10NGVqZzJaWFJ2WkdneU1IUnFZemRuTUhFMlpXSXdkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTExVDE2OjE1OjQ4LjM0NloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--c557f9bdb0a14751b89d899f5625ef42c6975e46/sheep.jpg
Completed 302 Found in 25ms (ActiveRecord: 1.8ms | Allocations: 1474)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhNbkY1WW10NGVqZzJaWFJ2WkdneU1IUnFZemRuTUhFMlpXSXdkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTExVDE2OjE1OjQ4LjM0NloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--c557f9bdb0a14751b89d899f5625ef42c6975e46/sheep.jpg" for ::1 at 2021-08-12 00:10:48 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 200 OK in 12ms (ActiveRecord: 0.0ms | Allocations: 369)


Started GET "/animals" for ::1 at 2021-08-12 00:11:07 +0800
Processing by AnimalsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 21.9ms | Allocations: 1795)
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 7.3ms | Allocations: 1799)
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 7.2ms | Allocations: 1788)
  Rendered animals/index.html.erb within layouts/application (Duration: 51.6ms | Allocations: 16146)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 4.3ms | Allocations: 1528)
  Rendered layout layouts/application.html.erb (Duration: 96.9ms | Allocations: 25782)
Completed 200 OK in 100ms (Views: 94.2ms | ActiveRecord: 3.5ms | Allocations: 26363)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19/cow.jpg" for ::1 at 2021-08-12 00:11:07 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19", "filename"=>"cow"}
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (0.7ms) [0m[34mGenerated URL for file at key: 44ujebmp6lo4xyfzys8bld9v4hl0 (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhORFIxYW1WaWJYQTJiRzgwZUhsbWVubHpPR0pzWkRsMk5HaHNNQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6MDcuMjc3WiIsInB1ciI6ImJsb2Jfa2V5In19--cfbb1ddb47da582329da56982898d0ca0d3cb406/cow.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhORFIxYW1WaWJYQTJiRzgwZUhsbWVubHpPR0pzWkRsMk5HaHNNQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6MDcuMjc3WiIsInB1ciI6ImJsb2Jfa2V5In19--cfbb1ddb47da582329da56982898d0ca0d3cb406/cow.jpg
Completed 302 Found in 5ms (ActiveRecord: 0.2ms | Allocations: 1466)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkbm8xYzNGa05EQjRNbTF6TmpWdk5tdDJhblpwY1RFeFlXVm9aQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTU6MjEuMTIzWiIsInB1ciI6ImJsb2Jfa2V5In19--561a0e123049ca00ee2f803cbdd9b087526d665d/pig.jpg" for ::1 at 2021-08-12 00:11:07 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 365)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhORFIxYW1WaWJYQTJiRzgwZUhsbWVubHpPR0pzWkRsMk5HaHNNQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6MDcuMjc3WiIsInB1ciI6ImJsb2Jfa2V5In19--cfbb1ddb47da582329da56982898d0ca0d3cb406/cow.jpg" for ::1 at 2021-08-12 00:11:07 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 362)


Started GET "/animals/1" for ::1 at 2021-08-12 00:11:09 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAnimal Load (0.8ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.2ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 27.3ms | Allocations: 10793)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.6ms | Allocations: 791)
  Rendered layout layouts/application.html.erb (Duration: 42.8ms | Allocations: 19680)
Completed 200 OK in 55ms (Views: 41.0ms | ActiveRecord: 3.6ms | Allocations: 22264)


Started POST "/animals/media/1" for ::1 at 2021-08-12 00:11:18 +0800
Processing by AnimalsController#media_add as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "media"=>[#<ActionDispatch::Http::UploadedFile:0x00007fe7d9db8170 @tempfile=#<Tempfile:/var/folders/g1/w_b947c941n8tclr4gvh68d00000gn/T/RackMultipart20210812-53050-8l3242.jpg>, @original_filename="med1.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"media[]\"; filename=\"med1.jpg\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fe7d9db8030 @tempfile=#<Tempfile:/var/folders/g1/w_b947c941n8tclr4gvh68d00000gn/T/RackMultipart20210812-53050-y7465a.jpg>, @original_filename="med2.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"media[]\"; filename=\"med2.jpg\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fe7d9db3fa8 @tempfile=#<Tempfile:/var/folders/g1/w_b947c941n8tclr4gvh68d00000gn/T/RackMultipart20210812-53050-chcas2.jpg>, @original_filename="med3.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"media[]\"; filename=\"med3.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"Add Photos", "id"=>"1"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mActiveStorage::Blob Load (42.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Blob Create (23.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "tvb7n3ub2q07920nrrc5264izgco"], ["filename", "med1.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 143104], ["checksum", "ayEpTqhmjphH8eNK9Mvs6w=="], ["created_at", "2021-08-11 16:11:18.266884"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Attachment Create (1.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "media"], ["record_type", "Animal"], ["record_id", 1], ["blob_id", 4], ["created_at", "2021-08-11 16:11:18.293484"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mAnimal Update (0.4ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-11 16:11:18.297062"], ["id", 1]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[36m  Disk Storage (3.5ms) [0m[32mUploaded file to key: tvb7n3ub2q07920nrrc5264izgco (checksum: ayEpTqhmjphH8eNK9Mvs6w==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a1ec09dd-f19f-4916-8a4f-2b4fb11a7d39) to Async(default) with arguments: #<GlobalID:0x00007fe7d2eebd78 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/4>>
  [1m[36mActiveStorage::Blob Load (5.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "9mx0oph7frlmyofdmzyvjwkcuxbf"], ["filename", "med2.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 41610], ["checksum", "N8HIRAdfwY9mBxXx6aqR4A=="], ["created_at", "2021-08-11 16:11:18.323772"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "media"], ["record_type", "Animal"], ["record_id", 1], ["blob_id", 5], ["created_at", "2021-08-11 16:11:18.329108"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mAnimal Update (0.3ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-11 16:11:18.331013"], ["id", 1]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mTRANSACTION (79.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[36m  Disk Storage (1.9ms) [0m[32mUploaded file to key: 9mx0oph7frlmyofdmzyvjwkcuxbf (checksum: N8HIRAdfwY9mBxXx6aqR4A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: aa165147-fa49-405e-ae3f-771f03908cc4) to Async(default) with arguments: #<GlobalID:0x00007fe7d2f83c18 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/5>>
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "wzugtv4y7hf3pt5io9o8zwzndtvo"], ["filename", "med3.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 54333], ["checksum", "K2oKH6jg+b7kR3qC5cPlSg=="], ["created_at", "2021-08-11 16:11:18.428836"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Blob Load (2.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a1ec09dd-f19f-4916-8a4f-2b4fb11a7d39] Performing ActiveStorage::AnalyzeJob (Job ID: a1ec09dd-f19f-4916-8a4f-2b4fb11a7d39) from Async(default) enqueued at 2021-08-11T16:11:18Z with arguments: #<GlobalID:0x00007fe7d6bcdc50 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/4>>
  [1m[36mActiveStorage::Attachment Create (4.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "media"], ["record_type", "Animal"], ["record_id", 1], ["blob_id", 6], ["created_at", "2021-08-11 16:11:18.434266"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [a1ec09dd-f19f-4916-8a4f-2b4fb11a7d39] [36m  Disk Storage (1.9ms) [0m[34mDownloaded file from key: tvb7n3ub2q07920nrrc5264izgco[0m
  [1m[36mAnimal Update (1.0ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-11 16:11:18.440708"], ["id", 1]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mTRANSACTION (43.8ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a1ec09dd-f19f-4916-8a4f-2b4fb11a7d39] Skipping image analysis because the mini_magick gem isn't installed
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [a1ec09dd-f19f-4916-8a4f-2b4fb11a7d39]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveStorage::Blob Load (1.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa165147-fa49-405e-ae3f-771f03908cc4] Performing ActiveStorage::AnalyzeJob (Job ID: aa165147-fa49-405e-ae3f-771f03908cc4) from Async(default) enqueued at 2021-08-11T16:11:18Z with arguments: #<GlobalID:0x00007fe7d2fd6940 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/5>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [a1ec09dd-f19f-4916-8a4f-2b4fb11a7d39]   [1m[36mActiveStorage::Blob Update (1.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 4]]
[36m  Disk Storage (5.3ms) [0m[32mUploaded file to key: wzugtv4y7hf3pt5io9o8zwzndtvo (checksum: K2oKH6jg+b7kR3qC5cPlSg==)[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa165147-fa49-405e-ae3f-771f03908cc4] [36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: 9mx0oph7frlmyofdmzyvjwkcuxbf[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 31594137-eb3e-4908-8059-e0e9c54bdcca) to Async(default) with arguments: #<GlobalID:0x00007fe7d2fef2d8 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/6>>
Redirected to http://localhost:3000/animals/1
Completed 302 Found in 319ms (ActiveRecord: 206.6ms | Allocations: 39806)


[ActiveJob] [ActiveStorage::AnalyzeJob] [aa165147-fa49-405e-ae3f-771f03908cc4] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa165147-fa49-405e-ae3f-771f03908cc4]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa165147-fa49-405e-ae3f-771f03908cc4]   [1m[36mActiveStorage::Blob Update (0.9ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 5]]
Started GET "/animals/1" for ::1 at 2021-08-12 00:11:18 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
[ActiveJob] [ActiveStorage::AnalyzeJob] [a1ec09dd-f19f-4916-8a4f-2b4fb11a7d39]   [1m[36mTRANSACTION (34.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a1ec09dd-f19f-4916-8a4f-2b4fb11a7d39] Performed ActiveStorage::AnalyzeJob (Job ID: a1ec09dd-f19f-4916-8a4f-2b4fb11a7d39) from Async(default) in 92.14ms
  [1m[36mSponsorship Load (0.4ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa165147-fa49-405e-ae3f-771f03908cc4]   [1m[36mTRANSACTION (19.5ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa165147-fa49-405e-ae3f-771f03908cc4] Performed ActiveStorage::AnalyzeJob (Job ID: aa165147-fa49-405e-ae3f-771f03908cc4) from Async(default) in 42.35ms
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.2ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [31594137-eb3e-4908-8059-e0e9c54bdcca] Performing ActiveStorage::AnalyzeJob (Job ID: 31594137-eb3e-4908-8059-e0e9c54bdcca) from Async(default) enqueued at 2021-08-11T16:11:18Z with arguments: #<GlobalID:0x00007fe7d6458e98 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/6>>
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 40.9ms | Allocations: 17807)
[ActiveJob] [ActiveStorage::AnalyzeJob] [31594137-eb3e-4908-8059-e0e9c54bdcca] [36m  Disk Storage (0.6ms) [0m[34mDownloaded file from key: wzugtv4y7hf3pt5io9o8zwzndtvo[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [31594137-eb3e-4908-8059-e0e9c54bdcca] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [31594137-eb3e-4908-8059-e0e9c54bdcca]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [31594137-eb3e-4908-8059-e0e9c54bdcca]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 6]]
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.3ms | Allocations: 801)
  Rendered layout layouts/application.html.erb (Duration: 62.6ms | Allocations: 29320)
Completed 200 OK in 68ms (Views: 56.1ms | ActiveRecord: 7.4ms | Allocations: 32001)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--f29baae4a4fcf412c037bc80af8a2603fdd7304d/med1.jpg" for ::1 at 2021-08-12 00:11:18 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--f29baae4a4fcf412c037bc80af8a2603fdd7304d", "filename"=>"med1"}
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--a17d47673b515a0c9d9d42d4f0b1d87395f9f0bb/med2.jpg" for ::1 at 2021-08-12 00:11:18 +0800
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--194d65c44bdc2ffe6fe6670d79304c31265d073c/med3.jpg" for ::1 at 2021-08-12 00:11:18 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--194d65c44bdc2ffe6fe6670d79304c31265d073c", "filename"=>"med3"}
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--a17d47673b515a0c9d9d42d4f0b1d87395f9f0bb", "filename"=>"med2"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [31594137-eb3e-4908-8059-e0e9c54bdcca]   [1m[36mTRANSACTION (97.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [31594137-eb3e-4908-8059-e0e9c54bdcca] Performed ActiveStorage::AnalyzeJob (Job ID: 31594137-eb3e-4908-8059-e0e9c54bdcca) from Async(default) in 111.08ms
  [1m[36mActiveStorage::Blob Load (3.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[36m  Disk Storage (0.6ms) [0m[34mGenerated URL for file at key: tvb7n3ub2q07920nrrc5264izgco (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFppTjI0emRXSXljVEEzT1RJd2JuSnlZelV5TmpScGVtZGpid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpERXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXhMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6MTguNjY5WiIsInB1ciI6ImJsb2Jfa2V5In19--88ba7214100bbffcb18491ac679864eccf7a993f/med1.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFppTjI0emRXSXljVEEzT1RJd2JuSnlZelV5TmpScGVtZGpid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpERXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXhMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6MTguNjY5WiIsInB1ciI6ImJsb2Jfa2V5In19--88ba7214100bbffcb18491ac679864eccf7a993f/med1.jpg
Completed 302 Found in 38ms (ActiveRecord: 3.6ms | Allocations: 5167)


  [1m[36mActiveStorage::Blob Load (4.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
[36m  Disk Storage (0.5ms) [0m[34mGenerated URL for file at key: 9mx0oph7frlmyofdmzyvjwkcuxbf (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhPVzE0TUc5d2FEZG1jbXh0ZVc5bVpHMTZlWFpxZDJ0amRYaGlaZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6MTguNjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--02785f90326be598007eedc47bdcaeb63bc4e463/med2.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhPVzE0TUc5d2FEZG1jbXh0ZVc5bVpHMTZlWFpxZDJ0amRYaGlaZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6MTguNjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--02785f90326be598007eedc47bdcaeb63bc4e463/med2.jpg
Completed 302 Found in 20ms (ActiveRecord: 4.2ms | Allocations: 3846)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkSFppTjI0emRXSXljVEEzT1RJd2JuSnlZelV5TmpScGVtZGpid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpERXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXhMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6MTguNjY5WiIsInB1ciI6ImJsb2Jfa2V5In19--88ba7214100bbffcb18491ac679864eccf7a993f/med1.jpg" for ::1 at 2021-08-12 00:11:18 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med1"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 386)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkbm8xYzNGa05EQjRNbTF6TmpWdk5tdDJhblpwY1RFeFlXVm9aQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTU6MjEuMTIzWiIsInB1ciI6ImJsb2Jfa2V5In19--561a0e123049ca00ee2f803cbdd9b087526d665d/pig.jpg" for ::1 at 2021-08-12 00:11:18 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhPVzE0TUc5d2FEZG1jbXh0ZVc5bVpHMTZlWFpxZDJ0amRYaGlaZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6MTguNjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--02785f90326be598007eedc47bdcaeb63bc4e463/med2.jpg" for ::1 at 2021-08-12 00:11:18 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med2"}
Completed 200 OK in 4ms (ActiveRecord: 0.0ms | Allocations: 372)


  [1m[36mActiveStorage::Blob Load (43.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
[36m  Disk Storage (0.8ms) [0m[34mGenerated URL for file at key: wzugtv4y7hf3pt5io9o8zwzndtvo (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkM3AxWjNSMk5IazNhR1l6Y0hRMWFXODViemg2ZDNwdVpIUjJid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6MTguNzMzWiIsInB1ciI6ImJsb2Jfa2V5In19--ba3741a24a867af0ba644cb0e4132bfbac731123/med3.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkM3AxWjNSMk5IazNhR1l6Y0hRMWFXODViemg2ZDNwdVpIUjJid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6MTguNzMzWiIsInB1ciI6ImJsb2Jfa2V5In19--ba3741a24a867af0ba644cb0e4132bfbac731123/med3.jpg
Completed 302 Found in 79ms (ActiveRecord: 43.5ms | Allocations: 10559)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 361)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkM3AxWjNSMk5IazNhR1l6Y0hRMWFXODViemg2ZDNwdVpIUjJid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6MTguNzMzWiIsInB1ciI6ImJsb2Jfa2V5In19--ba3741a24a867af0ba644cb0e4132bfbac731123/med3.jpg" for ::1 at 2021-08-12 00:11:18 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med3"}
Completed 200 OK in 2ms (ActiveRecord: 0.0ms | Allocations: 358)


Started DELETE "/animals/media/1?media_id=4" for ::1 at 2021-08-12 00:11:28 +0800
Processing by AnimalsController#media_delete as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "media_id"=>"4", "id"=>"1"}
  [1m[36mAnimal Load (1.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 AND "active_storage_attachments"."id" = $4 LIMIT $5[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "media"], ["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Attachment Destroy (0.3ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mAnimal Update (0.5ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-11 16:11:28.470024"], ["id", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (41.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Attachment Exists? (4.2ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = $1 LIMIT $2[0m  [["blob_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::VariantRecord Load (4.0ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1[0m  [["blob_id", 4]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Blob Destroy (1.8ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1[0m  [["id", 4]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
[36m  Disk Storage (0.3ms) [0m[31mDeleted file from key: tvb7n3ub2q07920nrrc5264izgco[0m
[36m  Disk Storage (0.2ms) [0m[31mDeleted files by key prefix: variants/tvb7n3ub2q07920nrrc5264izgco/[0m
Redirected to http://localhost:3000/animals/1
Completed 302 Found in 144ms (ActiveRecord: 99.7ms | Allocations: 14588)


Started GET "/animals/1" for ::1 at 2021-08-12 00:11:28 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAnimal Load (1.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.8ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.7ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.4ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.6ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mActiveStorage::Blob Load (1.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mChat Load (0.6ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 55.9ms | Allocations: 12833)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 3.3ms | Allocations: 798)
  Rendered layout layouts/application.html.erb (Duration: 78.0ms | Allocations: 21654)
Completed 200 OK in 105ms (Views: 72.0ms | ActiveRecord: 9.9ms | Allocations: 24344)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhPVzE0TUc5d2FEZG1jbXh0ZVc5bVpHMTZlWFpxZDJ0amRYaGlaZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6MTguNjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--02785f90326be598007eedc47bdcaeb63bc4e463/med2.jpg" for ::1 at 2021-08-12 00:11:28 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkbm8xYzNGa05EQjRNbTF6TmpWdk5tdDJhblpwY1RFeFlXVm9aQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTU6MjEuMTIzWiIsInB1ciI6ImJsb2Jfa2V5In19--561a0e123049ca00ee2f803cbdd9b087526d665d/pig.jpg" for ::1 at 2021-08-12 00:11:28 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med2"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 369)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkM3AxWjNSMk5IazNhR1l6Y0hRMWFXODViemg2ZDNwdVpIUjJid1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6MTguNzMzWiIsInB1ciI6ImJsb2Jfa2V5In19--ba3741a24a867af0ba644cb0e4132bfbac731123/med3.jpg" for ::1 at 2021-08-12 00:11:28 +0800
Processing by ActiveStorage::DiskController#show as JPEG
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med3"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 352)


Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 351)


Started DELETE "/animals/media/1?media_id=6" for ::1 at 2021-08-12 00:11:31 +0800
Processing by AnimalsController#media_delete as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "media_id"=>"6", "id"=>"1"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 AND "active_storage_attachments"."id" = $4 LIMIT $5[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "media"], ["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Attachment Destroy (0.3ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = $1[0m  [["id", 6]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mAnimal Update (0.4ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-11 16:11:31.211218"], ["id", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Attachment Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = $1 LIMIT $2[0m  [["blob_id", 6], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::VariantRecord Load (0.4ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1[0m  [["blob_id", 6]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Attachment Load (1.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 6], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Blob Destroy (4.5ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1[0m  [["id", 6]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
[36m  Disk Storage (0.2ms) [0m[31mDeleted file from key: wzugtv4y7hf3pt5io9o8zwzndtvo[0m
[36m  Disk Storage (0.2ms) [0m[31mDeleted files by key prefix: variants/wzugtv4y7hf3pt5io9o8zwzndtvo/[0m
Redirected to http://localhost:3000/animals/1
Completed 302 Found in 57ms (ActiveRecord: 18.3ms | Allocations: 10132)


Started GET "/animals/1" for ::1 at 2021-08-12 00:11:31 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (1.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (2.5ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (2.5ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.3ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mChat Load (0.4ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.4ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 38.9ms | Allocations: 11734)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.7ms | Allocations: 789)
  Rendered layout layouts/application.html.erb (Duration: 57.9ms | Allocations: 20623)
Completed 200 OK in 71ms (Views: 50.8ms | ActiveRecord: 10.7ms | Allocations: 23198)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkbm8xYzNGa05EQjRNbTF6TmpWdk5tdDJhblpwY1RFeFlXVm9aQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTU6MjEuMTIzWiIsInB1ciI6ImJsb2Jfa2V5In19--561a0e123049ca00ee2f803cbdd9b087526d665d/pig.jpg" for ::1 at 2021-08-12 00:11:31 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhPVzE0TUc5d2FEZG1jbXh0ZVc5bVpHMTZlWFpxZDJ0amRYaGlaZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6MTguNjc4WiIsInB1ciI6ImJsb2Jfa2V5In19--02785f90326be598007eedc47bdcaeb63bc4e463/med2.jpg" for ::1 at 2021-08-12 00:11:31 +0800
Processing by ActiveStorage::DiskController#show as JPEG
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med2"}
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 351)


Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 352)


Started DELETE "/animals/media/1?media_id=5" for ::1 at 2021-08-12 00:11:33 +0800
Processing by AnimalsController#media_delete as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "media_id"=>"5", "id"=>"1"}
  [1m[36mAnimal Load (0.7ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 AND "active_storage_attachments"."id" = $4 LIMIT $5[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "media"], ["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Attachment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "active_storage_attachments" WHERE "active_storage_attachments"."id" = $1[0m  [["id", 5]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mAnimal Update (0.6ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-11 16:11:33.075698"], ["id", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (40.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Attachment Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "active_storage_attachments" WHERE "active_storage_attachments"."blob_id" = $1 LIMIT $2[0m  [["blob_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::VariantRecord Load (0.2ms)[0m  [1m[34mSELECT "active_storage_variant_records".* FROM "active_storage_variant_records" WHERE "active_storage_variant_records"."blob_id" = $1[0m  [["blob_id", 5]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 5], ["record_type", "ActiveStorage::Blob"], ["name", "preview_image"], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mActiveStorage::Blob Destroy (0.8ms)[0m  [1m[31mDELETE FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1[0m  [["id", 5]]
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:94:in `media_delete'
[36m  Disk Storage (0.2ms) [0m[31mDeleted file from key: 9mx0oph7frlmyofdmzyvjwkcuxbf[0m
[36m  Disk Storage (0.1ms) [0m[31mDeleted files by key prefix: variants/9mx0oph7frlmyofdmzyvjwkcuxbf/[0m
Redirected to http://localhost:3000/animals/1
Completed 302 Found in 81ms (ActiveRecord: 49.1ms | Allocations: 10070)


Started GET "/animals/1" for ::1 at 2021-08-12 00:11:33 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (3.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (1.9ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.3ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.2ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mChat Load (0.3ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 34.4ms | Allocations: 10787)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.4ms | Allocations: 790)
  Rendered layout layouts/application.html.erb (Duration: 51.5ms | Allocations: 19662)
Completed 200 OK in 58ms (Views: 44.8ms | ActiveRecord: 7.9ms | Allocations: 22237)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkbm8xYzNGa05EQjRNbTF6TmpWdk5tdDJhblpwY1RFeFlXVm9aQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTU6MjEuMTIzWiIsInB1ciI6ImJsb2Jfa2V5In19--561a0e123049ca00ee2f803cbdd9b087526d665d/pig.jpg" for ::1 at 2021-08-12 00:11:33 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 349)


Started POST "/animals/media/1" for ::1 at 2021-08-12 00:11:52 +0800
Processing by AnimalsController#media_add as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "media"=>[#<ActionDispatch::Http::UploadedFile:0x00007fe7d2ff5020 @tempfile=#<Tempfile:/var/folders/g1/w_b947c941n8tclr4gvh68d00000gn/T/RackMultipart20210812-53050-a41sim.jpg>, @original_filename="med1.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"media[]\"; filename=\"med1.jpg\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fe7d2ff4fa8 @tempfile=#<Tempfile:/var/folders/g1/w_b947c941n8tclr4gvh68d00000gn/T/RackMultipart20210812-53050-6oo1j3.jpg>, @original_filename="med2.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"media[]\"; filename=\"med2.jpg\"\r\nContent-Type: image/jpeg\r\n">, #<ActionDispatch::Http::UploadedFile:0x00007fe7d2ff4e18 @tempfile=#<Tempfile:/var/folders/g1/w_b947c941n8tclr4gvh68d00000gn/T/RackMultipart20210812-53050-ozn3iu.jpg>, @original_filename="med3.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"media[]\"; filename=\"med3.jpg\"\r\nContent-Type: image/jpeg\r\n">], "commit"=>"Add Photos", "id"=>"1"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mActiveStorage::Blob Load (1.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "540nlp8jaipz8cdtmserhv2zi2mw"], ["filename", "med1.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 143104], ["checksum", "ayEpTqhmjphH8eNK9Mvs6w=="], ["created_at", "2021-08-11 16:11:52.052608"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "media"], ["record_type", "Animal"], ["record_id", 1], ["blob_id", 7], ["created_at", "2021-08-11 16:11:52.054640"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mAnimal Update (0.6ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-11 16:11:52.056917"], ["id", 1]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mTRANSACTION (40.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[36m  Disk Storage (3.2ms) [0m[32mUploaded file to key: 540nlp8jaipz8cdtmserhv2zi2mw (checksum: ayEpTqhmjphH8eNK9Mvs6w==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5794a1dc-517e-4d73-8d81-6a6550a021cb) to Async(default) with arguments: #<GlobalID:0x00007fe7d6c5f150 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/7>>
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5794a1dc-517e-4d73-8d81-6a6550a021cb] Performing ActiveStorage::AnalyzeJob (Job ID: 5794a1dc-517e-4d73-8d81-6a6550a021cb) from Async(default) enqueued at 2021-08-11T16:11:52Z with arguments: #<GlobalID:0x00007fe7d6411c78 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/7>>
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [5794a1dc-517e-4d73-8d81-6a6550a021cb] [36m  Disk Storage (1.6ms) [0m[34mDownloaded file from key: 540nlp8jaipz8cdtmserhv2zi2mw[0m
  [1m[36mActiveStorage::Blob Create (1.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "ek4os9j0lhk7ifoweio8akdvg81i"], ["filename", "med2.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 41610], ["checksum", "N8HIRAdfwY9mBxXx6aqR4A=="], ["created_at", "2021-08-11 16:11:52.119036"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "media"], ["record_type", "Animal"], ["record_id", 1], ["blob_id", 8], ["created_at", "2021-08-11 16:11:52.126184"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mAnimal Update (0.9ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-11 16:11:52.129288"], ["id", 1]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [5794a1dc-517e-4d73-8d81-6a6550a021cb] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [5794a1dc-517e-4d73-8d81-6a6550a021cb]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5794a1dc-517e-4d73-8d81-6a6550a021cb]   [1m[36mActiveStorage::Blob Update (1.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 7]]
  [1m[36mTRANSACTION (40.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5794a1dc-517e-4d73-8d81-6a6550a021cb]   [1m[36mTRANSACTION (23.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [5794a1dc-517e-4d73-8d81-6a6550a021cb] Performed ActiveStorage::AnalyzeJob (Job ID: 5794a1dc-517e-4d73-8d81-6a6550a021cb) from Async(default) in 57.62ms
[36m  Disk Storage (1.4ms) [0m[32mUploaded file to key: ek4os9j0lhk7ifoweio8akdvg81i (checksum: N8HIRAdfwY9mBxXx6aqR4A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3b111e69-cc34-4014-8576-105444e77389) to Async(default) with arguments: #<GlobalID:0x00007fe7d6472870 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/8>>
  [1m[36mActiveStorage::Blob Load (1.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3b111e69-cc34-4014-8576-105444e77389] Performing ActiveStorage::AnalyzeJob (Job ID: 3b111e69-cc34-4014-8576-105444e77389) from Async(default) enqueued at 2021-08-11T16:11:52Z with arguments: #<GlobalID:0x00007fe7dc030d88 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/8>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [3b111e69-cc34-4014-8576-105444e77389] [36m  Disk Storage (5.3ms) [0m[34mDownloaded file from key: ek4os9j0lhk7ifoweio8akdvg81i[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [3b111e69-cc34-4014-8576-105444e77389] Skipping image analysis because the mini_magick gem isn't installed
  [1m[36mActiveStorage::Blob Create (1.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "vmwrffetpjika8v2a963r3hsrhrm"], ["filename", "med3.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 54333], ["checksum", "K2oKH6jg+b7kR3qC5cPlSg=="], ["created_at", "2021-08-11 16:11:52.191984"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3b111e69-cc34-4014-8576-105444e77389]   [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [3b111e69-cc34-4014-8576-105444e77389]   [1m[36mActiveStorage::Blob Update (0.9ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 8]]
  [1m[36mActiveStorage::Attachment Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "media"], ["record_type", "Animal"], ["record_id", 1], ["blob_id", 9], ["created_at", "2021-08-11 16:11:52.203829"]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
  [1m[36mAnimal Update (0.3ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-11 16:11:52.206451"], ["id", 1]]
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[ActiveJob] [ActiveStorage::AnalyzeJob] [3b111e69-cc34-4014-8576-105444e77389]   [1m[36mTRANSACTION (39.7ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3b111e69-cc34-4014-8576-105444e77389] Performed ActiveStorage::AnalyzeJob (Job ID: 3b111e69-cc34-4014-8576-105444e77389) from Async(default) in 59.1ms
  [1m[36mTRANSACTION (38.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:88:in `block in media_add'
[36m  Disk Storage (1.6ms) [0m[32mUploaded file to key: vmwrffetpjika8v2a963r3hsrhrm (checksum: K2oKH6jg+b7kR3qC5cPlSg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8d989502-c048-4608-a0ca-8baeea648ca4) to Async(default) with arguments: #<GlobalID:0x00007fe7dc082ac0 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/9>>
Redirected to http://localhost:3000/animals/1
Completed 302 Found in 219ms (ActiveRecord: 132.7ms | Allocations: 34742)


  [1m[36mActiveStorage::Blob Load (3.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8d989502-c048-4608-a0ca-8baeea648ca4] Performing ActiveStorage::AnalyzeJob (Job ID: 8d989502-c048-4608-a0ca-8baeea648ca4) from Async(default) enqueued at 2021-08-11T16:11:52Z with arguments: #<GlobalID:0x00007fe7d64c3b30 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/9>>
Started GET "/animals/1" for ::1 at 2021-08-12 00:11:52 +0800
[ActiveJob] [ActiveStorage::AnalyzeJob] [8d989502-c048-4608-a0ca-8baeea648ca4] [36m  Disk Storage (0.8ms) [0m[34mDownloaded file from key: vmwrffetpjika8v2a963r3hsrhrm[0m
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAnimal Load (2.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
[ActiveJob] [ActiveStorage::AnalyzeJob] [8d989502-c048-4608-a0ca-8baeea648ca4] Skipping image analysis because the mini_magick gem isn't installed
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8d989502-c048-4608-a0ca-8baeea648ca4]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
[ActiveJob] [ActiveStorage::AnalyzeJob] [8d989502-c048-4608-a0ca-8baeea648ca4]   [1m[36mActiveStorage::Blob Update (0.9ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 9]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.6ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.3ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.5ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 34.0ms | Allocations: 13596)
[ActiveJob] [ActiveStorage::AnalyzeJob] [8d989502-c048-4608-a0ca-8baeea648ca4]   [1m[36mTRANSACTION (40.1ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8d989502-c048-4608-a0ca-8baeea648ca4] Performed ActiveStorage::AnalyzeJob (Job ID: 8d989502-c048-4608-a0ca-8baeea648ca4) from Async(default) in 53.44ms
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 789)
  Rendered layout layouts/application.html.erb (Duration: 48.4ms | Allocations: 23135)
Completed 200 OK in 59ms (Views: 44.2ms | ActiveRecord: 8.1ms | Allocations: 28054)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1181dfeb5ff2fa4a4646b7639c93d65cc66afc8c/med1.jpg" for ::1 at 2021-08-12 00:11:52 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1181dfeb5ff2fa4a4646b7639c93d65cc66afc8c", "filename"=>"med1"}
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1fcd6ec96486e6258dc652fd7365eca2db0d8ed3/med2.jpg" for ::1 at 2021-08-12 00:11:52 +0800
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--623a79600bfefcf04661248aeb2665c354c841b7/med3.jpg" for ::1 at 2021-08-12 00:11:52 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1fcd6ec96486e6258dc652fd7365eca2db0d8ed3", "filename"=>"med2"}
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBEZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--623a79600bfefcf04661248aeb2665c354c841b7", "filename"=>"med3"}
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
[36m  Disk Storage (0.9ms) [0m[34mGenerated URL for file at key: ek4os9j0lhk7ifoweio8akdvg81i (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaV3MwYjNNNWFqQnNhR3MzYVdadmQyVnBiemhoYTJSMlp6Z3hhUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6NTIuNDExWiIsInB1ciI6ImJsb2Jfa2V5In19--58db731645ceae570e1b83ef8467ae1b3e2245d6/med2.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaV3MwYjNNNWFqQnNhR3MzYVdadmQyVnBiemhoYTJSMlp6Z3hhUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6NTIuNDExWiIsInB1ciI6ImJsb2Jfa2V5In19--58db731645ceae570e1b83ef8467ae1b3e2245d6/med2.jpg
Completed 302 Found in 8ms (ActiveRecord: 0.4ms | Allocations: 2191)


  [1m[36mActiveStorage::Blob Load (8.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
[36m  Disk Storage (1.1ms) [0m[34mGenerated URL for file at key: 540nlp8jaipz8cdtmserhv2zi2mw (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOVFF3Ym14d09HcGhhWEI2T0dOa2RHMXpaWEpvZGpKNmFUSnRkd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpERXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXhMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6NTIuNDI3WiIsInB1ciI6ImJsb2Jfa2V5In19--bfc782c0a10c455617caf66831861d5446b34edb/med1.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOVFF3Ym14d09HcGhhWEI2T0dOa2RHMXpaWEpvZGpKNmFUSnRkd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpERXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXhMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6NTIuNDI3WiIsInB1ciI6ImJsb2Jfa2V5In19--bfc782c0a10c455617caf66831861d5446b34edb/med1.jpg
Completed 302 Found in 49ms (ActiveRecord: 8.3ms | Allocations: 5986)


  [1m[36mActiveStorage::Blob Load (5.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
[36m  Disk Storage (1.3ms) [0m[34mGenerated URL for file at key: vmwrffetpjika8v2a963r3hsrhrm (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkbTEzY21abVpYUndhbWxyWVRoMk1tRTVOak55TTJoemNtaHliUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6NTIuNDM2WiIsInB1ciI6ImJsb2Jfa2V5In19--b4493d62dbe83f3b55361971dedee497cec1e52e/med3.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkbTEzY21abVpYUndhbWxyWVRoMk1tRTVOak55TTJoemNtaHliUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6NTIuNDM2WiIsInB1ciI6ImJsb2Jfa2V5In19--b4493d62dbe83f3b55361971dedee497cec1e52e/med3.jpg
Completed 302 Found in 31ms (ActiveRecord: 5.9ms | Allocations: 4592)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkbm8xYzNGa05EQjRNbTF6TmpWdk5tdDJhblpwY1RFeFlXVm9aQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTU6MjEuMTIzWiIsInB1ciI6ImJsb2Jfa2V5In19--561a0e123049ca00ee2f803cbdd9b087526d665d/pig.jpg" for ::1 at 2021-08-12 00:11:52 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaV3MwYjNNNWFqQnNhR3MzYVdadmQyVnBiemhoYTJSMlp6Z3hhUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6NTIuNDExWiIsInB1ciI6ImJsb2Jfa2V5In19--58db731645ceae570e1b83ef8467ae1b3e2245d6/med2.jpg" for ::1 at 2021-08-12 00:11:52 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOVFF3Ym14d09HcGhhWEI2T0dOa2RHMXpaWEpvZGpKNmFUSnRkd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpERXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXhMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6NTIuNDI3WiIsInB1ciI6ImJsb2Jfa2V5In19--bfc782c0a10c455617caf66831861d5446b34edb/med1.jpg" for ::1 at 2021-08-12 00:11:52 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med2"}
Completed 200 OK in 3ms (ActiveRecord: 0.0ms | Allocations: 381)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med1"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 366)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkbTEzY21abVpYUndhbWxyWVRoMk1tRTVOak55TTJoemNtaHliUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6NTIuNDM2WiIsInB1ciI6ImJsb2Jfa2V5In19--b4493d62dbe83f3b55361971dedee497cec1e52e/med3.jpg" for ::1 at 2021-08-12 00:11:52 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med3"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 366)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 355)


Started DELETE "/users/sign_out" for ::1 at 2021-08-12 00:11:54 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms | Allocations: 1891)


Started GET "/" for ::1 at 2021-08-12 00:11:54 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 121)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 791)
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | Allocations: 8620)
Completed 200 OK in 19ms (Views: 18.0ms | ActiveRecord: 0.0ms | Allocations: 9217)


Started GET "/users/sign_in" for ::1 at 2021-08-12 00:11:55 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 68)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 919)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 806)
  Rendered layout layouts/application.html.erb (Duration: 24.3ms | Allocations: 9809)
Completed 200 OK in 27ms (Views: 25.1ms | ActiveRecord: 0.0ms | Allocations: 10562)


Started POST "/users/sign_in" for ::1 at 2021-08-12 00:12:00 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"sponsor@sponsor.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "sponsor@sponsor.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 236ms (ActiveRecord: 0.5ms | Allocations: 2351)


Started GET "/" for ::1 at 2021-08-12 00:12:00 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:52:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms | Allocations: 1035)


Started GET "/home" for ::1 at 2021-08-12 00:12:00 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:15:in `home'
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:17:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 6.9ms | Allocations: 1788)
  Rendered pages/home.html.erb within layouts/application (Duration: 7.8ms | Allocations: 2069)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 790)
  Rendered layout layouts/application.html.erb (Duration: 27.3ms | Allocations: 10890)
Completed 200 OK in 39ms (Views: 26.9ms | ActiveRecord: 3.3ms | Allocations: 13906)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhNbkY1WW10NGVqZzJaWFJ2WkdneU1IUnFZemRuTUhFMlpXSXdkZ1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTExVDE2OjE1OjQ4LjM0NloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--c557f9bdb0a14751b89d899f5625ef42c6975e46/sheep.jpg" for ::1 at 2021-08-12 00:12:00 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 359)


Started GET "/animals" for ::1 at 2021-08-12 00:12:24 +0800
Processing by AnimalsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.4ms | Allocations: 1793)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.5ms | Allocations: 1798)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.4ms | Allocations: 1788)
  Rendered animals/index.html.erb within layouts/application (Duration: 28.7ms | Allocations: 16145)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 3.0ms | Allocations: 1527)
  Rendered layout layouts/application.html.erb (Duration: 61.9ms | Allocations: 25768)
Completed 200 OK in 65ms (Views: 61.2ms | ActiveRecord: 2.1ms | Allocations: 26345)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkbm8xYzNGa05EQjRNbTF6TmpWdk5tdDJhblpwY1RFeFlXVm9aQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTU6MjEuMTIzWiIsInB1ciI6ImJsb2Jfa2V5In19--561a0e123049ca00ee2f803cbdd9b087526d665d/pig.jpg" for ::1 at 2021-08-12 00:12:24 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhORFIxYW1WaWJYQTJiRzgwZUhsbWVubHpPR0pzWkRsMk5HaHNNQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6MDcuMjc3WiIsInB1ciI6ImJsb2Jfa2V5In19--cfbb1ddb47da582329da56982898d0ca0d3cb406/cow.jpg" for ::1 at 2021-08-12 00:12:24 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 349)


Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 338)


Started GET "/animals/1" for ::1 at 2021-08-12 00:12:26 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAnimal Load (0.1ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  [1m[36mCategory Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:106:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.1ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:38
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:61
  [1m[36mChat Load (0.2ms)[0m  [1m[34mSELECT "chats".* FROM "chats" WHERE "chats"."sponsorship_id" = $1 LIMIT $2[0m  [["sponsorship_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mMessage Load (0.3ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."chat_id" = $1[0m  [["chat_id", 1]]
  ↳ app/views/animals/show.html.erb:84
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:85
  Rendered animals/show.html.erb within layouts/application (Duration: 27.8ms | Allocations: 12288)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 789)
  Rendered layout layouts/application.html.erb (Duration: 44.3ms | Allocations: 21162)
Completed 200 OK in 50ms (Views: 42.2ms | ActiveRecord: 3.1ms | Allocations: 23732)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOVFF3Ym14d09HcGhhWEI2T0dOa2RHMXpaWEpvZGpKNmFUSnRkd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpERXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXhMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6NTIuNDI3WiIsInB1ciI6ImJsb2Jfa2V5In19--bfc782c0a10c455617caf66831861d5446b34edb/med1.jpg" for ::1 at 2021-08-12 00:12:26 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaV3MwYjNNNWFqQnNhR3MzYVdadmQyVnBiemhoYTJSMlp6Z3hhUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpESXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXlMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6NTIuNDExWiIsInB1ciI6ImJsb2Jfa2V5In19--58db731645ceae570e1b83ef8467ae1b3e2245d6/med2.jpg" for ::1 at 2021-08-12 00:12:26 +0800
Processing by ActiveStorage::DiskController#show as JPEG
Processing by ActiveStorage::DiskController#show as JPEG
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhkbTEzY21abVpYUndhbWxyWVRoMk1tRTVOak55TTJoemNtaHliUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpTzJsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW0xbFpETXVhbkJuSWpzZ1ptbHNaVzVoYldVcVBWVlVSaTA0SnlkdFpXUXpMbXB3WndZN0JsUTZFV052Ym5SbGJuUmZkSGx3WlVraUQybHRZV2RsTDJwd1pXY0dPd1pVT2hGelpYSjJhV05sWDI1aGJXVTZDbXh2WTJGcyIsImV4cCI6IjIwMjEtMDgtMTFUMTY6MTY6NTIuNDM2WiIsInB1ciI6ImJsb2Jfa2V5In19--b4493d62dbe83f3b55361971dedee497cec1e52e/med3.jpg" for ::1 at 2021-08-12 00:12:26 +0800
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med2"}
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med1"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 375)


Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 727)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"med3"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 373)


  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (27.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (74.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "save_their_bacon_development"[0m
  [1m[35m (88.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "save_their_bacon_test"[0m
  [1m[35m (341.5ms)[0m  [1m[35mCREATE DATABASE "save_their_bacon_development" ENCODING = 'unicode'[0m
  [1m[35m (109.2ms)[0m  [1m[35mCREATE DATABASE "save_their_bacon_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (11.0ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (22.4ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (44.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "street_number" character varying, "street_name" character varying, "postcode" character varying, "suburb" character varying, "state_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_state_id" ON "addresses" ("state_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "animals" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "name" character varying, "year_born" integer, "weight" integer, "bio" text, "species" character varying, "sponsored" boolean DEFAULT FALSE NOT NULL, "sponsor_price" integer, "category_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_animals_on_category_id" ON "animals" ("category_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_animals_on_owner_id" ON "animals" ("owner_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles" CASCADE[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "articles" ("id" bigserial primary key, "title" character varying, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "sponsorship_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE INDEX "index_chats_on_sponsorship_id" ON "chats" ("sponsorship_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "chat_id" bigint NOT NULL, "sender_id" bigint NOT NULL, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_messages_on_chat_id" ON "messages" ("chat_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_messages_on_sender_id" ON "messages" ("sender_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "sponsorships" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "sponsorships" ("id" bigserial primary key, "receipt" character varying, "animal_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "sponsor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_animal_id" ON "sponsorships" ("animal_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_owner_id" ON "sponsorships" ("owner_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_sponsor_id" ON "sponsorships" ("sponsor_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "states" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "states" ("id" bigserial primary key, "name" character varying, "country_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_states_on_country_id" ON "states" ("country_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "first_name" character varying, "last_name" character varying, "approved" boolean, "role" integer, "date_of_birth" date, "address_id" bigint NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_users_on_address_id" ON "users" ("address_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (5.7ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_2d87b6c11e"
FOREIGN KEY ("state_id")
  REFERENCES "states" ("id")
[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_fe0d97b5eb"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_8d97761a89"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "chats" ADD CONSTRAINT "fk_rails_4d1bd8a917"
FOREIGN KEY ("sponsorship_id")
  REFERENCES "sponsorships" ("id")
[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_ac0a2a4ca2"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_fb21d21baf"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_bf78e760cb"
FOREIGN KEY ("sponsor_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "states" ADD CONSTRAINT "fk_rails_40bd891262"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_eb2fc738e4"
FOREIGN KEY ("address_id")
  REFERENCES "addresses" ("id")
[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210809103829)[0m
  [1m[35m (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20210726021338),
(20210726031458),
(20210727000917),
(20210727001212),
(20210727001446),
(20210727002353),
(20210727014626),
(20210727014902),
(20210727021825),
(20210728001211),
(20210803015959),
(20210803020258);

[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-08-11 16:13:05.480414"], ["updated_at", "2021-08-11 16:13:05.480414"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "4a28e1dc81aafcce80d6bf5ac6f779ffc2460a65"], ["created_at", "2021-08-11 16:13:05.490139"], ["updated_at", "2021-08-11 16:13:05.490139"]]
  [1m[36mTRANSACTION (40.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (16.2ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "street_number" character varying, "street_name" character varying, "postcode" character varying, "suburb" character varying, "state_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_state_id" ON "addresses" ("state_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "animals" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "name" character varying, "year_born" integer, "weight" integer, "bio" text, "species" character varying, "sponsored" boolean DEFAULT FALSE NOT NULL, "sponsor_price" integer, "category_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_animals_on_category_id" ON "animals" ("category_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_animals_on_owner_id" ON "animals" ("owner_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles" CASCADE[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "articles" ("id" bigserial primary key, "title" character varying, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "sponsorship_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_chats_on_sponsorship_id" ON "chats" ("sponsorship_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "chat_id" bigint NOT NULL, "sender_id" bigint NOT NULL, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_messages_on_chat_id" ON "messages" ("chat_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_messages_on_sender_id" ON "messages" ("sender_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "sponsorships" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "sponsorships" ("id" bigserial primary key, "receipt" character varying, "animal_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "sponsor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_animal_id" ON "sponsorships" ("animal_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_owner_id" ON "sponsorships" ("owner_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_sponsor_id" ON "sponsorships" ("sponsor_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "states" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "states" ("id" bigserial primary key, "name" character varying, "country_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_states_on_country_id" ON "states" ("country_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "first_name" character varying, "last_name" character varying, "approved" boolean, "role" integer, "date_of_birth" date, "address_id" bigint NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_users_on_address_id" ON "users" ("address_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_2d87b6c11e"
FOREIGN KEY ("state_id")
  REFERENCES "states" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_fe0d97b5eb"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_8d97761a89"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "chats" ADD CONSTRAINT "fk_rails_4d1bd8a917"
FOREIGN KEY ("sponsorship_id")
  REFERENCES "sponsorships" ("id")
[0m
  [1m[35m (5.2ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_ac0a2a4ca2"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_fb21d21baf"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_bf78e760cb"
FOREIGN KEY ("sponsor_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "states" ADD CONSTRAINT "fk_rails_40bd891262"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_eb2fc738e4"
FOREIGN KEY ("address_id")
  REFERENCES "addresses" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210809103829)[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20210726021338),
(20210726031458),
(20210727000917),
(20210727001212),
(20210727001446),
(20210727002353),
(20210727014626),
(20210727014902),
(20210727021825),
(20210728001211),
(20210803015959),
(20210803020258);

[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-08-11 16:13:05.779065"], ["updated_at", "2021-08-11 16:13:05.779065"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-08-11 16:13:05.784276"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "4a28e1dc81aafcce80d6bf5ac6f779ffc2460a65"], ["created_at", "2021-08-11 16:13:05.789149"], ["updated_at", "2021-08-11 16:13:05.789149"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Australia"], ["created_at", "2021-08-11 16:13:05.888704"], ["updated_at", "2021-08-11 16:13:05.888704"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "states"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Australia"], ["LIMIT", 1]]
  ↳ app/models/state.rb:13:in `check_if_country_exists'
  [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Australia"], ["LIMIT", 1]]
  ↳ app/models/state.rb:13:in `check_if_country_exists'
  [1m[36mState Create (0.6ms)[0m  [1m[32mINSERT INTO "states" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Western australia"], ["country_id", 1], ["created_at", "2021-08-11 16:13:05.919254"], ["updated_at", "2021-08-11 16:13:05.919254"]]
  [1m[36mTRANSACTION (40.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.1ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mAddress Create (0.7ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Admin St"], ["postcode", "1234"], ["suburb", "Admington"], ["state_id", 1], ["created_at", "2021-08-11 16:13:05.984021"], ["updated_at", "2021-08-11 16:13:05.984021"]]
  [1m[36mTRANSACTION (39.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mState Load (0.3ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mAddress Create (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Sponsor St"], ["postcode", "2345"], ["suburb", "Sponsor Lake"], ["state_id", 1], ["created_at", "2021-08-11 16:13:06.031829"], ["updated_at", "2021-08-11 16:13:06.031829"]]
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mState Load (0.3ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mState Load (0.1ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:12:in `check_if_state_exists'
  [1m[36mAddress Create (0.4ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Sanctuary St"], ["postcode", "3456"], ["suburb", "Sanctuary Hills"], ["state_id", 1], ["created_at", "2021-08-11 16:13:06.041309"], ["updated_at", "2021-08-11 16:13:06.041309"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "admin@admin.com"], ["encrypted_password", "$2a$12$jixKycXojYbW/XIigLxNseRbAoqzIXbPpmTsUK1kbhZyBfLTAsgLW"], ["created_at", "2021-08-11 16:13:06.291511"], ["updated_at", "2021-08-11 16:13:06.291511"], ["first_name", "Admin"], ["last_name", "Admins"], ["approved", true], ["role", 2], ["date_of_birth", "1980-01-01"], ["address_id", 1]]
  [1m[36mTRANSACTION (5.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sponsor@sponsor.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "sponsor@sponsor.com"], ["encrypted_password", "$2a$12$ep8hKVVtTuIlQ8e7zSeehO88VLMdEFMDZVKG69XnMOp/raeGQ5lIm"], ["created_at", "2021-08-11 16:13:06.522457"], ["updated_at", "2021-08-11 16:13:06.522457"], ["first_name", "Spon"], ["last_name", "Sor"], ["approved", true], ["role", 0], ["date_of_birth", "1980-01-01"], ["address_id", 2]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sanctuary@sanctuary.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "sanctuary@sanctuary.com"], ["encrypted_password", "$2a$12$0Chvwb3ra/xBZZeyfhbyA.nsz/Q32pb6ckfJ.6t4NPmn8wkdr6DCW"], ["created_at", "2021-08-11 16:13:06.752447"], ["updated_at", "2021-08-11 16:13:06.752447"], ["first_name", "Sanc"], ["last_name", "Tuary"], ["approved", false], ["role", 1], ["date_of_birth", "1980-01-01"], ["address_id", 2]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "approved" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2021-08-11 16:13:06.756132"], ["approved", true], ["id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pig"], ["created_at", "2021-08-11 16:13:06.778286"], ["updated_at", "2021-08-11 16:13:06.778286"]]
  [1m[36mTRANSACTION (41.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Cow"], ["created_at", "2021-08-11 16:13:06.824253"], ["updated_at", "2021-08-11 16:13:06.824253"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sheep"], ["created_at", "2021-08-11 16:13:06.828407"], ["updated_at", "2021-08-11 16:13:06.828407"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Chicken"], ["created_at", "2021-08-11 16:13:06.832737"], ["updated_at", "2021-08-11 16:13:06.832737"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.6ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Horse"], ["created_at", "2021-08-11 16:13:06.838078"], ["updated_at", "2021-08-11 16:13:06.838078"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Goat"], ["created_at", "2021-08-11 16:13:06.843712"], ["updated_at", "2021-08-11 16:13:06.843712"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Create (0.7ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Ham solo"], ["year_born", 2010], ["weight", 100], ["bio", "Proving pigs can fly"], ["species", "Chonker"], ["sponsor_price", 5000], ["category_id", 1], ["owner_id", 3], ["created_at", "2021-08-11 16:13:06.944216"], ["updated_at", "2021-08-11 16:13:06.944216"]]
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "be550f3aomvigs8xnmjgwluli50d"], ["filename", "pig.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 63070], ["checksum", "90VAk/JgiPplQ/k0FbH5og=="], ["created_at", "2021-08-11 16:13:06.972704"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 1], ["blob_id", 1], ["created_at", "2021-08-11 16:13:06.975198"]]
  [1m[36mAnimal Update (0.4ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-11 16:13:06.977299"], ["id", 1]]
  [1m[36mTRANSACTION (40.4ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.5ms) [0m[32mUploaded file to key: be550f3aomvigs8xnmjgwluli50d (checksum: 90VAk/JgiPplQ/k0FbH5og==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b7468bcf-30fc-4990-aad2-d4fe139c6753) to Async(default) with arguments: #<GlobalID:0x00007f9ab626b198 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/1>>
  [1m[36mCategory Load (2.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Create (0.5ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Vladimir mootin"], ["year_born", 2015], ["weight", 120], ["bio", "Theres a MosCOW joke there somewhere"], ["species", "President"], ["sponsor_price", 6000], ["category_id", 2], ["owner_id", 3], ["created_at", "2021-08-11 16:13:07.040789"], ["updated_at", "2021-08-11 16:13:07.040789"]]
  [1m[36mActiveStorage::Blob Load (1.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (4.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (2.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "7wezmnz2y8ka7rzffhbr7b07b72s"], ["filename", "cow.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 85749], ["checksum", "Yugf1sJBNAnlVPyCdAy9SA=="], ["created_at", "2021-08-11 16:13:07.064413"]]
  [1m[36mActiveStorage::Attachment Create (4.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 2], ["blob_id", 2], ["created_at", "2021-08-11 16:13:07.071350"]]
  [1m[36mAnimal Update (0.7ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-11 16:13:07.082448"], ["id", 2]]
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (27.7ms) [0m[32mUploaded file to key: 7wezmnz2y8ka7rzffhbr7b07b72s (checksum: Yugf1sJBNAnlVPyCdAy9SA==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 25d718dd-50ac-4aa0-bf1d-18907b99c6fe) to Async(default) with arguments: #<GlobalID:0x00007f9abb7faa28 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/2>>
  [1m[36mCategory Load (3.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b7468bcf-30fc-4990-aad2-d4fe139c6753] Performing ActiveStorage::AnalyzeJob (Job ID: b7468bcf-30fc-4990-aad2-d4fe139c6753) from Async(default) enqueued at 2021-08-11T16:13:07Z with arguments: #<GlobalID:0x00007f9abd87c260 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/1>>
  [1m[36mTRANSACTION (20.5ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b7468bcf-30fc-4990-aad2-d4fe139c6753] [36m  Disk Storage (2.3ms) [0m[34mDownloaded file from key: be550f3aomvigs8xnmjgwluli50d[0m
  [1m[36mAnimal Create (1.0ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Meryl sheep"], ["year_born", 2008], ["weight", 80], ["bio", "A Farmous Actress"], ["species", "Floofer"], ["sponsor_price", 10000], ["category_id", 3], ["owner_id", 3], ["created_at", "2021-08-11 16:13:07.164809"], ["updated_at", "2021-08-11 16:13:07.164809"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b7468bcf-30fc-4990-aad2-d4fe139c6753] Skipping image analysis because the mini_magick gem isn't installed
  [1m[36mActiveStorage::Blob Load (1.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b7468bcf-30fc-4990-aad2-d4fe139c6753]   [1m[36mTRANSACTION (2.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveStorage::Attachment Load (4.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b7468bcf-30fc-4990-aad2-d4fe139c6753]   [1m[36mActiveStorage::Blob Update (9.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mActiveStorage::Blob Create (3.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "jv0ugq8co88nehjlqp778huiyh8d"], ["filename", "sheep.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 99269], ["checksum", "M/Dwzj+u/kr3gCzmCGfSeg=="], ["created_at", "2021-08-11 16:13:07.213810"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b7468bcf-30fc-4990-aad2-d4fe139c6753]   [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b7468bcf-30fc-4990-aad2-d4fe139c6753] Performed ActiveStorage::AnalyzeJob (Job ID: b7468bcf-30fc-4990-aad2-d4fe139c6753) from Async(default) in 63.86ms
  [1m[36mActiveStorage::Attachment Create (5.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 3], ["blob_id", 3], ["created_at", "2021-08-11 16:13:07.220742"]]
  [1m[36mAnimal Update (0.5ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-11 16:13:07.228948"], ["id", 3]]
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [25d718dd-50ac-4aa0-bf1d-18907b99c6fe] Performing ActiveStorage::AnalyzeJob (Job ID: 25d718dd-50ac-4aa0-bf1d-18907b99c6fe) from Async(default) enqueued at 2021-08-11T16:13:07Z with arguments: #<GlobalID:0x00007f9abdaa0960 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/2>>
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [25d718dd-50ac-4aa0-bf1d-18907b99c6fe] [36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: 7wezmnz2y8ka7rzffhbr7b07b72s[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [25d718dd-50ac-4aa0-bf1d-18907b99c6fe] Skipping image analysis because the mini_magick gem isn't installed
[36m  Disk Storage (6.4ms) [0m[32mUploaded file to key: jv0ugq8co88nehjlqp778huiyh8d (checksum: M/Dwzj+u/kr3gCzmCGfSeg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: aa1be738-9c0e-4ccd-a48e-ef0bd9fe2da0) to Async(default) with arguments: #<GlobalID:0x00007f9ab62d5250 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [25d718dd-50ac-4aa0-bf1d-18907b99c6fe]   [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [25d718dd-50ac-4aa0-bf1d-18907b99c6fe]   [1m[36mActiveStorage::Blob Update (2.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles"[0m
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa1be738-9c0e-4ccd-a48e-ef0bd9fe2da0] Performing ActiveStorage::AnalyzeJob (Job ID: aa1be738-9c0e-4ccd-a48e-ef0bd9fe2da0) from Async(default) enqueued at 2021-08-11T16:13:07Z with arguments: #<GlobalID:0x00007f9ab60c43d0 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/3>>
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa1be738-9c0e-4ccd-a48e-ef0bd9fe2da0] [36m  Disk Storage (1.4ms) [0m[34mDownloaded file from key: jv0ugq8co88nehjlqp778huiyh8d[0m
  [1m[36mArticle Create (0.9ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Article 1"], ["body", "This is the article"], ["created_at", "2021-08-11 16:13:07.274302"], ["updated_at", "2021-08-11 16:13:07.274302"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa1be738-9c0e-4ccd-a48e-ef0bd9fe2da0] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa1be738-9c0e-4ccd-a48e-ef0bd9fe2da0]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa1be738-9c0e-4ccd-a48e-ef0bd9fe2da0]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [25d718dd-50ac-4aa0-bf1d-18907b99c6fe]   [1m[36mTRANSACTION (40.9ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [25d718dd-50ac-4aa0-bf1d-18907b99c6fe] Performed ActiveStorage::AnalyzeJob (Job ID: 25d718dd-50ac-4aa0-bf1d-18907b99c6fe) from Async(default) in 58.03ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa1be738-9c0e-4ccd-a48e-ef0bd9fe2da0]   [1m[36mTRANSACTION (46.1ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa1be738-9c0e-4ccd-a48e-ef0bd9fe2da0] Performed ActiveStorage::AnalyzeJob (Job ID: aa1be738-9c0e-4ccd-a48e-ef0bd9fe2da0) from Async(default) in 62.49ms
  [1m[36mTRANSACTION (51.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArticle Create (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Article 2"], ["body", "This is the article"], ["created_at", "2021-08-11 16:13:07.332724"], ["updated_at", "2021-08-11 16:13:07.332724"]]
  [1m[36mTRANSACTION (34.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArticle Create (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Website Updates"], ["body", "I did a thing to the website"], ["created_at", "2021-08-11 16:13:07.374246"], ["updated_at", "2021-08-11 16:13:07.374246"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2021-08-12 11:33:56 +0800
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:57:in `redirect_signed_in_user'
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 686)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 5.1ms | Allocations: 1437)
  Rendered layout layouts/application.html.erb (Duration: 141.3ms | Allocations: 21869)
Completed 200 OK in 266ms (Views: 148.8ms | ActiveRecord: 48.8ms | Allocations: 35447)


Started GET "/users/sign_in" for ::1 at 2021-08-12 11:34:31 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.6ms | Allocations: 497)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 22.7ms | Allocations: 5089)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.5ms | Allocations: 877)
  Rendered layout layouts/application.html.erb (Duration: 60.6ms | Allocations: 14129)
Completed 200 OK in 66ms (Views: 63.9ms | ActiveRecord: 0.0ms | Allocations: 16550)


Started POST "/users/sign_in" for ::1 at 2021-08-12 11:34:35 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 251ms (ActiveRecord: 0.5ms | Allocations: 5184)


Started GET "/" for ::1 at 2021-08-12 11:34:36 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:57:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 1241)


Started GET "/home" for ::1 at 2021-08-12 11:34:36 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (41.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:16:in `home'
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:16:in `home'
  [1m[36mArticle Load (0.5ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:19:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (41.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 114.1ms | Allocations: 20126)
  Rendered pages/home.html.erb within layouts/application (Duration: 117.7ms | Allocations: 21072)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.2ms | Allocations: 867)
  Rendered layout layouts/application.html.erb (Duration: 132.5ms | Allocations: 30239)
Completed 200 OK in 210ms (Views: 85.0ms | ActiveRecord: 98.2ms | Allocations: 45413)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a/sheep.jpg" for ::1 at 2021-08-12 11:34:36 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a", "filename"=>"sheep"}
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (1.8ms) [0m[34mGenerated URL for file at key: jv0ugq8co88nehjlqp778huiyh8d (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbll3ZFdkeE9HTnZPRGh1WldocWJIRndOemM0YUhWcGVXZzRaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDAzOjM5OjM2LjMzOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--1d471bd9e8f791c3d4311693fb9a5270dfceccb9/sheep.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbll3ZFdkeE9HTnZPRGh1WldocWJIRndOemM0YUhWcGVXZzRaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDAzOjM5OjM2LjMzOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--1d471bd9e8f791c3d4311693fb9a5270dfceccb9/sheep.jpg
Completed 302 Found in 14ms (ActiveRecord: 0.4ms | Allocations: 2387)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbll3ZFdkeE9HTnZPRGh1WldocWJIRndOemM0YUhWcGVXZzRaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDAzOjM5OjM2LjMzOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--1d471bd9e8f791c3d4311693fb9a5270dfceccb9/sheep.jpg" for ::1 at 2021-08-12 11:34:36 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 539)


Started GET "/admin-dashboard" for ::1 at 2021-08-12 11:34:44 +0800
Processing by PagesController#admin as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pages/admin.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", false]]
  ↳ app/views/pages/admin.html.erb:9
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", true]]
  ↳ app/views/pages/admin.html.erb:23
  Rendered pages/admin.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1765)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.3ms | Allocations: 825)
  Rendered layout layouts/application.html.erb (Duration: 18.1ms | Allocations: 10677)
Completed 200 OK in 23ms (Views: 18.4ms | ActiveRecord: 0.7ms | Allocations: 12648)


Started GET "/" for ::1 at 2021-08-12 11:35:05 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:57:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1069)


Started GET "/home" for ::1 at 2021-08-12 11:35:05 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:16:in `home'
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:16:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:19:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.6ms | Allocations: 1850)
  Rendered pages/home.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2149)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 16.4ms | Allocations: 830)
  Rendered layout layouts/application.html.erb (Duration: 59.5ms | Allocations: 10990)
Completed 200 OK in 66ms (Views: 59.7ms | ActiveRecord: 1.4ms | Allocations: 14034)


Started DELETE "/users/sign_out" for ::1 at 2021-08-12 11:35:11 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 30ms (ActiveRecord: 0.3ms | Allocations: 4842)


Started GET "/" for ::1 at 2021-08-12 11:35:11 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.3ms | Allocations: 145)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 807)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 8894)
Completed 200 OK in 14ms (Views: 13.6ms | ActiveRecord: 0.0ms | Allocations: 9585)


Started GET "/users/sign_in" for ::1 at 2021-08-12 11:42:03 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 68)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 8.8ms | Allocations: 937)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 4.0ms | Allocations: 807)
  Rendered layout layouts/application.html.erb (Duration: 58.0ms | Allocations: 9726)
Completed 200 OK in 72ms (Views: 61.4ms | Allocations: 10473)


Started POST "/users/sign_in" for ::1 at 2021-08-12 11:42:10 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 300ms (ActiveRecord: 9.4ms | Allocations: 4837)


Started GET "/" for ::1 at 2021-08-12 11:42:10 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:57:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 1049)


Started GET "/home" for ::1 at 2021-08-12 11:42:10 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:16:in `home'
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:16:in `home'
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:19:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 9.4ms | Allocations: 1844)
  Rendered pages/home.html.erb within layouts/application (Duration: 10.6ms | Allocations: 2147)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 834)
  Rendered layout layouts/application.html.erb (Duration: 30.9ms | Allocations: 11096)
Completed 200 OK in 41ms (Views: 30.8ms | ActiveRecord: 2.5ms | Allocations: 14138)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a/sheep.jpg" for ::1 at 2021-08-12 11:42:10 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a", "filename"=>"sheep"}
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (1.1ms) [0m[34mGenerated URL for file at key: jv0ugq8co88nehjlqp778huiyh8d (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbll3ZFdkeE9HTnZPRGh1WldocWJIRndOemM0YUhWcGVXZzRaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDAzOjQ3OjEwLjgxNVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--8dac96f3a8017dfc260b94105e857fdeeda09465/sheep.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbll3ZFdkeE9HTnZPRGh1WldocWJIRndOemM0YUhWcGVXZzRaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDAzOjQ3OjEwLjgxNVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--8dac96f3a8017dfc260b94105e857fdeeda09465/sheep.jpg
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 1503)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbll3ZFdkeE9HTnZPRGh1WldocWJIRndOemM0YUhWcGVXZzRaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDAzOjQ3OjEwLjgxNVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--8dac96f3a8017dfc260b94105e857fdeeda09465/sheep.jpg" for ::1 at 2021-08-12 11:42:10 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 378)


Started GET "/animals" for ::1 at 2021-08-12 11:45:38 +0800
Processing by AnimalsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCategory Load (42.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.7ms | Allocations: 1956)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.8ms | Allocations: 1799)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.6ms | Allocations: 1788)
  Rendered animals/index.html.erb within layouts/application (Duration: 109.8ms | Allocations: 19350)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/application_helper.rb:3:in `display_post_animal'
  Rendered shared/_navbar.html.erb (Duration: 5.2ms | Allocations: 1616)
  Rendered layout layouts/application.html.erb (Duration: 150.3ms | Allocations: 29149)
Completed 200 OK in 163ms (Views: 101.5ms | ActiveRecord: 54.3ms | Allocations: 31578)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee/pig.jpg" for ::1 at 2021-08-12 11:45:38 +0800
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19/cow.jpg" for ::1 at 2021-08-12 11:45:38 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee", "filename"=>"pig"}
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19", "filename"=>"cow"}
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbll3ZFdkeE9HTnZPRGh1WldocWJIRndOemM0YUhWcGVXZzRaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDAzOjQ3OjEwLjgxNVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--8dac96f3a8017dfc260b94105e857fdeeda09465/sheep.jpg" for ::1 at 2021-08-12 11:45:38 +0800
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (0.7ms) [0m[34mGenerated URL for file at key: be550f3aomvigs8xnmjgwluli50d (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZbVUxTlRCbU0yRnZiWFpwWjNNNGVHNXRhbWQzYkhWc2FUVXdaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTJUMDM6NTA6MzguNTAwWiIsInB1ciI6ImJsb2Jfa2V5In19--ad8994cf741da143a6dcfe6cbc800d7f04e26cc7/pig.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZbVUxTlRCbU0yRnZiWFpwWjNNNGVHNXRhbWQzYkhWc2FUVXdaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTJUMDM6NTA6MzguNTAwWiIsInB1ciI6ImJsb2Jfa2V5In19--ad8994cf741da143a6dcfe6cbc800d7f04e26cc7/pig.jpg
Completed 302 Found in 13ms (ActiveRecord: 0.4ms | Allocations: 3085)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 418)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZbVUxTlRCbU0yRnZiWFpwWjNNNGVHNXRhbWQzYkhWc2FUVXdaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTJUMDM6NTA6MzguNTAwWiIsInB1ciI6ImJsb2Jfa2V5In19--ad8994cf741da143a6dcfe6cbc800d7f04e26cc7/pig.jpg" for ::1 at 2021-08-12 11:45:38 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 369)


  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (0.5ms) [0m[34mGenerated URL for file at key: 7wezmnz2y8ka7rzffhbr7b07b72s (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOM2RsZW0xdWVqSjVPR3RoTjNKNlptWm9ZbkkzWWpBM1lqY3ljd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTJUMDM6NTA6MzguNTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--c5b94c053dda68b105021515057e64460e1c310e/cow.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOM2RsZW0xdWVqSjVPR3RoTjNKNlptWm9ZbkkzWWpBM1lqY3ljd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTJUMDM6NTA6MzguNTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--c5b94c053dda68b105021515057e64460e1c310e/cow.jpg
Completed 302 Found in 108ms (ActiveRecord: 6.6ms | Allocations: 9082)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOM2RsZW0xdWVqSjVPR3RoTjNKNlptWm9ZbkkzWWpBM1lqY3ljd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTJUMDM6NTA6MzguNTk5WiIsInB1ciI6ImJsb2Jfa2V5In19--c5b94c053dda68b105021515057e64460e1c310e/cow.jpg" for ::1 at 2021-08-12 11:45:38 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 346)


Started GET "/animals/1" for ::1 at 2021-08-12 11:49:56 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAnimal Load (0.9ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:110:in `set_animal'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:110:in `set_animal'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:110:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (44.9ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (44.4ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (41.5ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mSponsorship Load (19.8ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:81
  Rendered animals/show.html.erb within layouts/application (Duration: 230.0ms | Allocations: 26400)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 11.5ms | Allocations: 861)
  Rendered layout layouts/application.html.erb (Duration: 279.2ms | Allocations: 35441)
Completed 200 OK in 312ms (Views: 115.9ms | ActiveRecord: 165.6ms | Allocations: 42019)


Started GET "/account" for ::1 at 2021-08-12 11:52:13 +0800
Processing by PagesController#account as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mSponsorship Load (0.4ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."sponsor_id" = $1[0m  [["sponsor_id", 1]]
  ↳ app/controllers/pages_controller.rb:26:in `map'
  Rendering layout layouts/application.html.erb
  Rendering pages/account.html.erb within layouts/application
  [1m[36mAddress Load (0.4ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.3ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  Rendered pages/account.html.erb within layouts/application (Duration: 8.2ms | Allocations: 2316)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 3.0ms | Allocations: 804)
  Rendered layout layouts/application.html.erb (Duration: 42.5ms | Allocations: 11115)
Completed 200 OK in 55ms (Views: 43.0ms | ActiveRecord: 1.9ms | Allocations: 13943)


Started DELETE "/users/sign_out" for ::1 at 2021-08-12 11:53:06 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms | Allocations: 1929)


Started GET "/" for ::1 at 2021-08-12 11:53:06 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.6ms | Allocations: 129)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 3.6ms | Allocations: 788)
  Rendered layout layouts/application.html.erb (Duration: 34.4ms | Allocations: 8724)
Completed 200 OK in 37ms (Views: 35.2ms | ActiveRecord: 0.0ms | Allocations: 9309)


Started GET "/users/sign_up?role=sponsor" for ::1 at 2021-08-12 11:53:08 +0800
Processing by Users::RegistrationsController#new as HTML
  Parameters: {"role"=>"sponsor"}
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 1.1ms | Allocations: 189)
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 135)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 33.6ms | Allocations: 10138)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.4ms | Allocations: 876)
  Rendered layout layouts/application.html.erb (Duration: 50.4ms | Allocations: 19171)
Completed 200 OK in 62ms (Views: 60.6ms | ActiveRecord: 0.0ms | Allocations: 21540)


Started GET "/users/sign_in" for ::1 at 2021-08-12 11:55:22 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 68)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 946)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.3ms | Allocations: 809)
  Rendered layout layouts/application.html.erb (Duration: 43.3ms | Allocations: 9842)
Completed 200 OK in 46ms (Views: 44.2ms | ActiveRecord: 0.0ms | Allocations: 10681)


Started POST "/users/sign_in" for ::1 at 2021-08-12 11:55:26 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 296ms (ActiveRecord: 0.6ms | Allocations: 2512)


Started GET "/" for ::1 at 2021-08-12 11:55:27 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:57:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.3ms | Allocations: 1033)


Started GET "/home" for ::1 at 2021-08-12 11:55:27 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:16:in `home'
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:16:in `home'
  [1m[36mArticle Load (0.5ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:19:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 6.1ms | Allocations: 1842)
  Rendered pages/home.html.erb within layouts/application (Duration: 7.0ms | Allocations: 2147)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.9ms | Allocations: 832)
  Rendered layout layouts/application.html.erb (Duration: 65.5ms | Allocations: 10998)
Completed 200 OK in 81ms (Views: 66.7ms | ActiveRecord: 3.1ms | Allocations: 14021)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a/sheep.jpg" for ::1 at 2021-08-12 11:55:27 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a", "filename"=>"sheep"}
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (0.9ms) [0m[34mGenerated URL for file at key: jv0ugq8co88nehjlqp778huiyh8d (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbll3ZFdkeE9HTnZPRGh1WldocWJIRndOemM0YUhWcGVXZzRaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA0OjAwOjI3LjQxOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--24b289254ada8071003eb3164c0a006c3758426b/sheep.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbll3ZFdkeE9HTnZPRGh1WldocWJIRndOemM0YUhWcGVXZzRaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA0OjAwOjI3LjQxOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--24b289254ada8071003eb3164c0a006c3758426b/sheep.jpg
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 1490)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbll3ZFdkeE9HTnZPRGh1WldocWJIRndOemM0YUhWcGVXZzRaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA0OjAwOjI3LjQxOVoiLCJwdXIiOiJibG9iX2tleSJ9fQ==--24b289254ada8071003eb3164c0a006c3758426b/sheep.jpg" for ::1 at 2021-08-12 11:55:27 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 200 OK in 9ms (ActiveRecord: 0.0ms | Allocations: 377)


Started GET "/animals/new" for ::1 at 2021-08-12 11:55:34 +0800
Processing by AnimalsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering animals/new.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/_form.html.erb:46:in `map'
  Rendered animals/_form.html.erb (Duration: 18.5ms | Allocations: 6254)
  Rendered animals/new.html.erb within layouts/application (Duration: 20.0ms | Allocations: 6629)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 843)
  Rendered layout layouts/application.html.erb (Duration: 32.1ms | Allocations: 15520)
Completed 200 OK in 38ms (Views: 32.4ms | ActiveRecord: 0.7ms | Allocations: 17298)


Started GET "/admin-dashboard" for ::1 at 2021-08-12 11:58:07 +0800
Processing by PagesController#admin as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pages/admin.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", false]]
  ↳ app/views/pages/admin.html.erb:9
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."approved" = $1[0m  [["approved", true]]
  ↳ app/views/pages/admin.html.erb:23
  Rendered pages/admin.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1310)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.5ms | Allocations: 803)
  Rendered layout layouts/application.html.erb (Duration: 35.1ms | Allocations: 10064)
Completed 200 OK in 41ms (Views: 35.2ms | ActiveRecord: 1.0ms | Allocations: 11837)


Started GET "/" for ::1 at 2021-08-12 12:12:53 +0800
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:57:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 52ms (ActiveRecord: 6.1ms | Allocations: 11337)


Started GET "/home" for ::1 at 2021-08-12 12:12:53 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:16:in `home'
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:16:in `home'
  [1m[36mArticle Load (0.4ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:19:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 54.4ms | Allocations: 20147)
  Rendered pages/home.html.erb within layouts/application (Duration: 57.7ms | Allocations: 21429)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 6.8ms | Allocations: 1435)
  Rendered layout layouts/application.html.erb (Duration: 181.6ms | Allocations: 42758)
Completed 200 OK in 334ms (Views: 185.2ms | ActiveRecord: 19.3ms | Allocations: 59908)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a/sheep.jpg" for ::1 at 2021-08-12 12:12:54 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a", "filename"=>"sheep"}
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (19.2ms) [0m[34mGenerated URL for file at key: jv0ugq8co88nehjlqp778huiyh8d (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbll3ZFdkeE9HTnZPRGh1WldocWJIRndOemM0YUhWcGVXZzRaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA0OjE3OjU0LjEzN1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--29ccc4aa143f142ffcc6ec3b1aa39b625fe352e6/sheep.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbll3ZFdkeE9HTnZPRGh1WldocWJIRndOemM0YUhWcGVXZzRaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA0OjE3OjU0LjEzN1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--29ccc4aa143f142ffcc6ec3b1aa39b625fe352e6/sheep.jpg
Completed 302 Found in 28ms (ActiveRecord: 0.4ms | Allocations: 3888)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbll3ZFdkeE9HTnZPRGh1WldocWJIRndOemM0YUhWcGVXZzRaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA0OjE3OjU0LjEzN1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--29ccc4aa143f142ffcc6ec3b1aa39b625fe352e6/sheep.jpg" for ::1 at 2021-08-12 12:12:54 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 540)


Started DELETE "/users/sign_out" for ::1 at 2021-08-12 12:14:23 +0800
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 46ms (ActiveRecord: 5.0ms | Allocations: 14228)


Started GET "/" for ::1 at 2021-08-12 12:14:23 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 8.7ms | Allocations: 2542)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 7.6ms | Allocations: 1431)
  Rendered layout layouts/application.html.erb (Duration: 178.5ms | Allocations: 24806)
Completed 200 OK in 196ms (Views: 188.2ms | ActiveRecord: 0.0ms | Allocations: 28238)


Started GET "/users/sign_up?role=sponsor" for ::1 at 2021-08-12 12:14:27 +0800
Processing by Users::RegistrationsController#new as HTML
  Parameters: {"role"=>"sponsor"}
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.9ms | Allocations: 219)
  Rendered devise/shared/_links.html.erb (Duration: 1.5ms | Allocations: 505)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 88.9ms | Allocations: 26365)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 880)
  Rendered layout layouts/application.html.erb (Duration: 103.5ms | Allocations: 35541)
Completed 200 OK in 111ms (Views: 101.7ms | ActiveRecord: 7.5ms | Allocations: 38330)


Started POST "/users" for ::1 at 2021-08-12 12:14:50 +0800
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"first_name"=>"blah", "last_name"=>"blahson", "email"=>"blah@blah.com", "date_of_birth"=>"1111-11-11", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "role"=>"sponsor", "address_attributes"=>{"street_number"=>"5", "street_name"=>"aj", "suburb"=>"aklnjd", "postcode"=>"100", "state_attributes"=>{"name"=>"qw", "country_attributes"=>{"name"=>"Andorra"}}}}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "blah@blah.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mState Load (0.4ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "qw"], ["LIMIT", 1]]
  ↳ app/models/address.rb:15:in `check_if_state_exists'
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Andorra"], ["LIMIT", 1]]
  ↳ app/models/state.rb:15:in `check_if_country_exists'
  [1m[36mCountry Create (90.2ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Andorra"], ["created_at", "2021-08-12 04:14:50.358697"], ["updated_at", "2021-08-12 04:14:50.358697"]]
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mState Create (84.7ms)[0m  [1m[32mINSERT INTO "states" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Qw"], ["country_id", 2], ["created_at", "2021-08-12 04:14:50.451654"], ["updated_at", "2021-08-12 04:14:50.451654"]]
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mAddress Create (1.4ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "5"], ["street_name", "aj"], ["postcode", "100"], ["suburb", "aklnjd"], ["state_id", 2], ["created_at", "2021-08-12 04:14:50.538977"], ["updated_at", "2021-08-12 04:14:50.538977"]]
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "blah@blah.com"], ["encrypted_password", "$2a$12$kfYLlrc8k1m8mkLLmFoPsOP7WQqgEzQTAYRl/VHaHZ1Rg.On5D3iO"], ["created_at", "2021-08-12 04:14:50.542374"], ["updated_at", "2021-08-12 04:14:50.542374"], ["first_name", "Blah"], ["last_name", "Blahson"], ["approved", true], ["role", 0], ["date_of_birth", "1111-11-11"], ["address_id", 4]]
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mTRANSACTION (81.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
Redirected to http://localhost:3000/
Completed 302 Found in 587ms (ActiveRecord: 260.5ms | Allocations: 16705)


Started GET "/" for ::1 at 2021-08-12 12:14:50 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:57:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.3ms | Allocations: 1257)


Started GET "/home" for ::1 at 2021-08-12 12:14:50 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:16:in `home'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:16:in `home'
  [1m[36mArticle Load (2.0ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:19:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 65.4ms | Allocations: 18599)
  Rendered pages/home.html.erb within layouts/application (Duration: 69.0ms | Allocations: 19511)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 21.3ms | Allocations: 819)
  Rendered layout layouts/application.html.erb (Duration: 205.0ms | Allocations: 28618)
Completed 200 OK in 247ms (Views: 195.2ms | ActiveRecord: 18.7ms | Allocations: 43733)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbll3ZFdkeE9HTnZPRGh1WldocWJIRndOemM0YUhWcGVXZzRaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA0OjE3OjU0LjEzN1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--29ccc4aa143f142ffcc6ec3b1aa39b625fe352e6/sheep.jpg" for ::1 at 2021-08-12 12:14:51 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 695)


Started GET "/account" for ::1 at 2021-08-12 12:15:00 +0800
Processing by PagesController#account as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mSponsorship Load (0.5ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."sponsor_id" = $1[0m  [["sponsor_id", 4]]
  ↳ app/controllers/pages_controller.rb:26:in `map'
  Rendering layout layouts/application.html.erb
  Rendering pages/account.html.erb within layouts/application
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  Rendered pages/account.html.erb within layouts/application (Duration: 7.9ms | Allocations: 3020)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.8ms | Allocations: 785)
  Rendered layout layouts/application.html.erb (Duration: 21.4ms | Allocations: 11857)
Completed 200 OK in 35ms (Views: 21.4ms | ActiveRecord: 2.8ms | Allocations: 16580)


Started DELETE "/users/sign_out" for ::1 at 2021-08-12 12:15:01 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (8.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 30ms (ActiveRecord: 8.9ms | Allocations: 1985)


Started GET "/" for ::1 at 2021-08-12 12:15:01 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.5ms | Allocations: 129)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.7ms | Allocations: 788)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 8825)
Completed 200 OK in 22ms (Views: 18.3ms | ActiveRecord: 0.0ms | Allocations: 9424)


Started GET "/users/sign_up?role=sponsor" for ::1 at 2021-08-12 12:15:03 +0800
Processing by Users::RegistrationsController#new as HTML
  Parameters: {"role"=>"sponsor"}
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.0ms | Allocations: 10)
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 67)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 8.5ms | Allocations: 7245)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.6ms | Allocations: 807)
  Rendered layout layouts/application.html.erb (Duration: 23.4ms | Allocations: 16033)
Completed 200 OK in 25ms (Views: 24.2ms | ActiveRecord: 0.0ms | Allocations: 16778)


Started POST "/users" for ::1 at 2021-08-12 12:15:19 +0800
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"first_name"=>"khsdf", "last_name"=>"adskfd", "email"=>"askd@jlfh.com", "date_of_birth"=>"1111-11-11", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "role"=>"sponsor", "address_attributes"=>{"street_number"=>"njf", "street_name"=>"sknjf", "suburb"=>"njkaf", "postcode"=>"sdfjkn", "state_attributes"=>{"name"=>"afebnjk", "country_attributes"=>{"name"=>"Andorra"}}}}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "askd@jlfh.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.8ms | Allocations: 598)
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | Allocations: 67)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 6.6ms | Allocations: 7566)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 775)
  Rendered layout layouts/application.html.erb (Duration: 18.8ms | Allocations: 16278)
Completed 200 OK in 261ms (Views: 19.2ms | ActiveRecord: 0.5ms | Allocations: 21794)


Started POST "/users" for ::1 at 2021-08-12 12:15:54 +0800
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"first_name"=>"khsdf", "last_name"=>"adskfd", "email"=>"askd@jlfh.com", "date_of_birth"=>"1111-11-11", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "role"=>"sponsor", "address_attributes"=>{"street_number"=>"ksbhdf", "street_name"=>"sfkdjn", "suburb"=>"sknjf", "postcode"=>"1000", "state_attributes"=>{"name"=>"njlad", "country_attributes"=>{"name"=>"Andorra"}}}}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "askd@jlfh.com"], ["LIMIT", 1]]
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/users/registrations_controller.rb:14:in `create'
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 1.0ms | Allocations: 691)
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 89)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 9.7ms | Allocations: 8149)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.3ms | Allocations: 854)
  Rendered layout layouts/application.html.erb (Duration: 21.8ms | Allocations: 17354)
Completed 200 OK in 304ms (Views: 22.2ms | ActiveRecord: 11.3ms | Allocations: 43368)


Started GET "/animals" for ::1 at 2021-08-12 12:16:49 +0800
Processing by AnimalsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 38.3ms | Allocations: 15939)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 6.7ms | Allocations: 2018)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.8ms | Allocations: 1788)
  Rendered animals/index.html.erb within layouts/application (Duration: 74.5ms | Allocations: 38859)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.8ms | Allocations: 917)
  Rendered layout layouts/application.html.erb (Duration: 106.5ms | Allocations: 48063)
Completed 200 OK in 121ms (Views: 98.2ms | ActiveRecord: 12.2ms | Allocations: 53841)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee/pig.jpg" for ::1 at 2021-08-12 12:16:49 +0800
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19/cow.jpg" for ::1 at 2021-08-12 12:16:49 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbll3ZFdkeE9HTnZPRGh1WldocWJIRndOemM0YUhWcGVXZzRaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA0OjE3OjU0LjEzN1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--29ccc4aa143f142ffcc6ec3b1aa39b625fe352e6/sheep.jpg" for ::1 at 2021-08-12 12:16:49 +0800
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee", "filename"=>"pig"}
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19", "filename"=>"cow"}
Processing by ActiveStorage::DiskController#show as JPEG
  [1m[36mActiveStorage::Blob Load (3.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
[36m  Disk Storage (0.8ms) [0m[34mGenerated URL for file at key: be550f3aomvigs8xnmjgwluli50d (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZbVUxTlRCbU0yRnZiWFpwWjNNNGVHNXRhbWQzYkhWc2FUVXdaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTJUMDQ6MjE6NDkuNTUwWiIsInB1ciI6ImJsb2Jfa2V5In19--128299cd855c23e5340674f76007e17a8311e29a/pig.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZbVUxTlRCbU0yRnZiWFpwWjNNNGVHNXRhbWQzYkhWc2FUVXdaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTJUMDQ6MjE6NDkuNTUwWiIsInB1ciI6ImJsb2Jfa2V5In19--128299cd855c23e5340674f76007e17a8311e29a/pig.jpg
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 534)


Completed 302 Found in 11ms (ActiveRecord: 3.3ms | Allocations: 4931)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhZbVUxTlRCbU0yRnZiWFpwWjNNNGVHNXRhbWQzYkhWc2FUVXdaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTJUMDQ6MjE6NDkuNTUwWiIsInB1ciI6ImJsb2Jfa2V5In19--128299cd855c23e5340674f76007e17a8311e29a/pig.jpg" for ::1 at 2021-08-12 12:16:49 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 370)


  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (0.4ms) [0m[34mGenerated URL for file at key: 7wezmnz2y8ka7rzffhbr7b07b72s (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOM2RsZW0xdWVqSjVPR3RoTjNKNlptWm9ZbkkzWWpBM1lqY3ljd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTJUMDQ6MjE6NDkuNjQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--0355fa93c75857b14b22dfcfefa5a60e32bef47f/cow.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOM2RsZW0xdWVqSjVPR3RoTjNKNlptWm9ZbkkzWWpBM1lqY3ljd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTJUMDQ6MjE6NDkuNjQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--0355fa93c75857b14b22dfcfefa5a60e32bef47f/cow.jpg
Completed 302 Found in 104ms (ActiveRecord: 7.3ms | Allocations: 10344)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhOM2RsZW0xdWVqSjVPR3RoTjNKNlptWm9ZbkkzWWpBM1lqY3ljd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTJUMDQ6MjE6NDkuNjQ2WiIsInB1ciI6ImJsb2Jfa2V5In19--0355fa93c75857b14b22dfcfefa5a60e32bef47f/cow.jpg" for ::1 at 2021-08-12 12:16:49 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 358)


Started GET "/" for ::1 at 2021-08-12 12:16:50 +0800
Processing by PagesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering pages/index.html.erb within layouts/application
  Rendered pages/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 185)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 857)
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 9179)
Completed 200 OK in 16ms (Views: 14.7ms | ActiveRecord: 0.0ms | Allocations: 10231)


Started GET "/users/sign_in" for ::1 at 2021-08-12 12:16:52 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 136)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1852)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.5ms | Allocations: 877)
  Rendered layout layouts/application.html.erb (Duration: 17.9ms | Allocations: 10890)
Completed 200 OK in 43ms (Views: 20.0ms | ActiveRecord: 10.0ms | Allocations: 19093)


Started POST "/users/sign_in" for ::1 at 2021-08-12 12:16:55 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"admin@admin.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 302 Found in 238ms (ActiveRecord: 0.5ms | Allocations: 3579)


Started GET "/" for ::1 at 2021-08-12 12:16:56 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:57:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1096)


Started GET "/home" for ::1 at 2021-08-12 12:16:56 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:16:in `home'
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:16:in `home'
  [1m[36mArticle Load (0.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:19:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 41.2ms | Allocations: 1915)
  Rendered pages/home.html.erb within layouts/application (Duration: 52.2ms | Allocations: 2288)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.7ms | Allocations: 856)
  Rendered layout layouts/application.html.erb (Duration: 99.4ms | Allocations: 11524)
Completed 200 OK in 121ms (Views: 99.5ms | ActiveRecord: 4.8ms | Allocations: 17636)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbll3ZFdkeE9HTnZPRGh1WldocWJIRndOemM0YUhWcGVXZzRaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA0OjE3OjU0LjEzN1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--29ccc4aa143f142ffcc6ec3b1aa39b625fe352e6/sheep.jpg" for ::1 at 2021-08-12 12:16:56 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 416)


Started GET "/animals/new" for ::1 at 2021-08-12 12:18:46 +0800
Processing by AnimalsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering animals/new.html.erb within layouts/application
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/_form.html.erb:46:in `map'
  Rendered animals/_form.html.erb (Duration: 22.0ms | Allocations: 6450)
  Rendered animals/new.html.erb within layouts/application (Duration: 24.8ms | Allocations: 6836)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.9ms | Allocations: 849)
  Rendered layout layouts/application.html.erb (Duration: 46.5ms | Allocations: 15867)
Completed 200 OK in 53ms (Views: 46.8ms | ActiveRecord: 0.9ms | Allocations: 17665)


Started POST "/animals" for ::1 at 2021-08-12 12:23:51 +0800
Processing by AnimalsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "animal"=>{"name"=>"khjsbdf", "year_born"=>"2022", "weight"=>"2", "bio"=>"dfs", "species"=>"ds", "sponsor_price"=>"55", "category_id"=>"1", "sponsored"=>"0", "owner_id"=>""}, "commit"=>"Create Animal"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:53:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:56:in `block in create'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:56:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/animals_controller.rb:56:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering animals/new.html.erb within layouts/application
  Rendered animals/_form.html.erb (Duration: 5.6ms | Allocations: 3878)
  Rendered animals/new.html.erb within layouts/application (Duration: 6.1ms | Allocations: 3973)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 4045)
Completed 500 Internal Server Error in 75ms (ActiveRecord: 10.2ms | Allocations: 28443)


  
ActionView::Template::Error (undefined method `map' for nil:NilClass):
    43: 
    44:   <div class="form-group">
    45:     <%= form.label :category_id, "Category" %>
    46:     <%= form.select :category_id, @categories.map {|c| [c.name, c.id]}, class: "form-control" %>
    47:   </div>
    48: 
    49:   <div class="form-group">
  
app/views/animals/_form.html.erb:46
app/views/animals/_form.html.erb:1
app/views/animals/new.html.erb:5
app/controllers/animals_controller.rb:60:in `block (2 levels) in create'
app/controllers/animals_controller.rb:55:in `create'
Started GET "/animals/new" for ::1 at 2021-08-12 12:24:12 +0800
Processing by AnimalsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering animals/new.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/_form.html.erb:46:in `map'
  Rendered animals/_form.html.erb (Duration: 7.4ms | Allocations: 2739)
  Rendered animals/new.html.erb within layouts/application (Duration: 7.8ms | Allocations: 2841)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.7ms | Allocations: 860)
  Rendered layout layouts/application.html.erb (Duration: 49.4ms | Allocations: 12029)
Completed 200 OK in 54ms (Views: 49.5ms | ActiveRecord: 0.7ms | Allocations: 13882)


Started GET "/" for ::1 at 2021-08-12 12:24:15 +0800
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:57:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.4ms | Allocations: 1410)


Started GET "/home" for ::1 at 2021-08-12 12:24:15 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:16:in `home'
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:16:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:19:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 34.7ms | Allocations: 16003)
  Rendered pages/home.html.erb within layouts/application (Duration: 35.6ms | Allocations: 16416)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.5ms | Allocations: 859)
  Rendered layout layouts/application.html.erb (Duration: 50.8ms | Allocations: 25371)
Completed 200 OK in 69ms (Views: 47.0ms | ActiveRecord: 8.6ms | Allocations: 31953)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a/sheep.jpg" for ::1 at 2021-08-12 12:24:16 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a", "filename"=>"sheep"}
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (1.2ms) [0m[34mGenerated URL for file at key: jv0ugq8co88nehjlqp778huiyh8d (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbll3ZFdkeE9HTnZPRGh1WldocWJIRndOemM0YUhWcGVXZzRaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA0OjI5OjE2LjA5NloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--9b0bdfd57ceb9f7dd4a47a736c33f741222e3d13/sheep.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbll3ZFdkeE9HTnZPRGh1WldocWJIRndOemM0YUhWcGVXZzRaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA0OjI5OjE2LjA5NloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--9b0bdfd57ceb9f7dd4a47a736c33f741222e3d13/sheep.jpg
Completed 302 Found in 6ms (ActiveRecord: 0.3ms | Allocations: 2152)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhhbll3ZFdkeE9HTnZPRGh1WldocWJIRndOemM0YUhWcGVXZzRaQVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA0OjI5OjE2LjA5NloiLCJwdXIiOiJibG9iX2tleSJ9fQ==--9b0bdfd57ceb9f7dd4a47a736c33f741222e3d13/sheep.jpg" for ::1 at 2021-08-12 12:24:16 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 526)


Started GET "/animals/new" for ::1 at 2021-08-12 12:24:17 +0800
Processing by AnimalsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering animals/new.html.erb within layouts/application
  [1m[36mCategory Load (1.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/_form.html.erb:46:in `map'
  Rendered animals/_form.html.erb (Duration: 10.4ms | Allocations: 2633)
  Rendered animals/new.html.erb within layouts/application (Duration: 10.8ms | Allocations: 2735)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.6ms | Allocations: 816)
  Rendered layout layouts/application.html.erb (Duration: 50.4ms | Allocations: 11613)
Completed 200 OK in 98ms (Views: 49.3ms | ActiveRecord: 2.2ms | Allocations: 13414)


Started POST "/animals" for ::1 at 2021-08-12 12:24:31 +0800
Processing by AnimalsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "animal"=>{"name"=>"sdf", "year_born"=>"20", "weight"=>"324", "bio"=>"dfs", "species"=>"fsd", "sponsor_price"=>"44", "category_id"=>"1", "sponsored"=>"0", "owner_id"=>""}, "commit"=>"Create Animal"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:53:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:56:in `block in create'
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:56:in `block in create'
  [1m[36mAnimal Create (41.5ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Sdf"], ["year_born", 20], ["weight", 324], ["bio", "dfs"], ["species", "fsd"], ["sponsor_price", 4400], ["category_id", 1], ["owner_id", 1], ["created_at", "2021-08-12 04:24:31.458687"], ["updated_at", "2021-08-12 04:24:31.458687"]]
  ↳ app/controllers/animals_controller.rb:56:in `block in create'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:56:in `block in create'
Redirected to http://localhost:3000/animals/4
Completed 302 Found in 62ms (ActiveRecord: 47.2ms | Allocations: 4557)


Started GET "/animals/4" for ::1 at 2021-08-12 12:24:31 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mAnimal Load (0.4ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:110:in `set_animal'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:110:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:110:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.3ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 4], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mSponsorship Load (0.4ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 4], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:81
  Rendered animals/show.html.erb within layouts/application (Duration: 61.3ms | Allocations: 25710)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.0ms | Allocations: 811)
  Rendered layout layouts/application.html.erb (Duration: 86.2ms | Allocations: 34445)
Completed 200 OK in 108ms (Views: 75.1ms | ActiveRecord: 12.5ms | Allocations: 40086)


Started GET "/animals/new" for ::1 at 2021-08-12 12:24:34 +0800
Processing by AnimalsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering animals/new.html.erb within layouts/application
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/_form.html.erb:46:in `map'
  Rendered animals/_form.html.erb (Duration: 5.8ms | Allocations: 2610)
  Rendered animals/new.html.erb within layouts/application (Duration: 6.1ms | Allocations: 2698)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.4ms | Allocations: 801)
  Rendered layout layouts/application.html.erb (Duration: 20.0ms | Allocations: 11546)
Completed 200 OK in 26ms (Views: 20.3ms | ActiveRecord: 0.5ms | Allocations: 13251)


Started POST "/animals" for ::1 at 2021-08-12 12:24:45 +0800
Processing by AnimalsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "animal"=>{"name"=>"sdf", "year_born"=>"2344", "weight"=>"23", "bio"=>"sdf", "species"=>"sdf", "sponsor_price"=>"34", "category_id"=>"1", "sponsored"=>"0", "owner_id"=>""}, "commit"=>"Create Animal"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:53:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:56:in `block in create'
  [1m[36mCategory Load (4.8ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:56:in `block in create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/controllers/animals_controller.rb:56:in `block in create'
  Rendering layout layouts/application.html.erb
  Rendering animals/new.html.erb within layouts/application
  Rendered animals/_form.html.erb (Duration: 4.6ms | Allocations: 3592)
  Rendered animals/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 3661)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 3729)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 7.0ms | Allocations: 7699)


  
ActionView::Template::Error (undefined method `map' for nil:NilClass):
    43: 
    44:   <div class="form-group">
    45:     <%= form.label :category_id, "Category" %>
    46:     <%= form.select :category_id, @categories.map {|c| [c.name, c.id]}, class: "form-control" %>
    47:   </div>
    48: 
    49:   <div class="form-group">
  
app/views/animals/_form.html.erb:46
app/views/animals/_form.html.erb:1
app/views/animals/new.html.erb:5
app/controllers/animals_controller.rb:60:in `block (2 levels) in create'
app/controllers/animals_controller.rb:55:in `create'
Started GET "/animals/new" for ::1 at 2021-08-12 12:26:35 +0800
Processing by AnimalsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering animals/new.html.erb within layouts/application
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/_form.html.erb:46:in `map'
  Rendered animals/_form.html.erb (Duration: 7.4ms | Allocations: 2527)
  Rendered animals/new.html.erb within layouts/application (Duration: 7.8ms | Allocations: 2614)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.9ms | Allocations: 804)
  Rendered layout layouts/application.html.erb (Duration: 51.5ms | Allocations: 11557)
Completed 200 OK in 61ms (Views: 51.9ms | ActiveRecord: 0.9ms | Allocations: 13150)


Started POST "/animals" for ::1 at 2021-08-12 12:26:54 +0800
Processing by AnimalsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "animal"=>{"name"=>"sdf", "year_born"=>"2344", "weight"=>"23", "bio"=>"sdf", "species"=>"sdf", "sponsor_price"=>"34", "category_id"=>"1", "sponsored"=>"0", "owner_id"=>""}, "commit"=>"Create Animal"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:53:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/controllers/animals_controller.rb:56:in `block in create'
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:56:in `block in create'
  [1m[36mAnimal Create (0.8ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Sdf"], ["year_born", 2344], ["weight", 23], ["bio", "sdf"], ["species", "sdf"], ["sponsor_price", 3400], ["category_id", 1], ["owner_id", 1], ["created_at", "2021-08-12 04:26:54.269628"], ["updated_at", "2021-08-12 04:26:54.269628"]]
  ↳ app/controllers/animals_controller.rb:56:in `block in create'
  [1m[36mTRANSACTION (40.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/controllers/animals_controller.rb:56:in `block in create'
Redirected to http://localhost:3000/animals/5
Completed 302 Found in 105ms (ActiveRecord: 50.1ms | Allocations: 24841)


Started GET "/animals/5" for ::1 at 2021-08-12 12:26:54 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:110:in `set_animal'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:110:in `set_animal'
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:110:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 5], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:9
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.6ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3[0m  [["record_id", 5], ["record_type", "Animal"], ["name", "media"]]
  ↳ app/views/animals/show.html.erb:59
  [1m[36mSponsorship Load (0.3ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 5], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:81
  Rendered animals/show.html.erb within layouts/application (Duration: 75.9ms | Allocations: 26140)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 3.3ms | Allocations: 851)
  Rendered layout layouts/application.html.erb (Duration: 109.3ms | Allocations: 35054)
Completed 200 OK in 120ms (Views: 99.5ms | ActiveRecord: 12.8ms | Allocations: 38149)


  [1m[35m (41.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (45.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (75.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "save_their_bacon_development"[0m
  [1m[35m (57.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "save_their_bacon_test"[0m
  [1m[35m (172.9ms)[0m  [1m[35mCREATE DATABASE "save_their_bacon_development" ENCODING = 'unicode'[0m
  [1m[35m (142.8ms)[0m  [1m[35mCREATE DATABASE "save_their_bacon_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (1.9ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (20.6ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "street_number" character varying, "street_name" character varying, "postcode" character varying, "suburb" character varying, "state_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_state_id" ON "addresses" ("state_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "animals" CASCADE[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "name" character varying, "year_born" integer, "weight" integer, "bio" text, "species" character varying, "sponsored" boolean DEFAULT FALSE NOT NULL, "sponsor_price" integer, "category_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_animals_on_category_id" ON "animals" ("category_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_animals_on_owner_id" ON "animals" ("owner_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "articles" ("id" bigserial primary key, "title" character varying, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "sponsorship_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_chats_on_sponsorship_id" ON "chats" ("sponsorship_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "chat_id" bigint NOT NULL, "sender_id" bigint NOT NULL, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_messages_on_chat_id" ON "messages" ("chat_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_messages_on_sender_id" ON "messages" ("sender_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "sponsorships" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "sponsorships" ("id" bigserial primary key, "receipt" character varying, "animal_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "sponsor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_animal_id" ON "sponsorships" ("animal_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_owner_id" ON "sponsorships" ("owner_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_sponsor_id" ON "sponsorships" ("sponsor_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "states" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "states" ("id" bigserial primary key, "name" character varying, "country_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_states_on_country_id" ON "states" ("country_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "first_name" character varying, "last_name" character varying, "approved" boolean, "role" integer, "date_of_birth" date, "address_id" bigint NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_users_on_address_id" ON "users" ("address_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (5.5ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_2d87b6c11e"
FOREIGN KEY ("state_id")
  REFERENCES "states" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_fe0d97b5eb"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_8d97761a89"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "chats" ADD CONSTRAINT "fk_rails_4d1bd8a917"
FOREIGN KEY ("sponsorship_id")
  REFERENCES "sponsorships" ("id")
[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_ac0a2a4ca2"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_fb21d21baf"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (26.9ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_bf78e760cb"
FOREIGN KEY ("sponsor_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "states" ADD CONSTRAINT "fk_rails_40bd891262"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_eb2fc738e4"
FOREIGN KEY ("address_id")
  REFERENCES "addresses" ("id")
[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210809103829)[0m
  [1m[35m (1.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20210726021338),
(20210726031458),
(20210727000917),
(20210727001212),
(20210727001446),
(20210727002353),
(20210727014626),
(20210727014902),
(20210727021825),
(20210728001211),
(20210803015959),
(20210803020258);

[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-08-12 04:32:57.787069"], ["updated_at", "2021-08-12 04:32:57.787069"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "4a28e1dc81aafcce80d6bf5ac6f779ffc2460a65"], ["created_at", "2021-08-12 04:32:57.796167"], ["updated_at", "2021-08-12 04:32:57.796167"]]
  [1m[36mTRANSACTION (40.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (6.1ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "street_number" character varying, "street_name" character varying, "postcode" character varying, "suburb" character varying, "state_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_state_id" ON "addresses" ("state_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "animals" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "name" character varying, "year_born" integer, "weight" integer, "bio" text, "species" character varying, "sponsored" boolean DEFAULT FALSE NOT NULL, "sponsor_price" integer, "category_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_animals_on_category_id" ON "animals" ("category_id")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_animals_on_owner_id" ON "animals" ("owner_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "articles" ("id" bigserial primary key, "title" character varying, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "sponsorship_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_chats_on_sponsorship_id" ON "chats" ("sponsorship_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "chat_id" bigint NOT NULL, "sender_id" bigint NOT NULL, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_messages_on_chat_id" ON "messages" ("chat_id")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_messages_on_sender_id" ON "messages" ("sender_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "sponsorships" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "sponsorships" ("id" bigserial primary key, "receipt" character varying, "animal_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "sponsor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_animal_id" ON "sponsorships" ("animal_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_owner_id" ON "sponsorships" ("owner_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_sponsor_id" ON "sponsorships" ("sponsor_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "states" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "states" ("id" bigserial primary key, "name" character varying, "country_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_states_on_country_id" ON "states" ("country_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "first_name" character varying, "last_name" character varying, "approved" boolean, "role" integer, "date_of_birth" date, "address_id" bigint NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_users_on_address_id" ON "users" ("address_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_2d87b6c11e"
FOREIGN KEY ("state_id")
  REFERENCES "states" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_fe0d97b5eb"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_8d97761a89"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "chats" ADD CONSTRAINT "fk_rails_4d1bd8a917"
FOREIGN KEY ("sponsorship_id")
  REFERENCES "sponsorships" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_ac0a2a4ca2"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_fb21d21baf"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_bf78e760cb"
FOREIGN KEY ("sponsor_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "states" ADD CONSTRAINT "fk_rails_40bd891262"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_eb2fc738e4"
FOREIGN KEY ("address_id")
  REFERENCES "addresses" ("id")
[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210809103829)[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20210726021338),
(20210726031458),
(20210727000917),
(20210727001212),
(20210727001446),
(20210727002353),
(20210727014626),
(20210727014902),
(20210727021825),
(20210728001211),
(20210803015959),
(20210803020258);

[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-08-12 04:32:58.067483"], ["updated_at", "2021-08-12 04:32:58.067483"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (24.8ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-08-12 04:32:58.072437"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "4a28e1dc81aafcce80d6bf5ac6f779ffc2460a65"], ["created_at", "2021-08-12 04:32:58.104428"], ["updated_at", "2021-08-12 04:32:58.104428"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Create (0.6ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Australia"], ["created_at", "2021-08-12 04:32:58.161414"], ["updated_at", "2021-08-12 04:32:58.161414"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "states"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Australia"], ["LIMIT", 1]]
  ↳ app/models/state.rb:15:in `check_if_country_exists'
  [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Australia"], ["LIMIT", 1]]
  ↳ app/models/state.rb:15:in `check_if_country_exists'
  [1m[36mState Create (0.8ms)[0m  [1m[32mINSERT INTO "states" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Western australia"], ["country_id", 1], ["created_at", "2021-08-12 04:32:58.189563"], ["updated_at", "2021-08-12 04:32:58.189563"]]
  [1m[36mTRANSACTION (40.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:16:in `check_if_state_exists'
  [1m[36mState Load (0.1ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:16:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:16:in `check_if_state_exists'
  [1m[36mAddress Create (0.6ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Admin St"], ["postcode", "1234"], ["suburb", "Admington"], ["state_id", 1], ["created_at", "2021-08-12 04:32:58.253782"], ["updated_at", "2021-08-12 04:32:58.253782"]]
  [1m[36mTRANSACTION (40.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mState Load (0.4ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:16:in `check_if_state_exists'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:16:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:16:in `check_if_state_exists'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Sponsor St"], ["postcode", "2345"], ["suburb", "Sponsor Lake"], ["state_id", 1], ["created_at", "2021-08-12 04:32:58.302880"], ["updated_at", "2021-08-12 04:32:58.302880"]]
  [1m[36mTRANSACTION (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:16:in `check_if_state_exists'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:16:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:16:in `check_if_state_exists'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Sanctuary St"], ["postcode", "3456"], ["suburb", "Sanctuary Hills"], ["state_id", 1], ["created_at", "2021-08-12 04:32:58.311170"], ["updated_at", "2021-08-12 04:32:58.311170"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "admin@admin.com"], ["encrypted_password", "$2a$12$4Hh12t8ZeHYpgMywS9RmuuoURuD7MmAeCiOy.OI0SEytvrGLEZfr."], ["created_at", "2021-08-12 04:32:58.552130"], ["updated_at", "2021-08-12 04:32:58.552130"], ["first_name", "Admin"], ["last_name", "Admins"], ["approved", true], ["role", 2], ["date_of_birth", "1980-01-01"], ["address_id", 1]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sponsor@sponsor.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "sponsor@sponsor.com"], ["encrypted_password", "$2a$12$BKLErVTvmHi7vDubj5AaOuc5UOR99OlmCdPWzV.zgyffJnlM0crVq"], ["created_at", "2021-08-12 04:32:58.773717"], ["updated_at", "2021-08-12 04:32:58.773717"], ["first_name", "Spon"], ["last_name", "Sor"], ["approved", true], ["role", 0], ["date_of_birth", "1980-01-01"], ["address_id", 2]]
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sanctuary@sanctuary.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "sanctuary@sanctuary.com"], ["encrypted_password", "$2a$12$sqYV6FNF17CSxPXZ7Kruie0Uz4gJ07hISkKJPGKBxC3vKXJ7UaScK"], ["created_at", "2021-08-12 04:32:59.002155"], ["updated_at", "2021-08-12 04:32:59.002155"], ["first_name", "Sanc"], ["last_name", "Tuary"], ["approved", false], ["role", 1], ["date_of_birth", "1980-01-01"], ["address_id", 2]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "approved" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2021-08-12 04:32:59.006101"], ["approved", true], ["id", 3]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (44.5ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pig"], ["created_at", "2021-08-12 04:32:59.023987"], ["updated_at", "2021-08-12 04:32:59.023987"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Cow"], ["created_at", "2021-08-12 04:32:59.073511"], ["updated_at", "2021-08-12 04:32:59.073511"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sheep"], ["created_at", "2021-08-12 04:32:59.078107"], ["updated_at", "2021-08-12 04:32:59.078107"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Chicken"], ["created_at", "2021-08-12 04:32:59.082053"], ["updated_at", "2021-08-12 04:32:59.082053"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Horse"], ["created_at", "2021-08-12 04:32:59.085980"], ["updated_at", "2021-08-12 04:32:59.085980"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Goat"], ["created_at", "2021-08-12 04:32:59.089795"], ["updated_at", "2021-08-12 04:32:59.089795"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Create (42.8ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Ham solo"], ["year_born", 2010], ["weight", 100], ["bio", "Proving pigs can fly"], ["species", "Chonker"], ["sponsor_price", 5000], ["category_id", 1], ["owner_id", 3], ["created_at", "2021-08-12 04:32:59.141234"], ["updated_at", "2021-08-12 04:32:59.141234"]]
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "6x9068ay585f8zfqs4fibl45i5up"], ["filename", "pig.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 63070], ["checksum", "90VAk/JgiPplQ/k0FbH5og=="], ["created_at", "2021-08-12 04:32:59.218456"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 1], ["blob_id", 1], ["created_at", "2021-08-12 04:32:59.220884"]]
  [1m[36mAnimal Update (0.3ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-12 04:32:59.222786"], ["id", 1]]
  [1m[36mTRANSACTION (40.9ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (2.6ms) [0m[32mUploaded file to key: 6x9068ay585f8zfqs4fibl45i5up (checksum: 90VAk/JgiPplQ/k0FbH5og==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3ac6dea5-1933-42d5-8545-c13156acaeb3) to Async(default) with arguments: #<GlobalID:0x00007fbb53479080 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/1>>
  [1m[36mCategory Load (2.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Create (0.4ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Vladimir mootin"], ["year_born", 2015], ["weight", 120], ["bio", "Theres a MosCOW joke there somewhere"], ["species", "President"], ["sponsor_price", 6000], ["category_id", 2], ["owner_id", 3], ["created_at", "2021-08-12 04:32:59.284410"], ["updated_at", "2021-08-12 04:32:59.284410"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "iv34cyymppcpy74zk23wc0agfi0u"], ["filename", "cow.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 85749], ["checksum", "Yugf1sJBNAnlVPyCdAy9SA=="], ["created_at", "2021-08-12 04:32:59.292913"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 2], ["blob_id", 2], ["created_at", "2021-08-12 04:32:59.295783"]]
  [1m[36mAnimal Update (0.4ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-12 04:32:59.297975"], ["id", 2]]
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3ac6dea5-1933-42d5-8545-c13156acaeb3] Performing ActiveStorage::AnalyzeJob (Job ID: 3ac6dea5-1933-42d5-8545-c13156acaeb3) from Async(default) enqueued at 2021-08-12T04:32:59Z with arguments: #<GlobalID:0x00007fbb4e5ec020 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [3ac6dea5-1933-42d5-8545-c13156acaeb3] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: 6x9068ay585f8zfqs4fibl45i5up[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3ac6dea5-1933-42d5-8545-c13156acaeb3] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [3ac6dea5-1933-42d5-8545-c13156acaeb3]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3ac6dea5-1933-42d5-8545-c13156acaeb3]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (61.7ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3ac6dea5-1933-42d5-8545-c13156acaeb3]   [1m[36mTRANSACTION (44.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3ac6dea5-1933-42d5-8545-c13156acaeb3] Performed ActiveStorage::AnalyzeJob (Job ID: 3ac6dea5-1933-42d5-8545-c13156acaeb3) from Async(default) in 64.03ms
[36m  Disk Storage (2.9ms) [0m[32mUploaded file to key: iv34cyymppcpy74zk23wc0agfi0u (checksum: Yugf1sJBNAnlVPyCdAy9SA==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 1a2e8f70-73d0-40b4-9b2f-5af4f00656f3) to Async(default) with arguments: #<GlobalID:0x00007fbb4e625708 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/2>>
  [1m[36mCategory Load (0.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1a2e8f70-73d0-40b4-9b2f-5af4f00656f3] Performing ActiveStorage::AnalyzeJob (Job ID: 1a2e8f70-73d0-40b4-9b2f-5af4f00656f3) from Async(default) enqueued at 2021-08-12T04:32:59Z with arguments: #<GlobalID:0x00007fbb5369d488 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [1a2e8f70-73d0-40b4-9b2f-5af4f00656f3] [36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: iv34cyymppcpy74zk23wc0agfi0u[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Create (2.4ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Meryl sheep"], ["year_born", 2008], ["weight", 80], ["bio", "A Farmous Actress"], ["species", "Floofer"], ["sponsor_price", 10000], ["category_id", 3], ["owner_id", 3], ["created_at", "2021-08-12 04:32:59.373714"], ["updated_at", "2021-08-12 04:32:59.373714"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1a2e8f70-73d0-40b4-9b2f-5af4f00656f3] Skipping image analysis because the mini_magick gem isn't installed
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1a2e8f70-73d0-40b4-9b2f-5af4f00656f3]   [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1a2e8f70-73d0-40b4-9b2f-5af4f00656f3]   [1m[36mActiveStorage::Blob Update (2.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
  [1m[36mActiveStorage::Blob Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "mn96i3wvwllg3vkboklg368cvbtd"], ["filename", "sheep.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 99269], ["checksum", "M/Dwzj+u/kr3gCzmCGfSeg=="], ["created_at", "2021-08-12 04:32:59.385726"]]
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 3], ["blob_id", 3], ["created_at", "2021-08-12 04:32:59.388613"]]
  [1m[36mAnimal Update (0.4ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-12 04:32:59.390428"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1a2e8f70-73d0-40b4-9b2f-5af4f00656f3]   [1m[36mTRANSACTION (15.8ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1a2e8f70-73d0-40b4-9b2f-5af4f00656f3] Performed ActiveStorage::AnalyzeJob (Job ID: 1a2e8f70-73d0-40b4-9b2f-5af4f00656f3) from Async(default) in 31.88ms
  [1m[36mTRANSACTION (12.0ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (1.2ms) [0m[32mUploaded file to key: mn96i3wvwllg3vkboklg368cvbtd (checksum: M/Dwzj+u/kr3gCzmCGfSeg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: cd7cbc76-39a1-4650-a596-2adbe58403a2) to Async(default) with arguments: #<GlobalID:0x00007fbb53780f58 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/3>>
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles"[0m
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [cd7cbc76-39a1-4650-a596-2adbe58403a2] Performing ActiveStorage::AnalyzeJob (Job ID: cd7cbc76-39a1-4650-a596-2adbe58403a2) from Async(default) enqueued at 2021-08-12T04:32:59Z with arguments: #<GlobalID:0x00007fbb4e6ccc60 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/3>>
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [cd7cbc76-39a1-4650-a596-2adbe58403a2] [36m  Disk Storage (1.3ms) [0m[34mDownloaded file from key: mn96i3wvwllg3vkboklg368cvbtd[0m
  [1m[36mArticle Create (0.8ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Article 1"], ["body", "This is the article"], ["created_at", "2021-08-12 04:32:59.424069"], ["updated_at", "2021-08-12 04:32:59.424069"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [cd7cbc76-39a1-4650-a596-2adbe58403a2] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [cd7cbc76-39a1-4650-a596-2adbe58403a2]   [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [cd7cbc76-39a1-4650-a596-2adbe58403a2]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
  [1m[36mTRANSACTION (61.6ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [cd7cbc76-39a1-4650-a596-2adbe58403a2]   [1m[36mTRANSACTION (59.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [cd7cbc76-39a1-4650-a596-2adbe58403a2] Performed ActiveStorage::AnalyzeJob (Job ID: cd7cbc76-39a1-4650-a596-2adbe58403a2) from Async(default) in 80.25ms
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArticle Create (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Article 2"], ["body", "This is the article"], ["created_at", "2021-08-12 04:32:59.493468"], ["updated_at", "2021-08-12 04:32:59.493468"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArticle Create (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Website Updates"], ["body", "I did a thing to the website"], ["created_at", "2021-08-12 04:32:59.498323"], ["updated_at", "2021-08-12 04:32:59.498323"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2021-08-12 12:56:00 +0800
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:57:in `redirect_signed_in_user'
Redirected to http://localhost:3000/home
Filter chain halted as :redirect_signed_in_user rendered or redirected
Completed 302 Found in 45ms (ActiveRecord: 6.4ms | Allocations: 11361)


Started GET "/home" for ::1 at 2021-08-12 12:56:01 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:16:in `home'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:16:in `home'
  [1m[36mArticle Load (2.3ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:19:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 55.5ms | Allocations: 20146)
  Rendered pages/home.html.erb within layouts/application (Duration: 58.7ms | Allocations: 21429)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 5.0ms | Allocations: 1435)
  Rendered layout layouts/application.html.erb (Duration: 205.1ms | Allocations: 42864)
Completed 200 OK in 272ms (Views: 203.3ms | ActiveRecord: 19.4ms | Allocations: 60625)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a/sheep.jpg" for ::1 at 2021-08-12 12:56:01 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDQT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--9c32345682ab9afd3199f730869ba0d6d1b5a40a", "filename"=>"sheep"}
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (20.3ms) [0m[34mGenerated URL for file at key: f8o8rf9ecad49dvb6nl8zbzz5fde (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaamh2T0hKbU9XVmpZV1EwT1dSMllqWnViRGg2WW5wNk5XWmtaUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA1OjAxOjAxLjU2N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--fb2e7a17ed36ae47267d314e335c7aaaab8fedcc/sheep.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaamh2T0hKbU9XVmpZV1EwT1dSMllqWnViRGg2WW5wNk5XWmtaUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA1OjAxOjAxLjU2N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--fb2e7a17ed36ae47267d314e335c7aaaab8fedcc/sheep.jpg
Completed 302 Found in 28ms (ActiveRecord: 0.3ms | Allocations: 4477)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaamh2T0hKbU9XVmpZV1EwT1dSMllqWnViRGg2WW5wNk5XWmtaUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA1OjAxOjAxLjU2N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--fb2e7a17ed36ae47267d314e335c7aaaab8fedcc/sheep.jpg" for ::1 at 2021-08-12 12:56:01 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 838)


Started GET "/home" for ::1 at 2021-08-12 12:56:04 +0800
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  ↳ app/controllers/pages_controller.rb:16:in `home'
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/pages_controller.rb:16:in `home'
  [1m[36mArticle Load (0.2ms)[0m  [1m[34mSELECT "articles".* FROM "articles" ORDER BY "articles"."id" DESC LIMIT $1[0m  [["LIMIT", 5]]
  ↳ app/controllers/pages_controller.rb:19:in `home'
  Rendering layout layouts/application.html.erb
  Rendering pages/home.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.8ms | Allocations: 1856)
  Rendered pages/home.html.erb within layouts/application (Duration: 5.7ms | Allocations: 2188)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.0ms | Allocations: 844)
  Rendered layout layouts/application.html.erb (Duration: 19.6ms | Allocations: 11191)
Completed 200 OK in 27ms (Views: 19.6ms | ActiveRecord: 1.4ms | Allocations: 14418)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaamh2T0hKbU9XVmpZV1EwT1dSMllqWnViRGg2WW5wNk5XWmtaUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA1OjAxOjAxLjU2N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--fb2e7a17ed36ae47267d314e335c7aaaab8fedcc/sheep.jpg" for ::1 at 2021-08-12 12:56:05 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 703)


  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (55.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "save_their_bacon_development"[0m
  [1m[35m (51.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "save_their_bacon_test"[0m
  [1m[35m (152.7ms)[0m  [1m[35mCREATE DATABASE "save_their_bacon_development" ENCODING = 'unicode'[0m
  [1m[35m (99.8ms)[0m  [1m[35mCREATE DATABASE "save_their_bacon_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "street_number" character varying, "street_name" character varying, "postcode" character varying, "suburb" character varying, "state_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_state_id" ON "addresses" ("state_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "animals" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "name" character varying, "year_born" integer, "weight" integer, "bio" text, "species" character varying, "sponsored" boolean DEFAULT FALSE NOT NULL, "sponsor_price" integer, "category_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_animals_on_category_id" ON "animals" ("category_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_animals_on_owner_id" ON "animals" ("owner_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "articles" ("id" bigserial primary key, "title" character varying, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "sponsorship_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_chats_on_sponsorship_id" ON "chats" ("sponsorship_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "chat_id" bigint NOT NULL, "sender_id" bigint NOT NULL, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_messages_on_chat_id" ON "messages" ("chat_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_messages_on_sender_id" ON "messages" ("sender_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "sponsorships" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "sponsorships" ("id" bigserial primary key, "receipt" character varying, "animal_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "sponsor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_animal_id" ON "sponsorships" ("animal_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_owner_id" ON "sponsorships" ("owner_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_sponsor_id" ON "sponsorships" ("sponsor_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "states" CASCADE[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "states" ("id" bigserial primary key, "name" character varying, "country_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_states_on_country_id" ON "states" ("country_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "first_name" character varying, "last_name" character varying, "approved" boolean, "role" integer, "date_of_birth" date, "address_id" bigint NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_users_on_address_id" ON "users" ("address_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (2.2ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_2d87b6c11e"
FOREIGN KEY ("state_id")
  REFERENCES "states" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_fe0d97b5eb"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_8d97761a89"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "chats" ADD CONSTRAINT "fk_rails_4d1bd8a917"
FOREIGN KEY ("sponsorship_id")
  REFERENCES "sponsorships" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_ac0a2a4ca2"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_fb21d21baf"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_bf78e760cb"
FOREIGN KEY ("sponsor_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "states" ADD CONSTRAINT "fk_rails_40bd891262"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_eb2fc738e4"
FOREIGN KEY ("address_id")
  REFERENCES "addresses" ("id")
[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210809103829)[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20210726021338),
(20210726031458),
(20210727000917),
(20210727001212),
(20210727001446),
(20210727002353),
(20210727014626),
(20210727014902),
(20210727021825),
(20210728001211),
(20210803015959),
(20210803020258);

[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-08-12 04:56:20.390699"], ["updated_at", "2021-08-12 04:56:20.390699"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "4a28e1dc81aafcce80d6bf5ac6f779ffc2460a65"], ["created_at", "2021-08-12 04:56:20.398437"], ["updated_at", "2021-08-12 04:56:20.398437"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "service_name" character varying NOT NULL, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_variant_records" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "active_storage_variant_records" ("id" bigserial primary key, "blob_id" bigint NOT NULL, "variation_digest" character varying NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_variant_records_uniqueness" ON "active_storage_variant_records" ("blob_id", "variation_digest")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "addresses" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" bigserial primary key, "street_number" character varying, "street_name" character varying, "postcode" character varying, "suburb" character varying, "state_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_addresses_on_state_id" ON "addresses" ("state_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "animals" CASCADE[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "animals" ("id" bigserial primary key, "name" character varying, "year_born" integer, "weight" integer, "bio" text, "species" character varying, "sponsored" boolean DEFAULT FALSE NOT NULL, "sponsor_price" integer, "category_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_animals_on_category_id" ON "animals" ("category_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_animals_on_owner_id" ON "animals" ("owner_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "articles" CASCADE[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "articles" ("id" bigserial primary key, "title" character varying, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "chats" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "chats" ("id" bigserial primary key, "sponsorship_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_chats_on_sponsorship_id" ON "chats" ("sponsorship_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "countries" CASCADE[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "countries" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" CASCADE[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "messages" ("id" bigserial primary key, "chat_id" bigint NOT NULL, "sender_id" bigint NOT NULL, "body" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_messages_on_chat_id" ON "messages" ("chat_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_messages_on_sender_id" ON "messages" ("sender_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "sponsorships" CASCADE[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "sponsorships" ("id" bigserial primary key, "receipt" character varying, "animal_id" bigint NOT NULL, "owner_id" bigint NOT NULL, "sponsor_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_animal_id" ON "sponsorships" ("animal_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_owner_id" ON "sponsorships" ("owner_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_sponsorships_on_sponsor_id" ON "sponsorships" ("sponsor_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "states" CASCADE[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "states" ("id" bigserial primary key, "name" character varying, "country_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_states_on_country_id" ON "states" ("country_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "first_name" character varying, "last_name" character varying, "approved" boolean, "role" integer, "date_of_birth" date, "address_id" bigint NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_users_on_address_id" ON "users" ("address_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35m (2.1ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "active_storage_variant_records" ADD CONSTRAINT "fk_rails_993965df05"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "addresses" ADD CONSTRAINT "fk_rails_2d87b6c11e"
FOREIGN KEY ("state_id")
  REFERENCES "states" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_fe0d97b5eb"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "animals" ADD CONSTRAINT "fk_rails_8d97761a89"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "chats" ADD CONSTRAINT "fk_rails_4d1bd8a917"
FOREIGN KEY ("sponsorship_id")
  REFERENCES "sponsorships" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_0f670de7ba"
FOREIGN KEY ("chat_id")
  REFERENCES "chats" ("id")
[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "messages" ADD CONSTRAINT "fk_rails_b8f26a382d"
FOREIGN KEY ("sender_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_ac0a2a4ca2"
FOREIGN KEY ("animal_id")
  REFERENCES "animals" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_fb21d21baf"
FOREIGN KEY ("owner_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "sponsorships" ADD CONSTRAINT "fk_rails_bf78e760cb"
FOREIGN KEY ("sponsor_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "states" ADD CONSTRAINT "fk_rails_40bd891262"
FOREIGN KEY ("country_id")
  REFERENCES "countries" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "users" ADD CONSTRAINT "fk_rails_eb2fc738e4"
FOREIGN KEY ("address_id")
  REFERENCES "addresses" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210809103829)[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20210726021338),
(20210726031458),
(20210727000917),
(20210727001212),
(20210727001446),
(20210727002353),
(20210727014626),
(20210727014902),
(20210727021825),
(20210728001211),
(20210803015959),
(20210803020258);

[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-08-12 04:56:20.622015"], ["updated_at", "2021-08-12 04:56:20.622015"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.2ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2021-08-12 04:56:20.627645"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "4a28e1dc81aafcce80d6bf5ac6f779ffc2460a65"], ["created_at", "2021-08-12 04:56:20.632690"], ["updated_at", "2021-08-12 04:56:20.632690"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "countries"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Create (0.5ms)[0m  [1m[32mINSERT INTO "countries" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Australia"], ["created_at", "2021-08-12 04:56:20.685604"], ["updated_at", "2021-08-12 04:56:20.685604"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "states"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCountry Load (0.1ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Australia"], ["LIMIT", 1]]
  ↳ app/models/state.rb:15:in `check_if_country_exists'
  [1m[36mCACHE Country Load (0.0ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."name" = $1 LIMIT $2[0m  [["name", "Australia"], ["LIMIT", 1]]
  ↳ app/models/state.rb:15:in `check_if_country_exists'
  [1m[36mState Create (0.6ms)[0m  [1m[32mINSERT INTO "states" ("name", "country_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Western australia"], ["country_id", 1], ["created_at", "2021-08-12 04:56:20.707571"], ["updated_at", "2021-08-12 04:56:20.707571"]]
  [1m[36mTRANSACTION (41.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses"[0m
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:16:in `check_if_state_exists'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:16:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:16:in `check_if_state_exists'
  [1m[36mAddress Create (0.6ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Admin St"], ["postcode", "1234"], ["suburb", "Admington"], ["state_id", 1], ["created_at", "2021-08-12 04:56:20.774658"], ["updated_at", "2021-08-12 04:56:20.774658"]]
  [1m[36mTRANSACTION (13.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:16:in `check_if_state_exists'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:16:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:16:in `check_if_state_exists'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Sponsor St"], ["postcode", "2345"], ["suburb", "Sponsor Lake"], ["state_id", 1], ["created_at", "2021-08-12 04:56:20.795047"], ["updated_at", "2021-08-12 04:56:20.795047"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" ORDER BY "states"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/models/address.rb:16:in `check_if_state_exists'
  [1m[36mState Load (0.1ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:16:in `check_if_state_exists'
  [1m[36mCACHE State Load (0.0ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."name" = $1 LIMIT $2[0m  [["name", "Western australia"], ["LIMIT", 1]]
  ↳ app/models/address.rb:16:in `check_if_state_exists'
  [1m[36mAddress Create (0.3ms)[0m  [1m[32mINSERT INTO "addresses" ("street_number", "street_name", "postcode", "suburb", "state_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["street_number", "123"], ["street_name", "Sanctuary St"], ["postcode", "3456"], ["suburb", "Sanctuary Hills"], ["state_id", 1], ["created_at", "2021-08-12 04:56:20.801723"], ["updated_at", "2021-08-12 04:56:20.801723"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" ORDER BY "addresses"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "admin@admin.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "admin@admin.com"], ["encrypted_password", "$2a$12$id5ew.20Ni.V4yy1q.KnVOTyK39wy5/xJ6pj9ejlcG9NpJ1i4amV."], ["created_at", "2021-08-12 04:56:21.038948"], ["updated_at", "2021-08-12 04:56:21.038948"], ["first_name", "Admin"], ["last_name", "Admins"], ["approved", true], ["role", 2], ["date_of_birth", "1980-01-01"], ["address_id", 1]]
  [1m[36mTRANSACTION (5.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sponsor@sponsor.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "sponsor@sponsor.com"], ["encrypted_password", "$2a$12$f82pN6qAOgK1LfSJ4ggkTuepdX.PuvxV8c5wgMiWcu94wkfAfltRW"], ["created_at", "2021-08-12 04:56:21.266218"], ["updated_at", "2021-08-12 04:56:21.266218"], ["first_name", "Spon"], ["last_name", "Sor"], ["approved", true], ["role", 0], ["date_of_birth", "1980-01-01"], ["address_id", 2]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sanctuary@sanctuary.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at", "first_name", "last_name", "approved", "role", "date_of_birth", "address_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["email", "sanctuary@sanctuary.com"], ["encrypted_password", "$2a$12$ZPWjlSK/DXnNo.VFYh9Ld.ENBgrwkgIzQk0OG0xmR.0AOh47Aipbi"], ["created_at", "2021-08-12 04:56:21.489967"], ["updated_at", "2021-08-12 04:56:21.489967"], ["first_name", "Sanc"], ["last_name", "Tuary"], ["approved", false], ["role", 1], ["date_of_birth", "1980-01-01"], ["address_id", 2]]
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = $1, "approved" = $2 WHERE "users"."id" = $3[0m  [["updated_at", "2021-08-12 04:56:21.494962"], ["approved", true], ["id", 3]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "categories"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Pig"], ["created_at", "2021-08-12 04:56:21.507879"], ["updated_at", "2021-08-12 04:56:21.507879"]]
  [1m[36mTRANSACTION (40.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.3ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Cow"], ["created_at", "2021-08-12 04:56:21.553155"], ["updated_at", "2021-08-12 04:56:21.553155"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Sheep"], ["created_at", "2021-08-12 04:56:21.558170"], ["updated_at", "2021-08-12 04:56:21.558170"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.4ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Chicken"], ["created_at", "2021-08-12 04:56:21.561852"], ["updated_at", "2021-08-12 04:56:21.561852"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Horse"], ["created_at", "2021-08-12 04:56:21.565613"], ["updated_at", "2021-08-12 04:56:21.565613"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mCategory Create (0.2ms)[0m  [1m[32mINSERT INTO "categories" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Goat"], ["created_at", "2021-08-12 04:56:21.569711"], ["updated_at", "2021-08-12 04:56:21.569711"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "animals"[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" ORDER BY "categories"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Create (0.7ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Ham solo"], ["year_born", 2010], ["weight", 100], ["bio", "Proving pigs can fly"], ["species", "Chonker"], ["sponsor_price", 5000], ["category_id", 1], ["owner_id", 3], ["created_at", "2021-08-12 04:56:21.610598"], ["updated_at", "2021-08-12 04:56:21.610598"]]
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "d2o6ku1d0vh9ayhxbnykxnnqlj3s"], ["filename", "pig.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 63070], ["checksum", "90VAk/JgiPplQ/k0FbH5og=="], ["created_at", "2021-08-12 04:56:21.646154"]]
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 1], ["blob_id", 1], ["created_at", "2021-08-12 04:56:21.648689"]]
  [1m[36mAnimal Update (0.4ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-12 04:56:21.650887"], ["id", 1]]
  [1m[36mTRANSACTION (34.5ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (1.5ms) [0m[32mUploaded file to key: d2o6ku1d0vh9ayhxbnykxnnqlj3s (checksum: 90VAk/JgiPplQ/k0FbH5og==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: aa6ff873-3334-4b4a-af3e-b1564fd00a8e) to Async(default) with arguments: #<GlobalID:0x00007f959fb09c08 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/1>>
  [1m[36mCategory Load (2.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Create (0.4ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Vladimir mootin"], ["year_born", 2015], ["weight", 120], ["bio", "Theres a MosCOW joke there somewhere"], ["species", "President"], ["sponsor_price", 6000], ["category_id", 2], ["owner_id", 3], ["created_at", "2021-08-12 04:56:21.701673"], ["updated_at", "2021-08-12 04:56:21.701673"]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "zkqi9knh7qsvawhjxwvjd3s148dq"], ["filename", "cow.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 85749], ["checksum", "Yugf1sJBNAnlVPyCdAy9SA=="], ["created_at", "2021-08-12 04:56:21.709398"]]
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 2], ["blob_id", 2], ["created_at", "2021-08-12 04:56:21.711282"]]
  [1m[36mAnimal Update (0.4ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-12 04:56:21.713247"], ["id", 2]]
  [1m[36mTRANSACTION (27.6ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (1.7ms) [0m[32mUploaded file to key: zkqi9knh7qsvawhjxwvjd3s148dq (checksum: Yugf1sJBNAnlVPyCdAy9SA==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 2b94d7fe-5d6d-43b3-8cd6-e3e48308fa48) to Async(default) with arguments: #<GlobalID:0x00007f959fe3e130 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/2>>
  [1m[36mCategory Load (1.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAnimal Create (1.2ms)[0m  [1m[32mINSERT INTO "animals" ("name", "year_born", "weight", "bio", "species", "sponsor_price", "category_id", "owner_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["name", "Meryl sheep"], ["year_born", 2008], ["weight", 80], ["bio", "A Farmous Actress"], ["species", "Floofer"], ["sponsor_price", 10000], ["category_id", 3], ["owner_id", 3], ["created_at", "2021-08-12 04:56:21.755724"], ["updated_at", "2021-08-12 04:56:21.755724"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "service_name", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["key", "ku5fyqgtz8sco8rmb3rafy0agyid"], ["filename", "sheep.jpg"], ["content_type", "image/jpeg"], ["metadata", "{\"identified\":true}"], ["service_name", "local"], ["byte_size", 99269], ["checksum", "M/Dwzj+u/kr3gCzmCGfSeg=="], ["created_at", "2021-08-12 04:56:21.766025"]]
  [1m[36mActiveStorage::Blob Load (3.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa6ff873-3334-4b4a-af3e-b1564fd00a8e] Performing ActiveStorage::AnalyzeJob (Job ID: aa6ff873-3334-4b4a-af3e-b1564fd00a8e) from Async(default) enqueued at 2021-08-12T04:56:21Z with arguments: #<GlobalID:0x00007f959ae120d0 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/1>>
  [1m[36mActiveStorage::Attachment Create (1.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "profile_picture"], ["record_type", "Animal"], ["record_id", 3], ["blob_id", 3], ["created_at", "2021-08-12 04:56:21.768186"]]
  [1m[36mAnimal Update (2.5ms)[0m  [1m[33mUPDATE "animals" SET "updated_at" = $1 WHERE "animals"."id" = $2[0m  [["updated_at", "2021-08-12 04:56:21.772083"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa6ff873-3334-4b4a-af3e-b1564fd00a8e] [36m  Disk Storage (0.8ms) [0m[34mDownloaded file from key: d2o6ku1d0vh9ayhxbnykxnnqlj3s[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa6ff873-3334-4b4a-af3e-b1564fd00a8e] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa6ff873-3334-4b4a-af3e-b1564fd00a8e]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa6ff873-3334-4b4a-af3e-b1564fd00a8e]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[36mTRANSACTION (62.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa6ff873-3334-4b4a-af3e-b1564fd00a8e]   [1m[36mTRANSACTION (58.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [aa6ff873-3334-4b4a-af3e-b1564fd00a8e] Performed ActiveStorage::AnalyzeJob (Job ID: aa6ff873-3334-4b4a-af3e-b1564fd00a8e) from Async(default) in 71.73ms
[36m  Disk Storage (3.7ms) [0m[32mUploaded file to key: ku5fyqgtz8sco8rmb3rafy0agyid (checksum: M/Dwzj+u/kr3gCzmCGfSeg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d8f53c8c-c457-46cd-9298-1587305ef995) to Async(default) with arguments: #<GlobalID:0x00007f95a2034988 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/3>>
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d8f53c8c-c457-46cd-9298-1587305ef995] Performing ActiveStorage::AnalyzeJob (Job ID: d8f53c8c-c457-46cd-9298-1587305ef995) from Async(default) enqueued at 2021-08-12T04:56:21Z with arguments: #<GlobalID:0x00007f95a205ea80 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/3>>
  [1m[35m (2.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "articles"[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d8f53c8c-c457-46cd-9298-1587305ef995] [36m  Disk Storage (0.6ms) [0m[34mDownloaded file from key: ku5fyqgtz8sco8rmb3rafy0agyid[0m
  [1m[36mActiveStorage::Blob Load (6.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d8f53c8c-c457-46cd-9298-1587305ef995] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [2b94d7fe-5d6d-43b3-8cd6-e3e48308fa48] Performing ActiveStorage::AnalyzeJob (Job ID: 2b94d7fe-5d6d-43b3-8cd6-e3e48308fa48) from Async(default) enqueued at 2021-08-12T04:56:21Z with arguments: #<GlobalID:0x00007f95a20f88d8 @uri=#<URI::GID gid://save-their-bacon/ActiveStorage::Blob/2>>
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d8f53c8c-c457-46cd-9298-1587305ef995]   [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d8f53c8c-c457-46cd-9298-1587305ef995]   [1m[36mActiveStorage::Blob Update (0.8ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [2b94d7fe-5d6d-43b3-8cd6-e3e48308fa48] [36m  Disk Storage (1.7ms) [0m[34mDownloaded file from key: zkqi9knh7qsvawhjxwvjd3s148dq[0m
  [1m[36mArticle Create (1.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Article 1"], ["body", "This is the article"], ["created_at", "2021-08-12 04:56:21.860168"], ["updated_at", "2021-08-12 04:56:21.860168"]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [2b94d7fe-5d6d-43b3-8cd6-e3e48308fa48] Skipping image analysis because the mini_magick gem isn't installed
[ActiveJob] [ActiveStorage::AnalyzeJob] [2b94d7fe-5d6d-43b3-8cd6-e3e48308fa48]   [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2b94d7fe-5d6d-43b3-8cd6-e3e48308fa48]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d8f53c8c-c457-46cd-9298-1587305ef995]   [1m[36mTRANSACTION (27.7ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d8f53c8c-c457-46cd-9298-1587305ef995] Performed ActiveStorage::AnalyzeJob (Job ID: d8f53c8c-c457-46cd-9298-1587305ef995) from Async(default) in 43.43ms
[ActiveJob] [ActiveStorage::AnalyzeJob] [2b94d7fe-5d6d-43b3-8cd6-e3e48308fa48]   [1m[36mTRANSACTION (22.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (27.9ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2b94d7fe-5d6d-43b3-8cd6-e3e48308fa48] Performed ActiveStorage::AnalyzeJob (Job ID: 2b94d7fe-5d6d-43b3-8cd6-e3e48308fa48) from Async(default) in 33.36ms
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArticle Create (0.3ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Article 2"], ["body", "This is the article"], ["created_at", "2021-08-12 04:56:21.897079"], ["updated_at", "2021-08-12 04:56:21.897079"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mArticle Create (0.2ms)[0m  [1m[32mINSERT INTO "articles" ("title", "body", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["title", "Website Updates"], ["body", "I did a thing to the website"], ["created_at", "2021-08-12 04:56:21.901288"], ["updated_at", "2021-08-12 04:56:21.901288"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Started GET "/home" for ::1 at 2021-08-12 12:56:32 +0800
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PagesController#home as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Completed 401 Unauthorized in 41ms (ActiveRecord: 5.8ms | Allocations: 11528)


Started GET "/users/sign_in" for ::1 at 2021-08-12 12:56:32 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.5ms | Allocations: 507)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 13.6ms | Allocations: 3521)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 6.8ms | Allocations: 1449)
  Rendered layout layouts/application.html.erb (Duration: 148.1ms | Allocations: 24837)
Completed 200 OK in 165ms (Views: 162.1ms | ActiveRecord: 0.0ms | Allocations: 28488)


Started GET "/animals" for ::1 at 2021-08-12 12:56:34 +0800
Processing by AnimalsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.6ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 56.8ms | Allocations: 20043)
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.0ms | Allocations: 2018)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 3.6ms | Allocations: 1788)
  Rendered animals/index.html.erb within layouts/application (Duration: 107.4ms | Allocations: 43282)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 899)
  Rendered layout layouts/application.html.erb (Duration: 119.2ms | Allocations: 52481)
Completed 200 OK in 132ms (Views: 108.0ms | ActiveRecord: 12.9ms | Allocations: 58405)


Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee/pig.jpg" for ::1 at 2021-08-12 12:56:35 +0800
Started GET "/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19/cow.jpg" for ::1 at 2021-08-12 12:56:35 +0800
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaamh2T0hKbU9XVmpZV1EwT1dSMllqWnViRGg2WW5wNk5XWmtaUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA1OjAxOjAxLjU2N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--fb2e7a17ed36ae47267d314e335c7aaaab8fedcc/sheep.jpg" for ::1 at 2021-08-12 12:56:35 +0800
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--8edd60a2e555d5cc8c635781e178bdfbb03593ee", "filename"=>"pig"}
Processing by ActiveStorage::Blobs::RedirectController#show as JPEG
  Parameters: {"signed_id"=>"eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCdz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--dd1c3c495663c6c1efc50a6a7655c4501ec78f19", "filename"=>"cow"}
Processing by ActiveStorage::DiskController#show as JPEG
  [1m[36mActiveStorage::Blob Load (6.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (1.1ms) [0m[34mGenerated URL for file at key: d2o6ku1d0vh9ayhxbnykxnnqlj3s (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaREp2Tm10MU1XUXdkbWc1WVhsb2VHSnVlV3Q0Ym01eGJHb3pjd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTJUMDU6MDE6MzUuMTg0WiIsInB1ciI6ImJsb2Jfa2V5In19--a27dae26163f64f05a5118b2cf3c52314d8b1473/pig.jpg)[0m
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaREp2Tm10MU1XUXdkbWc1WVhsb2VHSnVlV3Q0Ym01eGJHb3pjd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTJUMDU6MDE6MzUuMTg0WiIsInB1ciI6ImJsb2Jfa2V5In19--a27dae26163f64f05a5118b2cf3c52314d8b1473/pig.jpg
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 852)


Completed 302 Found in 15ms (ActiveRecord: 6.6ms | Allocations: 5957)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaREp2Tm10MU1XUXdkbWc1WVhsb2VHSnVlV3Q0Ym01eGJHb3pjd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTJUMDU6MDE6MzUuMTg0WiIsInB1ciI6ImJsb2Jfa2V5In19--a27dae26163f64f05a5118b2cf3c52314d8b1473/pig.jpg" for ::1 at 2021-08-12 12:56:35 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 782)


  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (0.9ms) [0m[34mGenerated URL for file at key: zkqi9knh7qsvawhjxwvjd3s148dq (http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlbXR4YVRscmJtZzNjWE4yWVhkb2FuaDNkbXBrTTNNeE5EaGtjUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTJUMDU6MDE6MzUuMjA5WiIsInB1ciI6ImJsb2Jfa2V5In19--6ae60e382cc811b21ba16e774ab781dddb95b06d/cow.jpg)[0m
Redirected to http://localhost:3000/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlbXR4YVRscmJtZzNjWE4yWVhkb2FuaDNkbXBrTTNNeE5EaGtjUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTJUMDU6MDE6MzUuMjA5WiIsInB1ciI6ImJsb2Jfa2V5In19--6ae60e382cc811b21ba16e774ab781dddb95b06d/cow.jpg
Completed 302 Found in 33ms (ActiveRecord: 17.9ms | Allocations: 9777)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlbXR4YVRscmJtZzNjWE4yWVhkb2FuaDNkbXBrTTNNeE5EaGtjUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTJUMDU6MDE6MzUuMjA5WiIsInB1ciI6ImJsb2Jfa2V5In19--6ae60e382cc811b21ba16e774ab781dddb95b06d/cow.jpg" for ::1 at 2021-08-12 12:56:35 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 200 OK in 1ms (ActiveRecord: 0.0ms | Allocations: 356)


Started GET "/animals" for ::1 at 2021-08-12 12:56:38 +0800
Processing by AnimalsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.6ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.0ms | Allocations: 1880)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.1ms | Allocations: 1799)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.5ms | Allocations: 1788)
  Rendered animals/index.html.erb within layouts/application (Duration: 24.3ms | Allocations: 16373)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 14.6ms | Allocations: 881)
  Rendered layout layouts/application.html.erb (Duration: 113.9ms | Allocations: 25510)
Completed 200 OK in 116ms (Views: 111.8ms | ActiveRecord: 2.7ms | Allocations: 26131)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlbXR4YVRscmJtZzNjWE4yWVhkb2FuaDNkbXBrTTNNeE5EaGtjUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTJUMDU6MDE6MzUuMjA5WiIsInB1ciI6ImJsb2Jfa2V5In19--6ae60e382cc811b21ba16e774ab781dddb95b06d/cow.jpg" for ::1 at 2021-08-12 12:56:39 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaREp2Tm10MU1XUXdkbWc1WVhsb2VHSnVlV3Q0Ym01eGJHb3pjd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTJUMDU6MDE6MzUuMTg0WiIsInB1ciI6ImJsb2Jfa2V5In19--a27dae26163f64f05a5118b2cf3c52314d8b1473/pig.jpg" for ::1 at 2021-08-12 12:56:39 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 8ms (ActiveRecord: 0.0ms | Allocations: 692)


Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.0ms | Allocations: 467)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaamh2T0hKbU9XVmpZV1EwT1dSMllqWnViRGg2WW5wNk5XWmtaUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA1OjAxOjAxLjU2N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--fb2e7a17ed36ae47267d314e335c7aaaab8fedcc/sheep.jpg" for ::1 at 2021-08-12 12:56:39 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms | Allocations: 683)


Started GET "/animals/1" for ::1 at 2021-08-12 12:56:45 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mAnimal Load (0.2ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:110:in `set_animal'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:110:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 1]]
  ↳ app/controllers/animals_controller.rb:110:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mAddress Load (0.5ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.3ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.3ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.4ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:81
  Rendered animals/show.html.erb within layouts/application (Duration: 51.1ms | Allocations: 22814)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.1ms | Allocations: 847)
  Rendered layout layouts/application.html.erb (Duration: 63.2ms | Allocations: 31751)
Completed 200 OK in 77ms (Views: 51.0ms | ActiveRecord: 13.8ms | Allocations: 36389)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaamh2T0hKbU9XVmpZV1EwT1dSMllqWnViRGg2WW5wNk5XWmtaUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA1OjAxOjAxLjU2N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--fb2e7a17ed36ae47267d314e335c7aaaab8fedcc/sheep.jpg" for ::1 at 2021-08-12 12:56:46 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms | Allocations: 756)


Started GET "/animals" for ::1 at 2021-08-12 12:56:48 +0800
Processing by AnimalsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaamh2T0hKbU9XVmpZV1EwT1dSMllqWnViRGg2WW5wNk5XWmtaUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA1OjAxOjAxLjU2N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--fb2e7a17ed36ae47267d314e335c7aaaab8fedcc/sheep.jpg" for ::1 at 2021-08-12 12:56:48 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms | Allocations: 697)


  [1m[36mAnimal Load (24.9ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (10.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (2.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 17.7ms | Allocations: 1834)
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 6.6ms | Allocations: 1799)
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 8.4ms | Allocations: 1788)
  Rendered animals/index.html.erb within layouts/application (Duration: 101.4ms | Allocations: 18391)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.8ms | Allocations: 864)
  Rendered layout layouts/application.html.erb (Duration: 138.4ms | Allocations: 27381)
Completed 200 OK in 142ms (Views: 99.9ms | ActiveRecord: 39.5ms | Allocations: 27988)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaamh2T0hKbU9XVmpZV1EwT1dSMllqWnViRGg2WW5wNk5XWmtaUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA1OjAxOjAxLjU2N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--fb2e7a17ed36ae47267d314e335c7aaaab8fedcc/sheep.jpg" for ::1 at 2021-08-12 12:56:48 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 701)


Started GET "/animals/3" for ::1 at 2021-08-12 12:56:49 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:110:in `set_animal'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:110:in `set_animal'
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:110:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mAddress Load (0.3ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.7ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (1.0ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:81
  Rendered animals/show.html.erb within layouts/application (Duration: 14.3ms | Allocations: 4597)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.4ms | Allocations: 810)
  Rendered layout layouts/application.html.erb (Duration: 45.6ms | Allocations: 13418)
Completed 200 OK in 70ms (Views: 43.5ms | ActiveRecord: 3.5ms | Allocations: 16022)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaamh2T0hKbU9XVmpZV1EwT1dSMllqWnViRGg2WW5wNk5XWmtaUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA1OjAxOjAxLjU2N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--fb2e7a17ed36ae47267d314e335c7aaaab8fedcc/sheep.jpg" for ::1 at 2021-08-12 12:56:50 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 687)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaamh2T0hKbU9XVmpZV1EwT1dSMllqWnViRGg2WW5wNk5XWmtaUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA1OjAxOjAxLjU2N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--fb2e7a17ed36ae47267d314e335c7aaaab8fedcc/sheep.jpg" for ::1 at 2021-08-12 12:56:51 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 694)


Started GET "/animals/2" for ::1 at 2021-08-12 12:56:52 +0800
Processing by AnimalsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mAnimal Load (0.6ms)[0m  [1m[34mSELECT "animals".* FROM "animals" WHERE "animals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/animals_controller.rb:110:in `set_animal'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  ↳ app/controllers/animals_controller.rb:110:in `set_animal'
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1[0m  [["id", 2]]
  ↳ app/controllers/animals_controller.rb:110:in `set_animal'
  Rendering layout layouts/application.html.erb
  Rendering animals/show.html.erb within layouts/application
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:6
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mState Load (0.2ms)[0m  [1m[34mSELECT "states".* FROM "states" WHERE "states"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mCountry Load (0.2ms)[0m  [1m[34mSELECT "countries".* FROM "countries" WHERE "countries"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/user.rb:27:in `get_simple_location'
  [1m[36mSponsorship Load (0.2ms)[0m  [1m[34mSELECT "sponsorships".* FROM "sponsorships" WHERE "sponsorships"."animal_id" = $1 LIMIT $2[0m  [["animal_id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/show.html.erb:81
  Rendered animals/show.html.erb within layouts/application (Duration: 11.0ms | Allocations: 4581)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 2.0ms | Allocations: 813)
  Rendered layout layouts/application.html.erb (Duration: 25.6ms | Allocations: 13606)
Completed 200 OK in 34ms (Views: 24.9ms | ActiveRecord: 2.5ms | Allocations: 16181)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaamh2T0hKbU9XVmpZV1EwT1dSMllqWnViRGg2WW5wNk5XWmtaUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA1OjAxOjAxLjU2N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--fb2e7a17ed36ae47267d314e335c7aaaab8fedcc/sheep.jpg" for ::1 at 2021-08-12 12:56:52 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 681)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaamh2T0hKbU9XVmpZV1EwT1dSMllqWnViRGg2WW5wNk5XWmtaUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA1OjAxOjAxLjU2N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--fb2e7a17ed36ae47267d314e335c7aaaab8fedcc/sheep.jpg" for ::1 at 2021-08-12 12:56:54 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 404 Not Found in 1ms (ActiveRecord: 0.0ms | Allocations: 681)


Started GET "/animals" for ::1 at 2021-08-12 12:57:20 +0800
Processing by AnimalsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering animals/index.html.erb within layouts/application
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  ↳ app/views/animals/index.html.erb:18
  [1m[36mAnimal Load (0.3ms)[0m  [1m[34mSELECT "animals".* FROM "animals"[0m
  ↳ app/views/animals/index.html.erb:54
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.5ms | Allocations: 1794)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 5.8ms | Allocations: 1799)
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "Animal"], ["name", "profile_picture"], ["LIMIT", 1]]
  ↳ app/helpers/animals_helper.rb:3:in `image_select'
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/animals/_card.html.erb:1
  Rendered animals/_card.html.erb (Duration: 4.2ms | Allocations: 1788)
  Rendered animals/index.html.erb within layouts/application (Duration: 23.3ms | Allocations: 16151)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered shared/_navbar.html.erb (Duration: 1.8ms | Allocations: 850)
  Rendered layout layouts/application.html.erb (Duration: 39.6ms | Allocations: 24925)
Completed 200 OK in 41ms (Views: 38.5ms | ActiveRecord: 1.8ms | Allocations: 25489)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaREp2Tm10MU1XUXdkbWc1WVhsb2VHSnVlV3Q0Ym01eGJHb3pjd1k2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5CcFp5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjNCcFp5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTJUMDU6MDE6MzUuMTg0WiIsInB1ciI6ImJsb2Jfa2V5In19--a27dae26163f64f05a5118b2cf3c52314d8b1473/pig.jpg" for ::1 at 2021-08-12 12:57:20 +0800
Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhlbXR4YVRscmJtZzNjWE4yWVhkb2FuaDNkbXBrTTNNeE5EaGtjUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpT1dsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW1OdmR5NXFjR2NpT3lCbWFXeGxibUZ0WlNvOVZWUkdMVGduSjJOdmR5NXFjR2NHT3daVU9oRmpiMjUwWlc1MFgzUjVjR1ZKSWc5cGJXRm5aUzlxY0dWbkJqc0dWRG9SYzJWeWRtbGpaVjl1WVcxbE9ncHNiMk5oYkE9PSIsImV4cCI6IjIwMjEtMDgtMTJUMDU6MDE6MzUuMjA5WiIsInB1ciI6ImJsb2Jfa2V5In19--6ae60e382cc811b21ba16e774ab781dddb95b06d/cow.jpg" for ::1 at 2021-08-12 12:57:20 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"pig"}
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"cow"}
Completed 304 Not Modified in 1ms (ActiveRecord: 0.0ms | Allocations: 347)


Completed 304 Not Modified in 4ms (ActiveRecord: 0.0ms | Allocations: 1399)


Started GET "/rails/active_storage/disk/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdDVG9JYTJWNVNTSWhaamh2T0hKbU9XVmpZV1EwT1dSMllqWnViRGg2WW5wNk5XWmtaUVk2QmtWVU9oQmthWE53YjNOcGRHbHZia2tpUFdsdWJHbHVaVHNnWm1sc1pXNWhiV1U5SW5Ob1pXVndMbXB3WnlJN0lHWnBiR1Z1WVcxbEtqMVZWRVl0T0NjbmMyaGxaWEF1YW5CbkJqc0dWRG9SWTI5dWRHVnVkRjkwZVhCbFNTSVBhVzFoWjJVdmFuQmxad1k3QmxRNkVYTmxjblpwWTJWZmJtRnRaVG9LYkc5allXdz0iLCJleHAiOiIyMDIxLTA4LTEyVDA1OjAxOjAxLjU2N1oiLCJwdXIiOiJibG9iX2tleSJ9fQ==--fb2e7a17ed36ae47267d314e335c7aaaab8fedcc/sheep.jpg" for ::1 at 2021-08-12 12:57:20 +0800
Processing by ActiveStorage::DiskController#show as JPEG
  Parameters: {"encoded_key"=>"[FILTERED]", "filename"=>"sheep"}
Completed 404 Not Found in 2ms (ActiveRecord: 0.0ms | Allocations: 685)


